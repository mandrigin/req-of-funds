{"id":"rff-0biz","title":"Digest: mol-witness-patrol","description":"Patrol 8: slit manifesting solution","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:52:23.862034+01:00","updated_at":"2026-01-25T13:52:23.862034+01:00","closed_at":"2026-01-25T13:52:23.861958+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-0enz","title":"Fix PDF highlights - PDFTextFinder returns wrong bounds","description":"attached_molecule: rff-wisp-1ek5\nattached_at: 2026-01-25T16:47:24Z\ndispatched_by: mayor\n\nPDFTextFinder.findPattern() uses document.findString() which searches from document start. If the same text appears on an earlier page, it returns wrong bounds. Need to use page.selection(for: range) based on character positions from the regex match instead. This is why screenshot highlights work (use Vision coordinates directly) but PDF highlights don't.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/slit","created_at":"2026-01-25T17:46:55.727827+01:00","created_by":"mayor","updated_at":"2026-01-25T17:48:52.415138+01:00","closed_at":"2026-01-25T17:48:52.415139+01:00","dependencies":[{"issue_id":"rff-0enz","depends_on_id":"rff-wisp-1ek5","type":"blocks","created_at":"2026-01-25T17:47:23.995743+01:00","created_by":"mayor"}]}
{"id":"rff-0gnv","title":"Add Inbox/Confirmed tab filtering UI","description":"attached_molecule: rff-wisp-pvdb\nattached_at: 2026-01-25T15:23:35Z\ndispatched_by: mayor\n\nAdd two-tab or sidebar filter to separate unconfirmed (pending/underReview) from confirmed (approved/completed) documents. Use @Query with predicate filtering on RFFStatus.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/toast","created_at":"2026-01-25T16:22:38.590429+01:00","created_by":"mayor","updated_at":"2026-01-25T16:34:10.205965+01:00","closed_at":"2026-01-25T16:34:10.205965+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-0gnv","depends_on_id":"rff-wisp-5vx9","type":"blocks","created_at":"2026-01-25T16:23:35.192116+01:00","created_by":"mayor"},{"issue_id":"rff-0gnv","depends_on_id":"rff-wisp-pvdb","type":"blocks","created_at":"2026-01-25T16:29:17.620148+01:00","created_by":"mayor"}]}
{"id":"rff-0no1h","title":"Regression: Navigation tabs position wrong (on right instead of left)","description":"attached_molecule: rff-wisp-vmh9\nattached_at: 2026-01-25T19:32:16Z\ndispatched_by: mayor","status":"hooked","priority":1,"issue_type":"bug","assignee":"rff/polecats/corpus","created_at":"2026-01-25T20:31:06.471782+01:00","created_by":"mayor","updated_at":"2026-01-25T20:32:16.942986+01:00","dependencies":[{"issue_id":"rff-0no1h","depends_on_id":"rff-wisp-vmh9","type":"blocks","created_at":"2026-01-25T20:32:15.803118+01:00","created_by":"mayor"}]}
{"id":"rff-14ed","title":"Add right-click context menu on Library table header to show/hide columns","description":"attached_molecule: rff-wisp-orxf\nattached_at: 2026-01-25T18:35:09Z\ndispatched_by: mayor\n\nAllow users to right-click on the table header in Library view to select which columns/fields they want to see. Standard macOS table column visibility feature.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/splendid","created_at":"2026-01-25T19:34:30.763059+01:00","created_by":"mayor","updated_at":"2026-01-25T19:42:01.456863+01:00","closed_at":"2026-01-25T19:42:01.456863+01:00","close_reason":"Implemented right-click context menu on table header for column visibility. Column preferences persist to UserDefaults.","dependencies":[{"issue_id":"rff-14ed","depends_on_id":"rff-wisp-orxf","type":"blocks","created_at":"2026-01-25T19:35:08.088992+01:00","created_by":"mayor"}]}
{"id":"rff-19ll","title":"Fix Re-detect button - doesn't update highlights","description":"attached_molecule: rff-wisp-2dmv\nattached_at: 2026-01-25T17:34:48Z\ndispatched_by: mayor\n\nRe-detect button calls detectAllFields() but nothing visually changes. Need to ensure detection updates highlights array and forces UI refresh.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/morsov","created_at":"2026-01-25T18:34:15.026763+01:00","created_by":"mayor","updated_at":"2026-01-25T18:38:40.189451+01:00","closed_at":"2026-01-25T18:38:40.189451+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-19ll","depends_on_id":"rff-wisp-2dmv","type":"blocks","created_at":"2026-01-25T18:34:47.302174+01:00","created_by":"mayor"}]}
{"id":"rff-1gn","title":"Digest: mol-witness-patrol","description":"Patrol cycle 2: No changes. Furiosa still waiting on SSH fix (escalated). Refinery running. Clean inbox.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:10:23.288468+01:00","updated_at":"2026-01-25T13:10:23.288468+01:00","closed_at":"2026-01-25T13:10:23.28839+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-1iq7","title":"Fix screenshot paste - show preview and extract details","description":"attached_molecule: rff-wisp-94u9\nattached_at: 2026-01-25T16:32:30Z\ndispatched_by: mayor\n\nWhen pasting screenshots, no preview is shown and details are not being recognized/extracted. Fix the paste handler to display the image and run OCR extraction on pasted screenshots.","status":"hooked","priority":1,"issue_type":"bug","assignee":"rff/polecats/dementus","created_at":"2026-01-25T17:31:59.737557+01:00","created_by":"mayor","updated_at":"2026-01-25T17:32:30.56368+01:00","dependencies":[{"issue_id":"rff-1iq7","depends_on_id":"rff-wisp-94u9","type":"blocks","created_at":"2026-01-25T17:32:29.669335+01:00","created_by":"mayor"}]}
{"id":"rff-1jzo","title":"Fix Xcode project build - add missing files and disable Keychain","description":"attached_molecule: rff-wisp-g2k\nattached_at: 2026-01-25T12:49:01Z\ndispatched_by: mayor\n\n1) Add all missing Swift files to project.pbxproj (AppDelegate, Services/*, Models/*, Views/*, ML/*). 2) Remove or comment out Keychain/Touch ID code to avoid entitlements. 3) Remove entitlements file from project. Goal: clean build without code signing.","notes":"Implemented: Added all missing Swift files to project.pbxproj, removed entitlements and CODE_SIGN_ENTITLEMENTS to enable building without code signing. KeychainManager.swift excluded as it requires entitlements and is unused.","status":"closed","priority":0,"issue_type":"bug","assignee":"rff/polecats/slit","created_at":"2026-01-25T13:48:34.11677+01:00","created_by":"mayor","updated_at":"2026-01-25T13:57:48.909529+01:00","closed_at":"2026-01-25T13:57:48.909529+01:00","close_reason":"Build fix verified - BUILD SUCCEEDED","dependencies":[{"issue_id":"rff-1jzo","depends_on_id":"rff-wisp-g2k","type":"blocks","created_at":"2026-01-25T13:49:00.382706+01:00","created_by":"mayor"}]}
{"id":"rff-1pz6","title":"Investigate on-device LLM for macOS (Apple Intelligence / MLX)","description":"attached_molecule: rff-wisp-p1rc\nattached_at: 2026-01-25T17:32:20Z\ndispatched_by: mayor\n\nResearch options for on-device AI analysis without API keys:\n\n1. Apple Intelligence - check if Writing Tools or other APIs available for 3rd party apps\n2. MLX framework - run local models (Llama, Mistral, etc.)  \n3. Ollama integration - if user has Ollama installed\n4. Core ML with GGUF models\n\nGoal: Allow AI analysis without internet/API keys using on-device models.\n\nNote: Apple Intelligence APIs may be limited. MLX or Ollama might be more practical.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/organic","created_at":"2026-01-25T18:31:47.599562+01:00","created_by":"mayor","updated_at":"2026-01-25T18:38:32.755368+01:00","closed_at":"2026-01-25T18:38:32.755368+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-1pz6","depends_on_id":"rff-wisp-p1rc","type":"blocks","created_at":"2026-01-25T18:32:19.938473+01:00","created_by":"mayor"}],"comments":[{"id":4,"issue_id":"rff-1pz6","author":"rff/polecats/organic","text":"Research complete: Documented 4 on-device LLM options in docs/on-device-llm-research.md. Recommended Apple Foundation Models (macOS 26+) as primary, MLX as secondary fallback. See docs for full comparison matrix and implementation phases.","created_at":"2026-01-25T17:37:51Z"}]}
{"id":"rff-1sr7","title":"Merge: rff-jbyu","description":"branch: polecat/dag/rff-jbyu@mktzbi8t\ntarget: main\nsource_issue: rff-jbyu\nrig: rff\nworker: dag\nagent_bead: rff-rff-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:59.803565+01:00","created_by":"rff/polecats/dag","updated_at":"2026-01-25T20:26:41.282955+01:00","closed_at":"2026-01-25T20:26:41.282957+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-35ho","title":"Wire up drag-drop invoice parsing end-to-end","description":"attached_molecule: rff-wisp-56s\nattached_at: 2026-01-25T13:13:34Z\ndispatched_by: mayor\n\nThe app builds but dropping invoices does nothing. Need to wire up: 1) Accept PDF drops in main view 2) Run Vision OCR on dropped PDF 3) Extract entities (org name, amount, due date) using EntityExtractionService 4) Create new RFFDocument/LineItem with extracted data 5) Display in table view 6) Save to SwiftData. Make the core flow work: drop PDF → see extracted invoice data in table.","status":"closed","priority":0,"issue_type":"bug","assignee":"rff/polecats/dementus","created_at":"2026-01-25T14:13:07.630902+01:00","created_by":"mayor","updated_at":"2026-01-25T14:26:38.628913+01:00","closed_at":"2026-01-25T14:26:38.628913+01:00","close_reason":"Merged and build verified","dependencies":[{"issue_id":"rff-35ho","depends_on_id":"rff-wisp-3tj","type":"blocks","created_at":"2026-01-25T14:13:33.380707+01:00","created_by":"mayor"},{"issue_id":"rff-35ho","depends_on_id":"rff-wisp-56s","type":"blocks","created_at":"2026-01-25T14:19:23.961168+01:00","created_by":"mayor"}]}
{"id":"rff-3emw","title":"Add amount and date extraction service","description":"attached_molecule: rff-wisp-q3gp\nattached_at: 2026-01-25T15:24:22Z\ndispatched_by: mayor\n\nCreate service to parse OCR text and extract monetary amounts (USD patterns like $1,234.56) and dates (various formats). Return structured ExtractedData with confidence scores and bounding box references.","notes":"Implemented AmountDateExtractionService that extracts monetary amounts (USD patterns) and dates from OCR observations while preserving bounding box references for document highlighting. Returns ExtractedData struct with confidence scores.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/rictus","created_at":"2026-01-25T16:22:40.235402+01:00","created_by":"mayor","updated_at":"2026-01-25T16:29:40.960833+01:00","closed_at":"2026-01-25T16:29:40.960833+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-3emw","depends_on_id":"rff-wisp-q3gp","type":"blocks","created_at":"2026-01-25T16:24:21.943703+01:00","created_by":"mayor"}]}
{"id":"rff-3ex7","title":"Merge: rff-0gnv","description":"branch: polecat/toast/rff-0gnv@mktw8vud\ntarget: main\nsource_issue: rff-0gnv\nrig: rff\nworker: toast\nagent_bead: rff-rff-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:07.46328+01:00","created_by":"rff/polecats/toast","updated_at":"2026-01-25T16:35:22.652076+01:00","closed_at":"2026-01-25T16:35:22.652076+01:00","close_reason":"Merged to main (commit bee7cc8)","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-3mq","title":"Build entity extraction with NaturalLanguage and custom regex","description":"attached_molecule: rff-wisp-4jk\nattached_at: 2026-01-25T12:45:16Z\ndispatched_by: mayor\n\nExtract entities from OCR text: 1) Use NLTagger with .nameType scheme and .joinNames option for organization names. 2) Use NSDataDetector for dates (.date type). 3) Implement custom regex for currency: $[\\d,]+\\.?\\d*|[\\d,]+\\.?\\d*\\s*(USD|dollars?) since NLTagger has no native currency support. 4) Combine into extraction pipeline returning org name, due date, and amount.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/nux","created_at":"2026-01-25T12:59:33.576514+01:00","created_by":"mayor","updated_at":"2026-01-25T13:46:38.914549+01:00","closed_at":"2026-01-25T13:46:38.914549+01:00","close_reason":"Already implemented - commit dce31c8","dependencies":[{"issue_id":"rff-3mq","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.462048+01:00","created_by":"mayor"},{"issue_id":"rff-3mq","depends_on_id":"rff-9q4","type":"blocks","created_at":"2026-01-25T12:59:50.024477+01:00","created_by":"mayor"},{"issue_id":"rff-3mq","depends_on_id":"rff-wisp-4jk","type":"blocks","created_at":"2026-01-25T13:45:15.454486+01:00","created_by":"mayor"}]}
{"id":"rff-3xr6","title":"Add 'To/Recipient' field to schema for grouping invoices by recipient","description":"attached_molecule: rff-wisp-d10i\nattached_at: 2026-01-25T18:16:33Z\ndispatched_by: mayor\n\nUser has 3 recipients (1 private, 2 companies) and wants to group invoices by who they're addressed to. Add a 'to' or 'recipient' field to InvoiceFieldType and extraction, then allow grouping/filtering by recipient in the Library view.","status":"hooked","priority":2,"issue_type":"task","assignee":"rff/polecats/keeper","created_at":"2026-01-25T19:15:56.723302+01:00","created_by":"mayor","updated_at":"2026-01-25T19:16:34.192476+01:00","dependencies":[{"issue_id":"rff-3xr6","depends_on_id":"rff-wisp-d10i","type":"blocks","created_at":"2026-01-25T19:16:32.334621+01:00","created_by":"mayor"}]}
{"id":"rff-3z9n","title":"Digest: mol-witness-patrol","description":"Patrol 4: slit actively working, furiosa/nux idle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:50:28.523176+01:00","updated_at":"2026-01-25T13:50:28.523176+01:00","closed_at":"2026-01-25T13:50:28.523074+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-4zum","title":"Merge: rff-wair","description":"branch: polecat/keeper/rff-wair@mktzy4o6\ntarget: main\nsource_issue: rff-wair\nrig: rff\nworker: keeper\nagent_bead: rff-rff-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:27:18.808625+01:00","created_by":"rff/polecats/keeper","updated_at":"2026-01-25T20:26:45.218624+01:00","closed_at":"2026-01-25T20:26:45.218628+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-558uj","title":"Add AIProvider.foundation case to provider enum","description":"attached_molecule: rff-wisp-6swd\nattached_at: 2026-01-25T19:24:00Z\ndispatched_by: mayor\n\nAdd a new case to the AI provider enum for Apple Foundation Models.\n\n- Add `case foundation` to AIProvider enum\n- Add display name 'On-Device (Apple Intelligence)'\n- Add availability check for macOS 26+\n- Provider should only be visible/selectable on compatible systems\n\nParent epic: rff-9z09d","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/goose","created_at":"2026-01-25T20:23:12.518928+01:00","created_by":"mayor","updated_at":"2026-01-25T20:27:17.22412+01:00","closed_at":"2026-01-25T20:27:17.22412+01:00","close_reason":"completed","dependencies":[{"issue_id":"rff-558uj","depends_on_id":"rff-9z09d","type":"blocks","created_at":"2026-01-25T20:23:12.671724+01:00","created_by":"mayor"},{"issue_id":"rff-558uj","depends_on_id":"rff-wisp-6swd","type":"blocks","created_at":"2026-01-25T20:23:59.9817+01:00","created_by":"mayor"}]}
{"id":"rff-5gp","title":"Merge: rff-bvp","description":"branch: polecat/slit/rff-bvp@mktpklbq\ntarget: main\nsource_issue: rff-bvp\nrig: rff\nworker: slit\nagent_bead: rff-rff-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:28:58.945013+01:00","created_by":"rff/polecats/slit","updated_at":"2026-01-25T13:32:45.628939+01:00","closed_at":"2026-01-25T13:32:45.628939+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-5i8m","title":"Merge: rff-6io6","description":"branch: polecat/valkyrie/rff-6io6@mktzgs8t\ntarget: main\nsource_issue: rff-6io6\nrig: rff\nworker: valkyrie","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:45.29641+01:00","created_by":"rff/polecats/valkyrie","updated_at":"2026-01-25T20:26:41.706192+01:00","closed_at":"2026-01-25T20:26:41.706193+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-5u36","title":"Digest: mol-witness-patrol","description":"Patrol 10: slit completed/nuked, furiosa/nux idle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:57:39.819033+01:00","updated_at":"2026-01-25T13:57:39.819033+01:00","closed_at":"2026-01-25T13:57:39.818829+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-5u9g","title":"Add AI Analyze button stub with TODO","description":"attached_molecule: rff-wisp-kwbq\nattached_at: 2026-01-25T15:30:35Z\ndispatched_by: mayor\n\nAdd an 'AI Analyze' button to the document detail view that will trigger LLM-based analysis. Keep as a stub with TODO comment for future implementation.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/nux","created_at":"2026-01-25T16:28:12.541101+01:00","created_by":"mayor","updated_at":"2026-01-25T17:02:38.810265+01:00","closed_at":"2026-01-25T17:02:38.810265+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-5428","type":"blocks","created_at":"2026-01-25T16:30:35.234225+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-yjgj","type":"blocks","created_at":"2026-01-25T16:33:20.791722+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-y35c","type":"blocks","created_at":"2026-01-25T16:35:31.435214+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-opbs","type":"blocks","created_at":"2026-01-25T16:40:46.593743+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-ep9x","type":"blocks","created_at":"2026-01-25T16:44:55.58778+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-cme3","type":"blocks","created_at":"2026-01-25T16:52:20.439154+01:00","created_by":"mayor"},{"issue_id":"rff-5u9g","depends_on_id":"rff-wisp-kwbq","type":"blocks","created_at":"2026-01-25T17:00:53.019555+01:00","created_by":"mayor"}]}
{"id":"rff-63o","title":"Digest: mol-witness-patrol","description":"Patrol cycle 6: Stable. No polecats, empty inbox.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:43.933936+01:00","updated_at":"2026-01-25T13:13:43.933936+01:00","closed_at":"2026-01-25T13:13:43.933842+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-66nd","title":"Fix document preview highlights not showing","description":"attached_molecule: rff-wisp-dgr0\nattached_at: 2026-01-25T16:30:46Z\ndispatched_by: mayor\n\nHighlights from OCR bounding boxes are not visible in the document preview. Debug DocumentPreviewView to ensure highlight overlays are being drawn correctly over extracted amounts and dates.","status":"closed","priority":1,"issue_type":"bug","assignee":"rff/polecats/slit","created_at":"2026-01-25T17:30:17.436536+01:00","created_by":"mayor","updated_at":"2026-01-25T17:38:47.346262+01:00","closed_at":"2026-01-25T17:38:47.346262+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-66nd","depends_on_id":"rff-wisp-24j5","type":"blocks","created_at":"2026-01-25T17:30:46.02349+01:00","created_by":"mayor"},{"issue_id":"rff-66nd","depends_on_id":"rff-wisp-dgr0","type":"blocks","created_at":"2026-01-25T17:35:27.712943+01:00","created_by":"mayor"}]}
{"id":"rff-6910","title":"Review and Confirm section should update when library selection changes - like the Info panel does","description":"attached_molecule: rff-wisp-qt48\nattached_at: 2026-01-25T17:52:09Z\ndispatched_by: mayor\n\nCurrently the Review and Confirm section may not be updating when a different document is selected in the library. It should sync with the Info panel behavior and show details for the currently selected document.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/coma","created_at":"2026-01-25T18:51:37.571578+01:00","created_by":"mayor","updated_at":"2026-01-25T18:58:04.585447+01:00","closed_at":"2026-01-25T18:58:04.585447+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-6910","depends_on_id":"rff-wisp-qt48","type":"blocks","created_at":"2026-01-25T18:52:08.798667+01:00","created_by":"mayor"}],"comments":[{"id":6,"issue_id":"rff-6910","author":"rff/polecats/coma","text":"Implemented: Added onChange(of: document.id) to ConfirmationFormView.swift to reinitialize form fields when library selection changes. This mirrors how the Info panel works - reading directly from the document binding.","created_at":"2026-01-25T17:57:37Z"}]}
{"id":"rff-6io6","title":"Show total amounts in Library view","description":"attached_molecule: rff-wisp-judc\nattached_at: 2026-01-25T16:59:28Z\ndispatched_by: mayor\n\nIn Library view (ContentView):\n1. When documents are selected: show total amount for selected documents, grouped by currency if multiple currencies\n2. When nothing selected: show grand total of all documents in current tab (Inbox or Confirmed), grouped by currency\n\nDisplay at bottom of list or in toolbar. Format like: 'Total: $5,000 USD, €2,500 EUR'","status":"hooked","priority":2,"issue_type":"task","assignee":"rff/polecats/valkyrie","created_at":"2026-01-25T17:58:44.672252+01:00","created_by":"mayor","updated_at":"2026-01-25T17:59:29.042168+01:00","dependencies":[{"issue_id":"rff-6io6","depends_on_id":"rff-wisp-judc","type":"blocks","created_at":"2026-01-25T17:59:27.521683+01:00","created_by":"mayor"}]}
{"id":"rff-70k6","title":"Store OpenAI API key in UserDefaults instead of Keychain","description":"attached_molecule: rff-wisp-n3wu\nattached_at: 2026-01-25T17:04:04Z\ndispatched_by: mayor\n\nChange AIAnalysisService to:\n\n1. Store API keys in UserDefaults instead of Keychain (no permissions needed)\n2. Support BOTH OpenAI and Claude/Anthropic APIs\n3. Auto-detect available API:\n   - Check for ANTHROPIC_API_KEY env var\n   - Check for OPENAI_API_KEY env var  \n   - Check UserDefaults for stored keys\n4. Settings UI: toggle between OpenAI/Claude, enter API key for each\n5. Use Claude API format when Anthropic selected (messages endpoint)\n\nPriority: Claude support (since user has Claude Code running)","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/dag","created_at":"2026-01-25T18:03:21.447115+01:00","created_by":"mayor","updated_at":"2026-01-25T18:14:37.143567+01:00","closed_at":"2026-01-25T18:14:37.143567+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-70k6","depends_on_id":"rff-wisp-n3wu","type":"blocks","created_at":"2026-01-25T18:04:03.965626+01:00","created_by":"mayor"},{"issue_id":"rff-70k6","depends_on_id":"rff-wisp-bps1","type":"blocks","created_at":"2026-01-25T18:09:21.893555+01:00","created_by":"mayor"}]}
{"id":"rff-7884","title":"Digest: mol-witness-patrol","description":"Patrol complete: 1 active polecat (furiosa, user-active), 1 new (nux), refinery running, no MRs, inbox cleared","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:46.527703+01:00","updated_at":"2026-01-25T13:45:46.527703+01:00","closed_at":"2026-01-25T13:45:46.527623+01:00","close_reason":"Squashed from 8 wisps"}
{"id":"rff-78mz","title":"Merge: rff-qids","description":"branch: polecat/nux/rff-qids@mktrfz4m\ntarget: main\nsource_issue: rff-qids\nrig: rff\nworker: nux\nagent_bead: rff-rff-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-25T14:21:18.220083+01:00","created_by":"rff/polecats/nux","updated_at":"2026-01-25T16:25:04.776683+01:00","closed_at":"2026-01-25T16:25:04.776683+01:00","close_reason":"Already merged to main (commit 31dfbc8)","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-79u0","title":"Merge: rff-ze6v","description":"branch: polecat/splendid/rff-ze6v@mku2gm0j\ntarget: main\nsource_issue: rff-ze6v\nrig: rff\nworker: splendid\nagent_bead: rff-rff-polecat-splendid\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:29:05.916378+01:00","created_by":"rff/polecats/splendid","updated_at":"2026-01-25T20:26:52.731399+01:00","closed_at":"2026-01-25T20:26:52.731401+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-7bh","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-25T12:56:13.431173+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:13.431173+01:00"}
{"id":"rff-7xu7","title":"Remove unnecessary 'title' field from Library view","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/splendid","created_at":"2026-01-25T18:54:31.300759+01:00","created_by":"mayor","updated_at":"2026-01-25T19:06:38.893022+01:00","closed_at":"2026-01-25T19:06:38.893022+01:00","close_reason":"Removed Title column from Library table view in ContentView.swift","dependencies":[{"issue_id":"rff-7xu7","depends_on_id":"rff-wisp-g9g0","type":"blocks","created_at":"2026-01-25T19:03:57.527773+01:00","created_by":"mayor"}]}
{"id":"rff-7za","title":"Create Xcode project file (.xcodeproj)","description":"attached_molecule: rff-wisp-003\nattached_at: 2026-01-25T12:30:33Z\ndispatched_by: mayor\n\nCRITICAL: The RFF app has Swift source files but NO .xcodeproj file. Cannot build or run. Need to create RFF.xcodeproj with: 1) macOS 14+ deployment target, 2) SwiftUI App lifecycle, 3) SwiftData capability, 4) Entitlements file reference, 5) All existing source files added to target.","status":"closed","priority":0,"issue_type":"bug","assignee":"rff/polecats/slit","created_at":"2026-01-25T13:30:05.206503+01:00","created_by":"mayor","updated_at":"2026-01-25T13:35:17.175008+01:00","closed_at":"2026-01-25T13:35:17.175008+01:00","close_reason":"Merged to main","dependencies":[{"issue_id":"rff-7za","depends_on_id":"rff-wisp-003","type":"blocks","created_at":"2026-01-25T13:30:33.028949+01:00","created_by":"mayor"}]}
{"id":"rff-8iy7","title":"Add interactive document viewer with highlight overlays","description":"attached_molecule: rff-wisp-ug0m\nattached_at: 2026-01-25T15:30:11Z\ndispatched_by: mayor\n\nCreate DocumentPreviewView that shows PDF/image with overlay highlights for extracted amounts and dates. Use PDFKit for PDFs, NSImage for images. Draw semi-transparent rectangles over bounding boxes from OCR observations.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/slit","created_at":"2026-01-25T16:22:41.269351+01:00","created_by":"mayor","updated_at":"2026-01-25T16:39:39.302611+01:00","closed_at":"2026-01-25T16:39:39.302611+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-8iy7","depends_on_id":"rff-3emw","type":"blocks","created_at":"2026-01-25T16:23:07.136561+01:00","created_by":"mayor"},{"issue_id":"rff-8iy7","depends_on_id":"rff-wisp-ctyg","type":"blocks","created_at":"2026-01-25T16:30:10.435841+01:00","created_by":"mayor"},{"issue_id":"rff-8iy7","depends_on_id":"rff-wisp-tr0w","type":"blocks","created_at":"2026-01-25T16:32:56.771168+01:00","created_by":"mayor"},{"issue_id":"rff-8iy7","depends_on_id":"rff-wisp-ug0m","type":"blocks","created_at":"2026-01-25T16:34:44.242683+01:00","created_by":"mayor"}]}
{"id":"rff-8n36m","title":"Bug: AI analysis buttons inconsistent state + right button shows empty dialog","description":"attached_molecule: rff-wisp-mpir\nattached_at: 2026-01-25T19:33:37Z\ndispatched_by: mayor\n\nMenu AI analysis and right-side button have independent state. The right button opens an empty dialog instead of showing data preview.","status":"hooked","priority":1,"issue_type":"bug","assignee":"rff/polecats/prime","created_at":"2026-01-25T20:32:58.403192+01:00","created_by":"mayor","updated_at":"2026-01-25T20:33:37.820972+01:00","dependencies":[{"issue_id":"rff-8n36m","depends_on_id":"rff-wisp-mpir","type":"blocks","created_at":"2026-01-25T20:33:36.5754+01:00","created_by":"mayor"}]}
{"id":"rff-8xhc","title":"Merge: rff-ytq3","description":"branch: polecat/warboy/rff-ytq3@mktzwb89\ntarget: main\nsource_issue: rff-ytq3\nrig: rff\nworker: warboy\nagent_bead: rff-rff-polecat-warboy\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:02.775883+01:00","created_by":"rff/polecats/warboy","updated_at":"2026-01-25T20:26:43.463065+01:00","closed_at":"2026-01-25T20:26:43.463067+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-91t7","title":"Merge: rff-3emw","description":"branch: polecat/rictus/rff-3emw@mktw2ix1\ntarget: main\nsource_issue: rff-3emw\nrig: rff\nworker: rictus\nagent_bead: rff-rff-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:38.286028+01:00","created_by":"rff/polecats/rictus","updated_at":"2026-01-25T16:30:18.271503+01:00","closed_at":"2026-01-25T16:30:18.271503+01:00","close_reason":"Merged to main (commit e7e892c)","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-93vx","title":"Merge: rff-o18n","description":"branch: polecat/keeper/rff-o18n@mku1r1fn\ntarget: main\nsource_issue: rff-o18n\nrig: rff\nworker: keeper\nagent_bead: rff-rff-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:06:29.820138+01:00","created_by":"rff/polecats/keeper","updated_at":"2026-01-25T20:26:50.509662+01:00","closed_at":"2026-01-25T20:26:50.509664+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-9q4","title":"Implement Vision OCR pipeline for document text extraction","description":"attached_molecule: rff-wisp-12u\nattached_at: 2026-01-25T12:21:41Z\ndispatched_by: mayor\n\nBuild document scanning module: 1) Use VNRecognizeTextRequest with .accurate level and usesLanguageCorrection=true. 2) Add customWords for financial terms (RFF, disbursement, requisition). 3) Use new async RecognizeTextRequest API. 4) Handle NSOpenPanel for file selection (VNDocumentCameraViewController is iOS-only). 5) Limit concurrent Vision requests to 5-10. 6) Use autoreleasepool for batch processing. 7) Return structured text observations.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/furiosa","created_at":"2026-01-25T12:59:32.168551+01:00","created_by":"mayor","updated_at":"2026-01-25T13:23:54.697388+01:00","closed_at":"2026-01-25T13:23:54.697388+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-9q4","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.378859+01:00","created_by":"mayor"}]}
{"id":"rff-9wrf","title":"Add Paid tab as archive with payment date","description":"attached_molecule: rff-wisp-om9p\nattached_at: 2026-01-25T16:59:55Z\ndispatched_by: mayor\n\nAdd third tab 'Paid' to Library view (after Inbox, Confirmed):\n1. New status: paid (add to RFFStatus enum)\n2. 'Paid' tab shows documents with status=paid\n3. Add paidDate field to RFFDocument (editable)\n4. When marking as paid, prompt for payment date (default today)\n5. Paid documents show payment date in list\n\nFlow: Inbox → Confirmed → Paid (archive)","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/keeper","created_at":"2026-01-25T17:58:57.171171+01:00","created_by":"mayor","updated_at":"2026-01-25T18:08:33.829872+01:00","closed_at":"2026-01-25T18:08:33.829872+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-9wrf","depends_on_id":"rff-wisp-om9p","type":"blocks","created_at":"2026-01-25T17:59:54.807559+01:00","created_by":"mayor"}],"comments":[{"id":3,"issue_id":"rff-9wrf","author":"rff/polecats/keeper","text":"Implemented: Added 'paid' status to RFFStatus enum, paidDate field to RFFDocument, 'Paid' tab to Library view, StatusBadge styling for paid status, Mark as Paid button with date picker sheet. Documents flow: Inbox → Confirmed → Paid (archive).","created_at":"2026-01-25T17:07:58Z"}]}
{"id":"rff-9z09d","title":"Implement on-device AI with Apple Foundation Models (macOS 26+)","description":"Implement on-device AI analysis using Apple Foundation Models framework.\n\nBased on research in docs/on-device-llm-research.md.\n\n## Goals\n- Allow AI analysis without internet/API keys\n- Use Apple Intelligence on-device processing\n- Privacy-first design\n\n## Phase 1 Tasks\n1. Add AIProvider.foundation case to provider enum\n2. Check macOS 26+ availability at runtime\n3. Implement Foundation Models API integration\n4. Add UI option in AI Settings for on-device provider\n5. Test invoice analysis quality with on-device models\n\n## Future Phases (separate epic)\n- Phase 2: MLX fallback for older macOS\n- Phase 3: Ollama detection for power users","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-25T20:22:57.571342+01:00","created_by":"mayor","updated_at":"2026-01-25T20:22:57.571342+01:00"}
{"id":"rff-a47","title":"RFF Tracker macOS App","description":"macOS Sequoia 14+ native app for tracking Requests for Funds. Uses Vision OCR, NaturalLanguage, Core ML classification, SwiftData persistence, SwiftUI document architecture, UserNotifications for deadlines, PDFKit for documents, Security/Keychain for credentials.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-25T12:59:04.69687+01:00","created_by":"mayor","updated_at":"2026-01-25T12:59:04.69687+01:00"}
{"id":"rff-a7l","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-25T12:56:13.227321+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:13.227321+01:00"}
{"id":"rff-a8ny","title":"Review and Confirm tab: PDF preview doesn't update when switching documents in Library","description":"attached_molecule: rff-wisp-c0ya\nattached_at: 2026-01-25T18:19:36Z\ndispatched_by: mayor\n\nThe form fields update when selecting different documents in Library, but the PDF preview itself stays stuck on the previous document. Need to ensure the PDF viewer reloads when document selection changes.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/coma","created_at":"2026-01-25T19:18:59.456966+01:00","created_by":"mayor","updated_at":"2026-01-25T19:22:41.132966+01:00","closed_at":"2026-01-25T19:22:41.132966+01:00","close_reason":"Fixed: Added .onChange(of: document.id) handler to reload PDF when switching documents. Build verified.","dependencies":[{"issue_id":"rff-a8ny","depends_on_id":"rff-wisp-c0ya","type":"blocks","created_at":"2026-01-25T19:19:35.046851+01:00","created_by":"mayor"}]}
{"id":"rff-air","title":"Setup Xcode project with SwiftData schema and entitlements","description":"attached_molecule: rff-wisp-7iw\nattached_at: 2026-01-25T12:00:28Z\ndispatched_by: mayor\n\nCreate new macOS app targeting Sequoia 14+. Configure: 1) SwiftData with RFFDocument model (id, title, requestingOrganization, amount Decimal, dueDate, status enum, extractedText, documentPath) and LineItem relationship. 2) Add VersionedSchema for migrations. 3) Set required entitlements: app-sandbox, network.client, calendars, files.user-selected.read-write, files.bookmarks.app-scope. 4) Enable Hardened Runtime for notarization.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/furiosa","created_at":"2026-01-25T12:59:31.203158+01:00","created_by":"mayor","updated_at":"2026-01-25T13:12:05.492825+01:00","closed_at":"2026-01-25T13:12:05.492825+01:00","close_reason":"Closed"}
{"id":"rff-aj2l","title":"Merge: rff-dew","description":"branch: polecat/nux/rff-dew@mktpvp6c\ntarget: main\nsource_issue: rff-dew\nrig: rff\nworker: nux\nagent_bead: rff-rff-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:40:20.513981+01:00","created_by":"rff/polecats/nux","updated_at":"2026-01-25T13:46:09.484357+01:00","closed_at":"2026-01-25T13:46:09.484357+01:00","close_reason":"Manually merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-b0s","title":"Digest: mol-witness-patrol","description":"Patrol cycle 4: Processed POLECAT_DONE for furiosa. Rig clean - no active polecats, refinery running.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:12:58.232845+01:00","updated_at":"2026-01-25T13:12:58.232845+01:00","closed_at":"2026-01-25T13:12:58.232767+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-b5h","title":"Implement Keychain storage with Touch ID protection","description":"attached_molecule: rff-wisp-py8\nattached_at: 2026-01-25T12:23:15Z\ndispatched_by: mayor\n\nSecurity layer: 1) Store API tokens in data protection keychain with kSecUseDataProtectionKeychain. 2) Use kSecAttrAccessibleWhenUnlocked. 3) Optional Touch ID with SecAccessControlCreateWithFlags and .userPresence. 4) Implement secure retrieval with proper error handling.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/dementus","created_at":"2026-01-25T12:59:39.58935+01:00","created_by":"mayor","updated_at":"2026-01-25T13:28:55.527098+01:00","closed_at":"2026-01-25T13:28:55.527098+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-b5h","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.870415+01:00","created_by":"mayor"}],"comments":[{"id":1,"issue_id":"rff-b5h","author":"rff/polecats/dementus","text":"Implemented KeychainManager with:\n- Secure API token storage using kSecUseDataProtectionKeychain\n- kSecAttrAccessibleWhenUnlocked for access control\n- Optional Touch ID via SecAccessControlCreateWithFlags with .userPresence\n- Comprehensive error handling with KeychainError enum\n- Async API for SwiftUI integration\n- Added keychain-access-groups entitlement","created_at":"2026-01-25T12:28:15Z"}]}
{"id":"rff-b7jm","title":"Show document schema and add re-analyze button in Library","description":"attached_molecule: rff-wisp-a546\nattached_at: 2026-01-25T17:30:51Z\ndispatched_by: mayor\n\nIn Library document detail view:\n\n1. Show which schema is associated with this document (if any)\n2. Add 'Re-analyze with Schema' button that:\n   - Uses the document's schema to extract fields\n   - Updates document fields with extracted values\n   - Shows what was extracted and confidence scores\n\n3. After inline schema editing, allow immediate re-analysis with new schema\n\nThis makes schemas actually useful - user can refine schema and immediately see results.","notes":"Implemented: Added schemaId to RFFDocument model, created SchemaExtractionService for schema-based field extraction, added schema section to document detail view with Re-analyze button, added Schema Selector and Extraction Results sheets, enhanced InlineSchemaEditorView with Save \u0026 Extract workflow","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/ace","created_at":"2026-01-25T18:30:21.147893+01:00","created_by":"mayor","updated_at":"2026-01-25T18:44:08.659031+01:00","closed_at":"2026-01-25T18:44:08.659031+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-b7jm","depends_on_id":"rff-wisp-a546","type":"blocks","created_at":"2026-01-25T18:30:50.527252+01:00","created_by":"mayor"}]}
{"id":"rff-bcix4","title":"URGENT: Restore regressed Library view features","description":"attached_molecule: rff-wisp-lvg5\nattached_at: 2026-01-25T18:53:08Z\ndispatched_by: mayor\n\nThe following features were regressed and need to be restored:\n\n1. **Recipient filtering/grouping** - Library should have Group menu to group by Recipient or Month\n2. **Navigation tabs in Library** - Status filter tabs (All/Pending/Approved/etc) should be in the Library sidebar, NOT the right detail pane\n3. **Remove Title column** - Title column should not appear in the Library table\n4. **Add Recipient column** - Recipient should be visible in the Library table\n\nReference commits with the correct implementation:\n- 094ae85: Add grouping by Recipient and Month in Library view\n- 54947dd: Remove Title column from Library view\n\nThe ContentView.swift needs these features restored without losing the AI-first UX changes from the recent merge.","status":"hooked","priority":1,"issue_type":"task","assignee":"rff/polecats/bullet","created_at":"2026-01-25T19:52:33.393667+01:00","created_by":"mayor","updated_at":"2026-01-25T19:53:08.740263+01:00","dependencies":[{"issue_id":"rff-bcix4","depends_on_id":"rff-wisp-lvg5","type":"blocks","created_at":"2026-01-25T19:53:07.403409+01:00","created_by":"mayor"}]}
{"id":"rff-bp1","title":"Merge: rff-3mq","description":"branch: polecat/toast/rff-3mq@mktpnbx5\ntarget: main\nsource_issue: rff-3mq\nrig: rff\nworker: toast\nagent_bead: rff-rff-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:29:55.106636+01:00","created_by":"rff/polecats/toast","updated_at":"2026-01-25T13:32:45.633281+01:00","closed_at":"2026-01-25T13:32:45.633281+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-bvp","title":"Add PDFKit integration for document handling","description":"attached_molecule: rff-wisp-9zv\nattached_at: 2026-01-25T12:22:27Z\ndispatched_by: mayor\n\nPDF processing: 1) PDFDocument loading and text extraction via page.string. 2) Handle multi-page documents with autoreleasepool per page for memory. 3) Extract metadata (title, author) from documentAttributes. 4) Optional: PDFPageOverlayViewProvider for highlighting extracted amounts/dates.","notes":"Implemented: PDFService for text/metadata extraction with autoreleasepool per page, PDFViewer with highlight overlay support, PDFTextFinder for locating amounts/dates with regex patterns","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/slit","created_at":"2026-01-25T12:59:38.413014+01:00","created_by":"mayor","updated_at":"2026-01-25T13:29:01.898761+01:00","closed_at":"2026-01-25T13:29:01.898761+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-bvp","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.789095+01:00","created_by":"mayor"}]}
{"id":"rff-c7b6","title":"Merge: rff-qids","description":"branch: polecat/rictus/rff-qids@mktrlaee\ntarget: main\nsource_issue: rff-qids\nrig: rff\nworker: rictus\nagent_bead: rff-rff-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-25T14:27:13.491761+01:00","created_by":"rff/polecats/rictus","updated_at":"2026-01-25T16:25:22.3658+01:00","closed_at":"2026-01-25T16:25:22.3658+01:00","close_reason":"Duplicate - rff-qids already merged by nux at commit 31dfbc8","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-cfh0","title":"Wire up confirmation workflow and status transitions","description":"attached_molecule: rff-wisp-9b7h\nattached_at: 2026-01-25T15:51:09Z\ndispatched_by: mayor\n\nImplement confirm action: validate fields, update RFFDocument with confirmed values, transition status from pending/underReview to approved. Move document from Inbox view to Confirmed view.","notes":"Implemented confirmation workflow: added confirmed value fields to RFFDocument model, Confirm button in DocumentDetailView with validation, status transition from pending/underReview to approved. Document moves from Inbox to Confirmed tab automatically via existing filter logic.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/furiosa","created_at":"2026-01-25T16:22:42.976949+01:00","created_by":"mayor","updated_at":"2026-01-25T17:04:05.444933+01:00","closed_at":"2026-01-25T17:04:05.444933+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-cfh0","depends_on_id":"rff-tuso","type":"blocks","created_at":"2026-01-25T16:23:07.334477+01:00","created_by":"mayor"},{"issue_id":"rff-cfh0","depends_on_id":"rff-wisp-1gxz","type":"blocks","created_at":"2026-01-25T16:51:09.352833+01:00","created_by":"mayor"},{"issue_id":"rff-cfh0","depends_on_id":"rff-wisp-jfio","type":"blocks","created_at":"2026-01-25T16:54:26.152867+01:00","created_by":"mayor"},{"issue_id":"rff-cfh0","depends_on_id":"rff-wisp-5aq5","type":"blocks","created_at":"2026-01-25T16:56:58.319699+01:00","created_by":"mayor"},{"issue_id":"rff-cfh0","depends_on_id":"rff-wisp-9b7h","type":"blocks","created_at":"2026-01-25T16:59:36.259819+01:00","created_by":"mayor"}]}
{"id":"rff-cjh5","title":"AI detection doesn't extract 'recipient' field - renamed from customer but not working","description":"attached_molecule: rff-wisp-auwg\nattached_at: 2026-01-25T19:30:55Z\ndispatched_by: mayor\n\nAfter renaming customer→recipient, the AI detection no longer extracts this field. Need to update the AI prompt to ask for 'recipient' and ensure the parsing maps it correctly to the field type.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/scrotus","created_at":"2026-01-25T19:30:15.20819+01:00","created_by":"mayor","updated_at":"2026-01-25T20:36:38.858962+01:00","closed_at":"2026-01-25T20:36:38.858962+01:00","close_reason":"Fixed AI detection to use 'recipient' field type. Updated prompt, field mapping aliases, and all apply functions to properly handle recipient extraction.","dependencies":[{"issue_id":"rff-cjh5","depends_on_id":"rff-wisp-auwg","type":"blocks","created_at":"2026-01-25T20:30:54.582374+01:00","created_by":"mayor"}]}
{"id":"rff-cjpl","title":"Fix Claude Code CLI detection - check common paths instead of relying on which command in sandboxed app","description":"attached_molecule: rff-wisp-w6oq\nattached_at: 2026-01-25T17:39:34Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T18:38:56.946692+01:00","created_by":"mayor","updated_at":"2026-01-25T18:43:41.237039+01:00","closed_at":"2026-01-25T18:43:41.237039+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-cjpl","depends_on_id":"rff-wisp-w6oq","type":"blocks","created_at":"2026-01-25T18:39:33.517098+01:00","created_by":"mayor"}]}
{"id":"rff-cmikt","title":"FIX: AI Analyze in right pane broken - different from right-click","description":"attached_molecule: rff-wisp-e1ik\nattached_at: 2026-01-25T18:55:39Z\ndispatched_by: mayor\n\nAI analysis is broken:\n\n1. AI Analyze button in right detail pane doesn't work properly\n2. Shows empty field mapping, no progress bar\n3. Behaves differently from right-click 'AI Analyze' in Library\n4. These should be the SAME action - unified code path\n\nBoth UI entry points (right pane button AND right-click context menu) must:\n- Call the same analysis function\n- Show the same progress indicator\n- Update the same state\n- Populate the same field mappings\n\nCheck ContentView.swift for duplicate/divergent AI analysis implementations.","status":"hooked","priority":1,"issue_type":"task","assignee":"rff/polecats/toecutter","created_at":"2026-01-25T19:55:05.878055+01:00","created_by":"mayor","updated_at":"2026-01-25T19:55:39.980725+01:00","dependencies":[{"issue_id":"rff-cmikt","depends_on_id":"rff-wisp-e1ik","type":"blocks","created_at":"2026-01-25T19:55:38.651941+01:00","created_by":"mayor"}]}
{"id":"rff-cn7l","title":"Add plain-text entry with AI analysis for new documents","description":"attached_molecule: rff-wisp-gc5z\nattached_at: 2026-01-25T17:06:57Z\ndispatched_by: mayor\n\nIn 'New Document' flow, add option to enter plain text:\n1. Add 'Paste Text' or 'Enter Text' option alongside PDF/image upload\n2. User can paste invoice text or type details\n3. 'Analyze' button runs AI analysis on the text to extract:\n   - Vendor/organization\n   - Amount\n   - Due date / payment terms\n   - Line items\n4. Pre-fill document fields from AI extraction\n5. User can review and edit before saving\n\nThis enables quick entry without needing a file.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/ace","created_at":"2026-01-25T18:06:25.28418+01:00","created_by":"mayor","updated_at":"2026-01-25T18:19:11.403422+01:00","closed_at":"2026-01-25T18:19:11.403422+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-cn7l","depends_on_id":"rff-wisp-rncr","type":"blocks","created_at":"2026-01-25T18:06:56.985218+01:00","created_by":"mayor"},{"issue_id":"rff-cn7l","depends_on_id":"rff-wisp-9gep","type":"blocks","created_at":"2026-01-25T18:10:43.166819+01:00","created_by":"mayor"},{"issue_id":"rff-cn7l","depends_on_id":"rff-wisp-gc5z","type":"blocks","created_at":"2026-01-25T18:13:32.718349+01:00","created_by":"mayor"}]}
{"id":"rff-d1cc","title":"Improve app launch UX - show library instead of Open dialog","description":"attached_molecule: rff-wisp-qb20\nattached_at: 2026-01-25T16:31:28Z\ndispatched_by: mayor\n\nApp currently launches with awkward Open dialog. Change to show the Library window by default on launch, with option to create new document or import existing. Make the experience more intuitive.","status":"closed","priority":1,"issue_type":"feature","assignee":"rff/polecats/rictus","created_at":"2026-01-25T17:30:19.247473+01:00","created_by":"mayor","updated_at":"2026-01-25T17:35:54.835647+01:00","closed_at":"2026-01-25T17:35:54.835647+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-d1cc","depends_on_id":"rff-wisp-qb20","type":"blocks","created_at":"2026-01-25T17:31:27.651505+01:00","created_by":"mayor"}]}
{"id":"rff-ddsb","title":"Move filtering tabs (Inbox/Confirmed/Paid) to Library view instead of right pane","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:55:45.766944+01:00","created_by":"mayor","updated_at":"2026-01-25T19:00:21.304017+01:00","closed_at":"2026-01-25T19:00:21.304017+01:00","close_reason":"Closed"}
{"id":"rff-dew","title":"Build SwiftUI document-based app with table view","description":"attached_molecule: rff-wisp-vod\nattached_at: 2026-01-25T12:22:04Z\ndispatched_by: mayor\n\nCreate main SwiftUI interface: 1) DocumentGroup scene with FileDocument protocol. 2) Table view with columns: Title, Organization, Amount (currency format), Due Date. 3) Implement Transferable protocol for drag-drop with CodableRepresentation and FileRepresentation for PDFs. 4) Security-scoped bookmarks for persistent file access. 5) Settings scene. 6) ModelContainer configuration.","notes":"Implemented: DocumentGroup with FileDocument, Table views in ContentView and DocumentEditorView, Transferable protocol with CodableRepresentation and FileRepresentation, security-scoped bookmarks, Settings scene with 4 tabs. All requirements from task description completed.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/nux","created_at":"2026-01-25T12:59:36.107998+01:00","created_by":"mayor","updated_at":"2026-01-25T13:40:23.245618+01:00","closed_at":"2026-01-25T13:40:23.245618+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-dew","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.624151+01:00","created_by":"mayor"},{"issue_id":"rff-dew","depends_on_id":"rff-wisp-vod","type":"blocks","created_at":"2026-01-25T13:31:05.289622+01:00","created_by":"mayor"}]}
{"id":"rff-dngrh","title":"Regression: Recipient column missing from Library view","description":"attached_molecule: rff-wisp-v1r5\nattached_at: 2026-01-25T19:31:43Z\ndispatched_by: mayor","status":"closed","priority":1,"issue_type":"bug","assignee":"rff/polecats/chumbucket","created_at":"2026-01-25T20:31:05.612485+01:00","created_by":"mayor","updated_at":"2026-01-25T20:34:44.163588+01:00","closed_at":"2026-01-25T20:34:44.163588+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-dngrh","depends_on_id":"rff-wisp-v1r5","type":"blocks","created_at":"2026-01-25T20:31:42.625067+01:00","created_by":"mayor"}]}
{"id":"rff-dsu","title":"Digest: mol-witness-patrol","description":"Patrol cycle 5: Rig clean and stable. No polecats, empty inbox.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:26.709375+01:00","updated_at":"2026-01-25T13:13:26.709375+01:00","closed_at":"2026-01-25T13:13:26.709306+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-dz1e","title":"Merge: rff-nlu","description":"branch: polecat/furiosa/rff-nlu@mktpog6e\ntarget: main\nsource_issue: rff-nlu\nrig: rff\nworker: furiosa\nagent_bead: rff-rff-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:32:05.471782+01:00","created_by":"rff/polecats/furiosa","updated_at":"2026-01-25T13:32:45.63726+01:00","closed_at":"2026-01-25T13:32:45.63726+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-ev2g","title":"Fix currency not loading from document in edit form","description":"attached_molecule: rff-wisp-1ejs\nattached_at: 2026-01-25T17:15:51Z\ndispatched_by: mayor\n\nIn Library edit form, currency always shows USD instead of the document's actual currency. The @State currency variable needs to be initialized from document.currency, not defaulting to .usd","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/dag","created_at":"2026-01-25T18:15:17.752935+01:00","created_by":"mayor","updated_at":"2026-01-25T18:18:18.172385+01:00","closed_at":"2026-01-25T18:18:18.172385+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ev2g","depends_on_id":"rff-wisp-1ejs","type":"blocks","created_at":"2026-01-25T18:15:50.672035+01:00","created_by":"mayor"}]}
{"id":"rff-f1m4","title":"Merge: rff-8iy7","description":"branch: polecat/slit/rff-8iy7@mktwfvv2\ntarget: main\nsource_issue: rff-8iy7\nrig: rff\nworker: slit\nagent_bead: rff-rff-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:39:36.587643+01:00","created_by":"rff/polecats/slit","updated_at":"2026-01-25T20:26:39.969567+01:00","closed_at":"2026-01-25T20:26:39.969569+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-f9xa","title":"Merge: rff-ddsb","description":"branch: polecat/imperator/rff-ddsb@mku1k85v\ntarget: main\nsource_issue: rff-ddsb\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:00:47.923957+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:49.193829+01:00","closed_at":"2026-01-25T20:26:49.193831+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-fhxc","title":"Digest: mol-witness-patrol","description":"Patrol 9: slit thinking 3m35s","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:52:47.700802+01:00","updated_at":"2026-01-25T13:52:47.700802+01:00","closed_at":"2026-01-25T13:52:47.700553+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-flg","title":"Merge: rff-air","description":"branch: polecat/furiosa/rff-air@mktos3oj\ntarget: main\nsource_issue: rff-air\nrig: rff\nworker: furiosa\nagent_bead: rff-rff-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:12:02.994216+01:00","created_by":"rff/polecats/furiosa","updated_at":"2026-01-25T13:21:06.950925+01:00","closed_at":"2026-01-25T13:21:06.950925+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-fvwk","title":"Merge: rff-0gnv","description":"branch: polecat/nux/rff-0gnv@mktw7xzi\ntarget: main\nsource_issue: rff-0gnv\nrig: rff\nworker: nux\nagent_bead: rff-rff-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:03.384549+01:00","created_by":"rff/polecats/nux","updated_at":"2026-01-25T20:26:07.049075+01:00","closed_at":"2026-01-25T20:26:07.049076+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-fxke","title":"Add inline schema editing in Library document preview","description":"attached_molecule: rff-wisp-1mto\nattached_at: 2026-01-25T17:04:55Z\ndispatched_by: mayor\n\nIn Library view (ContentView), when viewing a document in the Review tab:\n1. Add 'Edit Schema' mode that overlays the document with draggable field markers\n2. User can drag text regions to assign them to schema fields (amount, date, vendor, etc.)\n3. Show field type picker when region is selected\n4. Save mapping to document's associated schema\n5. Use existing SchemaEditorView components/logic but embedded in the preview\n\nThis enables visual schema editing directly on the document without switching views.","notes":"Implemented inline schema editing mode in Library document preview. Added Edit Schema button to Review tab that enables visual field mapping with drag-and-drop support. Created InlineSchemaEditorView component reusing SchemaEditorViewModel logic.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/morsov","created_at":"2026-01-25T18:04:24.827246+01:00","created_by":"mayor","updated_at":"2026-01-25T18:13:46.828299+01:00","closed_at":"2026-01-25T18:13:46.828299+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-fxke","depends_on_id":"rff-wisp-1mto","type":"blocks","created_at":"2026-01-25T18:04:54.374952+01:00","created_by":"mayor"}]}
{"id":"rff-g80k","title":"Merge: rff-n2ly","description":"branch: polecat/morsov/rff-n2ly@mku02rx0\ntarget: main\nsource_issue: rff-n2ly\nrig: rff\nworker: morsov\nagent_bead: rff-rff-polecat-morsov\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:22:33.059701+01:00","created_by":"rff/polecats/morsov","updated_at":"2026-01-25T20:26:44.789601+01:00","closed_at":"2026-01-25T20:26:44.789605+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-gcja","title":"Use local Claude Code CLI instead of API key","description":"attached_molecule: rff-wisp-jcgu\nattached_at: 2026-01-25T17:23:51Z\ndispatched_by: mayor\n\nInstead of requiring user to enter Anthropic API key, detect and use local Claude Code installation:\n\n1. Check if 'claude' CLI is available in PATH\n2. If available, use 'claude --print' or similar to send prompts\n3. No API key needed - leverages user's existing Claude Code auth\n4. Fallback to API key if Claude Code not installed\n\nThis removes friction for users who already have Claude Code installed.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/dag","created_at":"2026-01-25T18:23:20.515899+01:00","created_by":"mayor","updated_at":"2026-01-25T18:26:56.471708+01:00","closed_at":"2026-01-25T18:26:56.471708+01:00","close_reason":"Implemented: Claude Code CLI detection and usage. Auto-selects local CLI when available, falls back to API keys.","dependencies":[{"issue_id":"rff-gcja","depends_on_id":"rff-wisp-jcgu","type":"blocks","created_at":"2026-01-25T18:23:50.397185+01:00","created_by":"mayor"}]}
{"id":"rff-gn2v","title":"Swiss invoice support: Test and ensure extraction works for QST, AHV, KTG, UVG documents","description":"attached_molecule: rff-wisp-3d8z\nattached_at: 2026-01-25T17:51:29Z\ndispatched_by: mayor\n\nTest data at /Users/mandrigin/Downloads/swiss/ contains Swiss tax/insurance documents (QST=withholding tax, AHV=pension, KTG=sickness insurance, UVG=accident insurance). These are scanned PDFs requiring OCR. Ensure the app correctly extracts amounts, dates, and identifies these document types.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/organic","created_at":"2026-01-25T18:50:36.198089+01:00","created_by":"mayor","updated_at":"2026-01-25T18:56:56.043118+01:00","closed_at":"2026-01-25T18:56:56.04312+01:00","dependencies":[{"issue_id":"rff-gn2v","depends_on_id":"rff-wisp-3d8z","type":"blocks","created_at":"2026-01-25T18:51:28.15433+01:00","created_by":"mayor"}]}
{"id":"rff-h2r7o","title":"Regression: Recipient filtering missing from Library","description":"attached_molecule: rff-wisp-g16m\nattached_at: 2026-01-25T19:32:50Z\ndispatched_by: mayor","status":"hooked","priority":1,"issue_type":"bug","assignee":"rff/polecats/dinki","created_at":"2026-01-25T20:31:07.335553+01:00","created_by":"mayor","updated_at":"2026-01-25T20:32:50.643881+01:00","dependencies":[{"issue_id":"rff-h2r7o","depends_on_id":"rff-wisp-g16m","type":"blocks","created_at":"2026-01-25T20:32:49.40574+01:00","created_by":"mayor"}]}
{"id":"rff-hln3","title":"Merge: rff-7xu7","description":"branch: polecat/splendid/rff-7xu7@mku1rq0x\ntarget: main\nsource_issue: rff-7xu7\nrig: rff\nworker: splendid\nagent_bead: rff-rff-polecat-splendid\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:06:55.901523+01:00","created_by":"rff/polecats/splendid","updated_at":"2026-01-25T20:26:51.418236+01:00","closed_at":"2026-01-25T20:26:51.418238+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-hxlk","title":"Digest: mol-witness-patrol","description":"Patrol 3: 3 polecats (slit working, furiosa/nux idle), refinery running","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:37.631968+01:00","updated_at":"2026-01-25T13:49:37.631968+01:00","closed_at":"2026-01-25T13:49:37.631898+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-ihc8","title":"Merge: rff-9wrf","description":"branch: polecat/keeper/rff-9wrf@mktzhem8\ntarget: main\nsource_issue: rff-9wrf\nrig: rff\nworker: keeper\nagent_bead: rff-rff-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:08:30.939551+01:00","created_by":"rff/polecats/keeper","updated_at":"2026-01-25T20:26:42.167684+01:00","closed_at":"2026-01-25T20:26:42.167687+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-iq3z","title":"Add document drop zone and paste support","description":"Add drag-and-drop zone for PDF/image files and support for pasting images from clipboard. Should trigger OCR processing on drop/paste and create new RFFDocument in inbox.","notes":"Work already completed and merged via rff-35ho (drag-drop) and rff-qids (clipboard paste). Build verified.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:22:39.454776+01:00","created_by":"mayor","updated_at":"2026-01-25T16:31:51.753691+01:00","closed_at":"2026-01-25T16:31:46.824402+01:00","dependencies":[{"issue_id":"rff-iq3z","depends_on_id":"rff-wisp-vod6","type":"blocks","created_at":"2026-01-25T16:29:40.526119+01:00","created_by":"mayor"}]}
{"id":"rff-jbyu","title":"Wire SchemaEditorView into app navigation","description":"attached_molecule: rff-wisp-ijsa\nattached_at: 2026-01-25T16:55:20Z\ndispatched_by: mayor\n\nSchemaEditorView is implemented but not accessible from anywhere in the app. Need to:\n1. Add 'Manage Schemas' section in Settings with link to SchemaEditorView\n2. Add 'Edit Schema' or 'Map Fields' button in document detail view to open schema editor for current document\n3. Ensure AI Analyze button in DocumentEditorView actually triggers the schema suggestion flow","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/dag","created_at":"2026-01-25T17:54:53.104733+01:00","created_by":"mayor","updated_at":"2026-01-25T18:00:03.368878+01:00","closed_at":"2026-01-25T18:00:03.368878+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-jbyu","depends_on_id":"rff-wisp-ijsa","type":"blocks","created_at":"2026-01-25T17:55:19.467117+01:00","created_by":"mayor"}]}
{"id":"rff-jtk7","title":"Merge: rff-1jzo","description":"branch: polecat/slit/rff-1jzo@mktqiqno\ntarget: main\nsource_issue: rff-1jzo\nrig: rff\nworker: slit\nagent_bead: rff-rff-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-25T13:55:40.998621+01:00","created_by":"rff/polecats/slit","updated_at":"2026-01-25T14:13:19.169637+01:00","closed_at":"2026-01-25T14:13:19.169637+01:00","close_reason":"Already merged to main (commit b129826)","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-k68p","title":"Merge: rff-oxc6","description":"branch: polecat/imperator/rff-oxc6@mku0m533\ntarget: main\nsource_issue: rff-oxc6\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:36:27.044671+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:46.090573+01:00","closed_at":"2026-01-25T20:26:46.090576+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-k8t","title":"Digest: mol-witness-patrol","description":"Patrol complete: furiosa has 1 unpushed commit (SSH issue, escalated to Mayor), refinery running, no cleanup wisps, inbox clean","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:08:59.010542+01:00","updated_at":"2026-01-25T13:08:59.010542+01:00","closed_at":"2026-01-25T13:08:59.010465+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-ktnq","title":"Disable editing for approved/confirmed invoices - they should be read-only","description":"attached_molecule: rff-wisp-49xk\nattached_at: 2026-01-25T18:28:06Z\ndispatched_by: mayor\n\nOnce an invoice is confirmed/approved, the edit fields should be disabled or hidden. Only Inbox documents should be editable.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T19:27:30.762983+01:00","created_by":"mayor","updated_at":"2026-01-25T19:37:59.56101+01:00","closed_at":"2026-01-25T19:37:59.56101+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ktnq","depends_on_id":"rff-wisp-49xk","type":"blocks","created_at":"2026-01-25T19:28:05.335473+01:00","created_by":"mayor"}]}
{"id":"rff-kumt","title":"Merge: rff-ev2g","description":"branch: polecat/dag/rff-ev2g@mku01v55\ntarget: main\nsource_issue: rff-ev2g\nrig: rff\nworker: dag\nagent_bead: rff-rff-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:19:01.87487+01:00","created_by":"rff/polecats/dag","updated_at":"2026-01-25T20:26:43.91044+01:00","closed_at":"2026-01-25T20:26:43.910442+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-l57b","title":"Merge: rff-cfh0","description":"branch: polecat/furiosa/rff-cfh0@mktxbuz8\ntarget: main\nsource_issue: rff-cfh0\nrig: rff\nworker: furiosa\nagent_bead: rff-rff-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:04:02.657717+01:00","created_by":"rff/polecats/furiosa","updated_at":"2026-01-25T20:26:40.829057+01:00","closed_at":"2026-01-25T20:26:40.829059+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-l9xi","title":"Digest: mol-witness-patrol","description":"Patrol 2: 2 polecats (furiosa user-active, nux nudged for API error), refinery running, no MRs, work rff-3mq already closed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:48:14.878627+01:00","updated_at":"2026-01-25T13:48:14.878627+01:00","closed_at":"2026-01-25T13:48:14.878506+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-la8j","title":"AI Settings UX: Use dropdown for provider selection instead of tabbed interface with long scroll","description":"attached_molecule: rff-wisp-tf41\nattached_at: 2026-01-25T18:02:08Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T18:42:36.40072+01:00","created_by":"mayor","updated_at":"2026-01-25T19:06:22.790355+01:00","closed_at":"2026-01-25T19:06:22.790355+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-la8j","depends_on_id":"rff-wisp-tf41","type":"blocks","created_at":"2026-01-25T19:02:07.389784+01:00","created_by":"mayor"}]}
{"id":"rff-lbvc","title":"Merge: rff-cn7l","description":"branch: polecat/ace/rff-cn7l@mktzywf7\ntarget: main\nsource_issue: rff-cn7l\nrig: rff\nworker: ace\nagent_bead: rff-rff-polecat-ace\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:19:08.288508+01:00","created_by":"rff/polecats/ace","updated_at":"2026-01-25T20:26:44.351655+01:00","closed_at":"2026-01-25T20:26:44.351657+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-lpd4","title":"Merge: rff-70k6","description":"branch: polecat/dag/rff-70k6@mktztjc8\ntarget: main\nsource_issue: rff-70k6\nrig: rff\nworker: dag\nagent_bead: rff-rff-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:14:34.063535+01:00","created_by":"rff/polecats/dag","updated_at":"2026-01-25T20:26:43.026562+01:00","closed_at":"2026-01-25T20:26:43.026564+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-m1v5","title":"Add tooltips to all toolbar buttons","description":"attached_molecule: rff-wisp-l73o\nattached_at: 2026-01-25T17:28:39Z\ndispatched_by: mayor\n\nAdd explicit tooltips (using .help() modifier) to every toolbar button with descriptive text explaining what each button does.","notes":"Implemented: Added .help() tooltips to all 13 toolbar buttons across ContentView.swift (7 buttons), SchemaEditorView.swift (3 buttons), and DocumentEditorView.swift (3 buttons). Each tooltip provides a brief description of the button's action.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/ace","created_at":"2026-01-25T18:28:03.385675+01:00","created_by":"mayor","updated_at":"2026-01-25T19:02:37.327986+01:00","closed_at":"2026-01-25T19:02:37.327986+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-m1v5","depends_on_id":"rff-wisp-rhfs","type":"blocks","created_at":"2026-01-25T18:28:38.256353+01:00","created_by":"mayor"},{"issue_id":"rff-m1v5","depends_on_id":"rff-wisp-pcdm","type":"blocks","created_at":"2026-01-25T18:57:31.649542+01:00","created_by":"mayor"},{"issue_id":"rff-m1v5","depends_on_id":"rff-wisp-l73o","type":"blocks","created_at":"2026-01-25T18:59:34.118181+01:00","created_by":"mayor"}]}
{"id":"rff-m3m1","title":"Fix PDF highlight page mapping: highlights appear on wrong page (page 1 content shows on page 2)","description":"attached_molecule: rff-wisp-nm5s\nattached_at: 2026-01-25T18:13:37Z\ndispatched_by: mayor\n\nFor multi-page PDFs, highlights are being drawn on the wrong page. Content detected on page 1 appears as highlights on page 2. The pageIndex in HighlightRegion may be incorrect or the overlay view provider is not properly filtering by page.","notes":"Implemented: Fixed page index mapping by using page.pageIndex directly instead of enumerated() array indices. Changes in SchemaEditorView.swift and SchemaExtractionService.swift ensure correct page association for detected regions.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T19:13:02.856991+01:00","created_by":"mayor","updated_at":"2026-01-25T19:26:37.645913+01:00","closed_at":"2026-01-25T19:26:37.645913+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-m3m1","depends_on_id":"rff-wisp-nm5s","type":"blocks","created_at":"2026-01-25T19:13:36.529334+01:00","created_by":"mayor"}]}
{"id":"rff-m6hd","title":"Merge: rff-vnt","description":"branch: polecat/capable/rff-vnt@mktpmajs\ntarget: main\nsource_issue: rff-vnt\nrig: rff\nworker: capable\nagent_bead: rff-rff-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:34:36.457854+01:00","created_by":"rff/polecats/capable","updated_at":"2026-01-25T13:35:17.170573+01:00","closed_at":"2026-01-25T13:35:17.170573+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-m8hp","title":"Merge: rff-tuso","description":"branch: polecat/nux/rff-tuso@mktwpnqq\ntarget: main\nsource_issue: rff-tuso\nrig: rff\nworker: nux\nagent_bead: rff-rff-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:50:36.730573+01:00","created_by":"rff/polecats/nux","updated_at":"2026-01-25T20:26:40.398099+01:00","closed_at":"2026-01-25T20:26:40.398101+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-mbe","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-25T12:56:13.020955+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:13.020955+01:00"}
{"id":"rff-n01n","title":"Digest: mol-witness-patrol","description":"Patrol 6: slit implementing fix, furiosa/nux idle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:51:37.644539+01:00","updated_at":"2026-01-25T13:51:37.644539+01:00","closed_at":"2026-01-25T13:51:37.644462+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-n2ly","title":"Create macOS Sequoia-compliant app icon","description":"attached_molecule: rff-wisp-vqse\nattached_at: 2026-01-25T17:16:32Z\ndispatched_by: mayor\n\nCreate a professional app icon for RFF (Request for Funds) that follows macOS Sequoia design guidelines:\n\n1. Design requirements:\n   - Rounded square shape (standard macOS icon)\n   - Simple, recognizable symbol (document with money/checkmark concept)\n   - Clean colors that work in light and dark mode\n   - Professional look suitable for finance/document management\n\n2. Technical requirements:\n   - Generate AppIcon.appiconset with all required sizes (16x16 to 1024x1024)\n   - Update Assets.xcassets with proper Contents.json\n   - Follow Apple HIG for macOS icons\n\nSuggested concept: Document/paper with currency symbol or checkmark, representing 'request for funds approval'","notes":"Implemented: Generated macOS Sequoia-compliant app icon with deep blue background, white document with folded corner, and green checkmark badge representing approved requests. All required sizes (16x16 to 1024x1024) generated programmatically using Pillow. Build verified successful.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/morsov","created_at":"2026-01-25T18:16:01.944648+01:00","created_by":"mayor","updated_at":"2026-01-25T18:22:36.225466+01:00","closed_at":"2026-01-25T18:22:36.225466+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-n2ly","depends_on_id":"rff-wisp-vqse","type":"blocks","created_at":"2026-01-25T18:16:31.779634+01:00","created_by":"mayor"}]}
{"id":"rff-nlu","title":"Implement deadline notifications with action buttons","description":"attached_molecule: rff-wisp-yyc\nattached_at: 2026-01-25T12:22:51Z\ndispatched_by: mayor\n\nUserNotifications integration: 1) Request authorization on first launch. 2) UNCalendarNotificationTrigger for 24-hour reminders before dueDate. 3) Create RFF_DEADLINE category with actions: Snooze 1 hour, Mark Complete. 4) Use threadIdentifier for grouping. 5) Handle notification actions in delegate. 6) Optional: EventKit calendar integration with EKAlarm.","notes":"Implemented NotificationService with UserNotifications integration, RFF_DEADLINE category with Snooze/Mark Complete actions, 24-hour deadline reminders using UNCalendarNotificationTrigger, threadIdentifier grouping, AppDelegate for action handling, and CalendarService for optional EventKit/EKAlarm integration.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/rictus","created_at":"2026-01-25T12:59:37.434045+01:00","created_by":"mayor","updated_at":"2026-01-25T13:32:06.210309+01:00","closed_at":"2026-01-25T13:32:06.210309+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-nlu","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.707402+01:00","created_by":"mayor"}]}
{"id":"rff-nmq84","title":"AI-first UX overhaul: hide local schemas, show progress everywhere, batch AI analysis","description":"attached_molecule: rff-wisp-7p12\nattached_at: 2026-01-25T18:37:15Z\ndispatched_by: mayor\n\n1) Hide local schema UI - make AI analysis the primary flow\n2) Show AI analysis progress in Library view (not just detail pane)\n3) Disable right-click 'AI Analyze' while analysis is running\n4) Allow selecting multiple documents and running AI analysis on all at once (batch)\n5) Progress indicators should be visible no matter which view you're in","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/immortan","created_at":"2026-01-25T19:36:35.298861+01:00","created_by":"mayor","updated_at":"2026-01-25T19:47:05.361098+01:00","closed_at":"2026-01-25T19:47:05.361101+01:00","dependencies":[{"issue_id":"rff-nmq84","depends_on_id":"rff-wisp-7p12","type":"blocks","created_at":"2026-01-25T19:37:14.330418+01:00","created_by":"mayor"}]}
{"id":"rff-nmvc","title":"Add AI Analyze to right-click context menu in Library view","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/angharad","created_at":"2026-01-25T18:58:31.708386+01:00","created_by":"mayor","updated_at":"2026-01-25T19:09:30.454619+01:00","closed_at":"2026-01-25T19:09:30.454621+01:00","dependencies":[{"issue_id":"rff-nmvc","depends_on_id":"rff-wisp-b76y","type":"blocks","created_at":"2026-01-25T19:04:30.055717+01:00","created_by":"mayor"}]}
{"id":"rff-nx71","title":"Merge: rff-cjpl","description":"branch: polecat/imperator/rff-cjpl@mku0wdgw\ntarget: main\nsource_issue: rff-cjpl\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:43:37.772067+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:47.012135+01:00","closed_at":"2026-01-25T20:26:47.012137+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-o18n","title":"Add Cancel button to Library detail view - currently only Confirm \u0026 Submit exists","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/keeper","created_at":"2026-01-25T18:43:55.568888+01:00","created_by":"mayor","updated_at":"2026-01-25T19:06:13.885547+01:00","closed_at":"2026-01-25T19:06:13.885547+01:00","close_reason":"done","dependencies":[{"issue_id":"rff-o18n","depends_on_id":"rff-wisp-i9pn","type":"blocks","created_at":"2026-01-25T19:03:25.000111+01:00","created_by":"mayor"}]}
{"id":"rff-o5g","title":"Merge: rff-air","description":"branch: polecat/furiosa/rff-air@mktos3oj\ntarget: main\nsource_issue: rff-air\nrig: rff\nworker: furiosa","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:02:41.70492+01:00","created_by":"rff/polecats/furiosa","updated_at":"2026-01-25T13:21:06.95343+01:00","closed_at":"2026-01-25T13:21:06.95343+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-ogkib","title":"Merge: rff-ktnq","description":"branch: polecat/imperator/rff-ktnq@mku2mrth\ntarget: main\nsource_issue: rff-ktnq\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:55.376026+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:53.181739+01:00","closed_at":"2026-01-25T20:26:53.181741+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-ohdj","title":"Fix date parsing: European format DD.MM.YYYY (06.02.2026 = Feb 6) incorrectly parsed as MM.DD.YYYY (June 2)","description":"attached_molecule: rff-wisp-97dz\nattached_at: 2026-01-25T18:08:22Z\ndispatched_by: mayor\n\nDate extraction parses 06.02.2026 as June 2nd instead of February 6th. Need to detect and handle European date formats (DD.MM.YYYY) correctly. Consider locale detection or use context clues (day \u003e 12 means it must be DD.MM format).","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/keeper","created_at":"2026-01-25T19:07:47.373831+01:00","created_by":"mayor","updated_at":"2026-01-25T19:14:34.705362+01:00","closed_at":"2026-01-25T19:14:34.705362+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ohdj","depends_on_id":"rff-wisp-97dz","type":"blocks","created_at":"2026-01-25T19:08:21.276878+01:00","created_by":"mayor"}]}
{"id":"rff-oxc6","title":"Make highlight legend a fixed compact header above document","description":"attached_molecule: rff-wisp-sld0\nattached_at: 2026-01-25T17:31:36Z\ndispatched_by: mayor\n\nThe highlight legend is too intrusive. Change to:\n\n1. Fixed compact header bar above the document view\n2. Horizontal layout with small colored squares + labels\n3. Document scrolls underneath the fixed legend\n4. Example: [■ Amount] [■ Date] [■ Vendor] [■ Invoice#] in a single row\n5. Keep it minimal - just color chips and short labels","notes":"Implemented: Changed legend to compact horizontal header bar above PDF viewer. Legend shows automatically when highlights exist - horizontal layout with small color chips (12x12) and short labels. Removed the toggle button. Document scrolls underneath the fixed legend.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T18:31:05.544024+01:00","created_by":"mayor","updated_at":"2026-01-25T18:36:30.200735+01:00","closed_at":"2026-01-25T18:36:30.200735+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-oxc6","depends_on_id":"rff-wisp-sld0","type":"blocks","created_at":"2026-01-25T18:31:35.945037+01:00","created_by":"mayor"}]}
{"id":"rff-pp6e","title":"Merge: rff-nlu","description":"branch: polecat/rictus/rff-nlu@mktpp3ti\ntarget: main\nsource_issue: rff-nlu\nrig: rff\nworker: rictus\nagent_bead: rff-rff-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:32:03.400043+01:00","created_by":"rff/polecats/rictus","updated_at":"2026-01-25T13:32:45.641252+01:00","closed_at":"2026-01-25T13:32:45.641252+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-pusw","title":"Merge: rff-6910","description":"branch: polecat/coma/rff-6910@mku1ck7w\ntarget: main\nsource_issue: rff-6910\nrig: rff\nworker: coma\nagent_bead: rff-rff-polecat-coma\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:58:01.081753+01:00","created_by":"rff/polecats/coma","updated_at":"2026-01-25T20:26:48.753093+01:00","closed_at":"2026-01-25T20:26:48.753097+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-q9ho","title":"Merge: rff-1pz6","description":"branch: polecat/organic/rff-1pz6@mku0n1f6\ntarget: main\nsource_issue: rff-1pz6\nrig: rff\nworker: organic\nagent_bead: rff-rff-polecat-organic\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:38:29.521792+01:00","created_by":"rff/polecats/organic","updated_at":"2026-01-25T20:26:46.551717+01:00","closed_at":"2026-01-25T20:26:46.55172+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-qids","title":"Add clipboard paste support for invoice images","description":"attached_molecule: rff-wisp-z92h\nattached_at: 2026-01-25T13:14:52Z\ndispatched_by: mayor\n\nSupport pasting images from clipboard (Cmd+V): 1) Listen for paste command in main view 2) Check NSPasteboard for image types (PNG, JPEG, TIFF) 3) Run Vision OCR on pasted image 4) Extract entities and create LineItem same as PDF flow. User should be able to screenshot an invoice and paste it directly.","notes":"Implemented clipboard paste support in ContentView:\n- Added onPasteCommand handler for PNG/JPEG/TIFF\n- Uses DocumentOCRService for Vision OCR\n- Uses EntityExtractionService for entity extraction\n- Creates RFFDocument with extracted data\n- Shows processing overlay during scan\nCommit: 25630cf","status":"closed","priority":0,"issue_type":"feature","assignee":"rff/polecats/capable","created_at":"2026-01-25T14:14:25.319259+01:00","created_by":"mayor","updated_at":"2026-01-25T14:26:49.992207+01:00","closed_at":"2026-01-25T14:26:38.633128+01:00","close_reason":"Merged and build verified","dependencies":[{"issue_id":"rff-qids","depends_on_id":"rff-wisp-5za","type":"blocks","created_at":"2026-01-25T14:14:51.299089+01:00","created_by":"mayor"},{"issue_id":"rff-qids","depends_on_id":"rff-wisp-z92h","type":"blocks","created_at":"2026-01-25T14:19:48.734757+01:00","created_by":"mayor"}]}
{"id":"rff-qjga","title":"Merge: rff-66nd","description":"branch: polecat/slit/rff-66nd@mktylylx\ntarget: main\nsource_issue: rff-66nd\nrig: rff\nworker: slit\nagent_bead: rff-rff-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T17:38:44.360865+01:00","created_by":"rff/polecats/slit","updated_at":"2026-01-25T20:25:37.617083+01:00","closed_at":"2026-01-25T20:25:37.617086+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-qvf","title":"Digest: mol-witness-patrol","description":"Patrol cycle 3: No changes. Stable wait state.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:11:06.609793+01:00","updated_at":"2026-01-25T13:11:06.609793+01:00","closed_at":"2026-01-25T13:11:06.609696+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-qwf","title":"Merge: rff-b5h","description":"branch: polecat/dementus/rff-b5h@mktplmdo\ntarget: main\nsource_issue: rff-b5h\nrig: rff\nworker: dementus\nagent_bead: rff-rff-polecat-dementus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:28:52.746306+01:00","created_by":"rff/polecats/dementus","updated_at":"2026-01-25T13:32:45.62398+01:00","closed_at":"2026-01-25T13:32:45.62398+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-r1mn","title":"Merge: rff-skta","description":"branch: polecat/imperator/rff-skta@mku1a2s5\ntarget: main\nsource_issue: rff-skta\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:56:28.505385+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:48.322653+01:00","closed_at":"2026-01-25T20:26:48.322655+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-rff-crew-mandrigin","title":"Crew worker mandrigin in rff - human-managed persistent workspace.","description":"Crew worker mandrigin in rff - human-managed persistent workspace.\n\nrole_type: crew\nrig: rff\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T12:56:35.060306+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:35.060306+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-ace","title":"rff-rff-polecat-ace","description":"rff-rff-polecat-ace\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:05:17.087934+01:00","created_by":"mayor","updated_at":"2026-01-25T19:12:55.87464+01:00","closed_at":"2026-01-25T19:06:53.671817+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-angharad","title":"rff-rff-polecat-angharad","description":"rff-rff-polecat-angharad\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-nmvc\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:04:09.946109+01:00","created_by":"mayor","updated_at":"2026-01-25T19:04:10.29092+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-bullet","title":"rff-rff-polecat-bullet","description":"rff-rff-polecat-bullet\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:52:46.938345+01:00","created_by":"mayor","updated_at":"2026-01-25T20:26:19.26474+01:00","closed_at":"2026-01-25T20:26:19.26474+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-capable","title":"rff-rff-polecat-capable","description":"rff-rff-polecat-capable\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:23:28.423494+01:00","created_by":"mayor","updated_at":"2026-01-25T17:32:53.75244+01:00","closed_at":"2026-01-25T16:55:53.436839+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-cheedo","title":"rff-rff-polecat-cheedo","description":"rff-rff-polecat-cheedo\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T16:30:16.755735+01:00","created_by":"mayor","updated_at":"2026-01-25T18:01:02.54583+01:00","closed_at":"2026-01-25T16:31:06.677294+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-chumbucket","title":"rff-rff-polecat-chumbucket","description":"rff-rff-polecat-chumbucket\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:31:22.887019+01:00","created_by":"mayor","updated_at":"2026-01-25T20:36:32.642613+01:00","closed_at":"2026-01-25T20:35:12.914641+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-coma","title":"rff-rff-polecat-coma","description":"rff-rff-polecat-coma\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:51:49.526065+01:00","created_by":"mayor","updated_at":"2026-01-25T19:19:14.026658+01:00","closed_at":"2026-01-25T19:08:08.595712+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-corpus","title":"rff-rff-polecat-corpus","description":"rff-rff-polecat-corpus\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-0no1h\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:31:56.011022+01:00","created_by":"mayor","updated_at":"2026-01-25T20:31:56.287353+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-dag","title":"rff-rff-polecat-dag","description":"rff-rff-polecat-dag\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T16:29:22.771945+01:00","created_by":"mayor","updated_at":"2026-01-25T18:23:31.439929+01:00","closed_at":"2026-01-25T18:19:06.136754+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-dementus","title":"rff-rff-polecat-dementus","description":"rff-rff-polecat-dementus\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:22:57.472408+01:00","created_by":"mayor","updated_at":"2026-01-25T17:32:11.780814+01:00","closed_at":"2026-01-25T16:55:56.18206+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-dinki","title":"rff-rff-polecat-dinki","description":"rff-rff-polecat-dinki\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-h2r7o\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:32:29.516387+01:00","created_by":"mayor","updated_at":"2026-01-25T20:32:29.761877+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-furiosa","title":"rff-rff-polecat-furiosa","description":"rff-rff-polecat-furiosa\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:00:00.335697+01:00","created_by":"mayor","updated_at":"2026-01-25T17:04:47.318865+01:00","closed_at":"2026-01-25T17:04:06.737116+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-glory","title":"rff-rff-polecat-glory","description":"rff-rff-polecat-glory\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-v9ykq\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:30:02.738778+01:00","created_by":"mayor","updated_at":"2026-01-25T20:30:02.978576+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-goose","title":"rff-rff-polecat-goose","description":"rff-rff-polecat-goose\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-558uj\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:23:35.175068+01:00","created_by":"mayor","updated_at":"2026-01-25T20:23:35.432327+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-immortan","title":"rff-rff-polecat-immortan","description":"rff-rff-polecat-immortan\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-nmq84\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:36:53.791283+01:00","created_by":"mayor","updated_at":"2026-01-25T19:36:54.221823+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-imperator","title":"rff-rff-polecat-imperator","description":"rff-rff-polecat-imperator\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:31:16.7951+01:00","created_by":"mayor","updated_at":"2026-01-25T19:44:47.972152+01:00","closed_at":"2026-01-25T19:38:02.146302+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-keeper","title":"rff-rff-polecat-keeper","description":"rff-rff-polecat-keeper\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T17:59:36.277289+01:00","created_by":"mayor","updated_at":"2026-01-25T19:16:12.170666+01:00","closed_at":"2026-01-25T19:14:36.994887+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-max","title":"rff-rff-polecat-max","description":"rff-rff-polecat-max\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-y83pz\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:35:33.994861+01:00","created_by":"mayor","updated_at":"2026-01-25T19:39:06.669812+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-morsov","title":"rff-rff-polecat-morsov","description":"rff-rff-polecat-morsov\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:04:35.729852+01:00","created_by":"mayor","updated_at":"2026-01-25T18:38:53.334694+01:00","closed_at":"2026-01-25T18:32:31.887815+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-nightrider","title":"rff-rff-polecat-nightrider","description":"rff-rff-polecat-nightrider\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:29:19.577497+01:00","created_by":"mayor","updated_at":"2026-01-25T20:35:52.757757+01:00","closed_at":"2026-01-25T20:35:38.404738+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-nux","title":"rff-rff-polecat-nux","description":"rff-rff-polecat-nux\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:21:45.704064+01:00","created_by":"mayor","updated_at":"2026-01-25T17:00:35.210841+01:00","closed_at":"2026-01-25T16:55:58.900019+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-organic","title":"rff-rff-polecat-organic","description":"rff-rff-polecat-organic\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:32:01.024621+01:00","created_by":"mayor","updated_at":"2026-01-25T18:51:09.201822+01:00","closed_at":"2026-01-25T18:38:34.46766+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-prime","title":"rff-rff-polecat-prime","description":"rff-rff-polecat-prime\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-8n36m\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:33:15.634145+01:00","created_by":"mayor","updated_at":"2026-01-25T20:33:16.190599+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-rictus","title":"rff-rff-polecat-rictus","description":"rff-rff-polecat-rictus\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:22:33.215239+01:00","created_by":"mayor","updated_at":"2026-01-25T17:31:09.823365+01:00","closed_at":"2026-01-25T16:33:44.09099+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-scrotus","title":"rff-rff-polecat-scrotus","description":"rff-rff-polecat-scrotus\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-cjh5\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T20:30:35.17357+01:00","created_by":"mayor","updated_at":"2026-01-25T20:30:35.446074+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-slit","title":"rff-rff-polecat-slit","description":"rff-rff-polecat-slit\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:22:09.206052+01:00","created_by":"mayor","updated_at":"2026-01-25T17:49:11.924226+01:00","closed_at":"2026-01-25T17:38:48.795469+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-splendid","title":"rff-rff-polecat-splendid","description":"rff-rff-polecat-splendid\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:03:36.890157+01:00","created_by":"mayor","updated_at":"2026-01-25T19:34:47.822859+01:00","closed_at":"2026-01-25T19:29:10.900473+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-toast","title":"rff-rff-polecat-toast","description":"rff-rff-polecat-toast\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T13:24:16.893683+01:00","created_by":"mayor","updated_at":"2026-01-25T18:01:16.761168+01:00","closed_at":"2026-01-25T17:57:44.877608+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-polecat-toecutter","title":"rff-rff-polecat-toecutter","description":"rff-rff-polecat-toecutter\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-cmikt\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:55:18.645956+01:00","created_by":"mayor","updated_at":"2026-01-25T19:55:18.91645+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-valkyrie","title":"rff-rff-polecat-valkyrie","description":"rff-rff-polecat-valkyrie\n\nrole_type: polecat\nrig: rff\nagent_state: spawning\nhook_bead: rff-6io6\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T17:59:07.23838+01:00","created_by":"mayor","updated_at":"2026-01-25T17:59:07.427428+01:00","labels":["gt:agent"]}
{"id":"rff-rff-polecat-warboy","title":"rff-rff-polecat-warboy","description":"rff-rff-polecat-warboy\n\nrole_type: polecat\nrig: rff\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T18:06:38.276031+01:00","created_by":"mayor","updated_at":"2026-01-25T18:17:38.568575+01:00","closed_at":"2026-01-25T18:15:07.637335+01:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"rff-rff-refinery","title":"Refinery for rff - processes merge queue.","description":"Refinery for rff - processes merge queue.\n\nrole_type: refinery\nrig: rff\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T12:56:12.797595+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:12.797595+01:00","labels":["gt:agent"]}
{"id":"rff-rff-witness","title":"Witness for rff - monitors polecat health and progress.","description":"Witness for rff - monitors polecat health and progress.\n\nrole_type: witness\nrig: rff\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-25T12:56:12.511366+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:12.511366+01:00","labels":["gt:agent"]}
{"id":"rff-rg6m","title":"Merge: rff-35ho","description":"branch: polecat/slit/rff-35ho@mktrku9z\ntarget: main\nsource_issue: rff-35ho\nrig: rff\nworker: slit\nagent_bead: rff-rff-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-25T14:27:20.249637+01:00","created_by":"rff/polecats/slit","updated_at":"2026-01-25T16:25:05.216131+01:00","closed_at":"2026-01-25T16:25:05.216131+01:00","close_reason":"Already merged to main (commit 31dfbc8)","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-rig-rff","title":"rff","description":"Rig identity bead for rff.\n\nrepo: git@github.com:mandrigin/req-of-funds.git\nprefix: rff\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T12:56:13.59906+01:00","created_by":"mandrigin","updated_at":"2026-01-25T12:56:13.59906+01:00","labels":["gt:rig"]}
{"id":"rff-rx4kh","title":"Merge: rff-dngrh","description":"branch: polecat/chumbucket/rff-dngrh@mku4wl75\ntarget: main\nsource_issue: rff-dngrh\nrig: rff\nworker: chumbucket\nagent_bead: rff-rff-polecat-chumbucket\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-25T20:35:07.735169+01:00","created_by":"rff/polecats/chumbucket","updated_at":"2026-01-25T20:35:07.735169+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-s0qo","title":"Implement invoice schema learning system","description":"attached_molecule: rff-wisp-4cwv\nattached_at: 2026-01-25T16:33:12Z\ndispatched_by: mayor\n\nPrivacy-first invoice OCR with reusable schemas:\n1. Schema Storage: Built-in schemas for common invoice types + user-created schemas in JSON/CoreData with versioning\n2. OCR Pipeline: Vision framework + Core ML for field classification (invoice#, date, total, line items, vendor) with confidence scoring\n3. Schema Editor UI: Visual overlay on invoice, drag-to-map detected text to schema fields, template selector\n4. AI-Assisted (opt-in): 'AI Analyze' button sends to OpenAI API only when user explicitly taps, returns suggested schema for review\n5. On-Device Learning: Track user corrections, update schema weights locally with Create ML, no cloud sync","status":"closed","priority":1,"issue_type":"epic","assignee":"rff/polecats/capable","created_at":"2026-01-25T17:32:01.070793+01:00","created_by":"mayor","updated_at":"2026-01-25T17:46:54.229621+01:00","closed_at":"2026-01-25T17:46:54.229621+01:00","close_reason":"Schema learning system implemented with InvoiceSchema, SchemaStore, FieldClassifier, AIAnalysisService, CorrectionHistoryService, and SchemaEditorView","dependencies":[{"issue_id":"rff-s0qo","depends_on_id":"rff-wisp-4cwv","type":"blocks","created_at":"2026-01-25T17:33:11.614065+01:00","created_by":"mayor"}]}
{"id":"rff-skta","title":"AI detection issues: 1) New schema not appearing after detection, 2) Total amount not being mapped to document fields","description":"attached_molecule: rff-wisp-s2ux\nattached_at: 2026-01-25T17:50:13Z\ndispatched_by: mayor\n\nAfter running AI analysis: the suggested schema name appears in the results but doesn't show up as a selectable schema. Also the total amount isn't being applied to the document even when detected. Check the saveSchema flow and field application logic.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/imperator","created_at":"2026-01-25T18:49:42.698497+01:00","created_by":"mayor","updated_at":"2026-01-25T18:56:32.112336+01:00","closed_at":"2026-01-25T18:56:32.112336+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-skta","depends_on_id":"rff-wisp-s2ux","type":"blocks","created_at":"2026-01-25T18:50:12.653636+01:00","created_by":"mayor"}],"comments":[{"id":5,"issue_id":"rff-skta","author":"rff/polecats/imperator","text":"IMPLEMENTED: Fixed two AI detection issues:\n\n1. ConfirmationFormView not updating after AI analysis - Added .onChange observers for document properties (requestingOrganization, amount, currency, dueDate) to re-sync local editing state when document changes externally.\n\n2. Total amount parsing failing - Added parseAmount() helper that strips currency symbols ($, €, £, CHF), commas, and spaces before decimal parsing. Applied to both LibraryAIAnalysisResultSheet and AIAnalysisResultSheet.\n\nBuild verified: ✅ BUILD SUCCEEDED","created_at":"2026-01-25T17:56:11Z"}]}
{"id":"rff-sl9","title":"Digest: mol-witness-patrol","description":"Patrol cycle 1: Furiosa working on rff-air (Xcode setup). Received LIFECYCLE shutdown request but found unpushed work. Escalated RECOVERY_NEEDED to Mayor - git push failed with SSH permission denied.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:04:42.682186+01:00","updated_at":"2026-01-25T13:04:42.682186+01:00","closed_at":"2026-01-25T13:04:42.682105+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-sp09","title":"Digest: mol-witness-patrol","description":"Patrol 11: force-nuked furiosa/nux (clean but stuck on closed rff-3mq), slit completed earlier","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:58:28.707363+01:00","updated_at":"2026-01-25T13:58:28.707363+01:00","closed_at":"2026-01-25T13:58:28.707283+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-sw4n","title":"Digest: mol-witness-patrol","description":"Patrol 5: slit working, furiosa/nux idle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:51:09.69508+01:00","updated_at":"2026-01-25T13:51:09.69508+01:00","closed_at":"2026-01-25T13:51:09.695011+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-t43h","title":"Fix schema editor UX - mapping and interaction broken","description":"attached_molecule: rff-wisp-98do\nattached_at: 2026-01-25T17:17:58Z\ndispatched_by: mayor\n\nSchema editor UX issues:\n1. Can't map document fields to schema - interaction not working\n2. Auto-map button doesn't work\n3. Can't move or select elements in the editor\n4. Overall UX is confusing - unclear how to use\n\nNeed to:\n- Fix drag-and-drop selection of text regions\n- Make auto-map actually detect and map common fields\n- Add clear visual feedback when selecting/mapping\n- Add help text or tooltips explaining the workflow\n- Test that clicking on detected text creates a mapping","status":"hooked","priority":2,"issue_type":"task","assignee":"rff/polecats/warboy","created_at":"2026-01-25T18:17:23.357644+01:00","created_by":"mayor","updated_at":"2026-01-25T18:17:58.703918+01:00","dependencies":[{"issue_id":"rff-t43h","depends_on_id":"rff-wisp-98do","type":"blocks","created_at":"2026-01-25T18:17:57.564492+01:00","created_by":"mayor"}]}
{"id":"rff-tpoz","title":"Fix multiple files drag and drop - should handle batch import of multiple PDFs/images","description":"attached_molecule: rff-wisp-9z62\nattached_at: 2026-01-25T18:09:25Z\ndispatched_by: mayor\n\nWhen dragging multiple files onto the app, it should import all of them, not just one. Support batch drag and drop for PDFs and images.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/ace","created_at":"2026-01-25T19:08:52.166526+01:00","created_by":"mayor","updated_at":"2026-01-25T19:12:41.039136+01:00","closed_at":"2026-01-25T19:12:41.039136+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-tpoz","depends_on_id":"rff-wisp-9z62","type":"blocks","created_at":"2026-01-25T19:09:24.515443+01:00","created_by":"mayor"}]}
{"id":"rff-tuso","title":"Add DocuSign-style editable confirmation form","description":"attached_molecule: rff-wisp-3v1n\nattached_at: 2026-01-25T15:40:09Z\ndispatched_by: mayor\n\nCreate side panel or overlay form showing extracted fields (amount, due date, organization) as editable TextFields. Include visual indicators for auto-extracted vs manually edited. Add Confirm button to finalize.","notes":"Implemented DocuSign-style editable confirmation form with: ConfirmationFormView showing organization/amount/date as editable TextFields, SourceBadge visual indicators for auto-extracted vs manually edited fields, HSplitView integration in DocumentDetailView for side-by-side PDF + form view, Confirm button that transitions document to underReview status","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/nux","created_at":"2026-01-25T16:22:42.035733+01:00","created_by":"mayor","updated_at":"2026-01-25T16:50:39.392184+01:00","closed_at":"2026-01-25T16:50:39.392184+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-tuso","depends_on_id":"rff-8iy7","type":"blocks","created_at":"2026-01-25T16:23:07.23923+01:00","created_by":"mayor"},{"issue_id":"rff-tuso","depends_on_id":"rff-wisp-1tua","type":"blocks","created_at":"2026-01-25T16:40:08.805836+01:00","created_by":"mayor"},{"issue_id":"rff-tuso","depends_on_id":"rff-wisp-3v1n","type":"blocks","created_at":"2026-01-25T16:42:20.561473+01:00","created_by":"mayor"}]}
{"id":"rff-twmya","title":"Implement Foundation Models API client for invoice analysis","description":"attached_molecule: rff-wisp-zu6r9\nattached_at: 2026-01-25T19:29:49Z\ndispatched_by: mayor\n\nCreate the Foundation Models integration for invoice/document analysis.\n\n- Import FoundationModels framework\n- Create FoundationModelsClient class\n- Implement generate() method matching existing AI client interface\n- Handle streaming responses if supported\n- Add error handling for availability checks\n\nShould conform to existing AIClient protocol pattern.\n\nParent epic: rff-9z09d","status":"hooked","priority":1,"issue_type":"task","assignee":"rff/polecats/chumbucket","created_at":"2026-01-25T20:23:14.148435+01:00","created_by":"mayor","updated_at":"2026-01-25T20:36:54.695741+01:00","dependencies":[{"issue_id":"rff-twmya","depends_on_id":"rff-558uj","type":"blocks","created_at":"2026-01-25T20:23:24.542036+01:00","created_by":"mayor"},{"issue_id":"rff-twmya","depends_on_id":"rff-wisp-hpvk","type":"blocks","created_at":"2026-01-25T20:29:48.957333+01:00","created_by":"mayor"},{"issue_id":"rff-twmya","depends_on_id":"rff-wisp-zu6r9","type":"blocks","created_at":"2026-01-25T20:36:53.337783+01:00","created_by":"mayor"}]}
{"id":"rff-u18g","title":"Add multi-currency support with grouping","description":"attached_molecule: rff-wisp-4yzd\nattached_at: 2026-01-25T16:01:41Z\ndispatched_by: mayor\n\nSupport multiple currencies (USD, EUR, GBP, etc.) for document amounts. Add ability to group/filter documents by currency. Include currency detection from OCR text and manual currency selection.","status":"closed","priority":2,"issue_type":"feature","assignee":"rff/polecats/furiosa","created_at":"2026-01-25T16:40:55.31046+01:00","created_by":"mayor","updated_at":"2026-01-25T17:12:31.995262+01:00","closed_at":"2026-01-25T17:12:31.995263+01:00","dependencies":[{"issue_id":"rff-u18g","depends_on_id":"rff-wisp-2j5m","type":"blocks","created_at":"2026-01-25T17:01:40.452123+01:00","created_by":"mayor"},{"issue_id":"rff-u18g","depends_on_id":"rff-wisp-8lcr","type":"blocks","created_at":"2026-01-25T17:03:38.001185+01:00","created_by":"mayor"},{"issue_id":"rff-u18g","depends_on_id":"rff-wisp-4yzd","type":"blocks","created_at":"2026-01-25T17:05:05.268727+01:00","created_by":"mayor"}]}
{"id":"rff-u7y","title":"Merge: rff-9q4","description":"branch: polecat/furiosa/rff-9q4@mktpjdb3\ntarget: main\nsource_issue: rff-9q4\nrig: rff\nworker: furiosa\nagent_bead: rff-rff-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T13:24:24.773195+01:00","created_by":"rff/polecats/furiosa","updated_at":"2026-01-25T13:27:15.309435+01:00","closed_at":"2026-01-25T13:27:15.309435+01:00","close_reason":"Merged to main","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-ugec","title":"Fix AI analysis Apply button - doesn't update document or save schema","description":"attached_molecule: rff-wisp-2iba\nattached_at: 2026-01-25T17:26:51Z\ndispatched_by: mayor\n\nAfter AI analysis completes and user clicks 'Apply':\n1. Document fields don't update with extracted values\n2. Schema is not saved\n\nNeed to:\n- Wire up Apply button to actually copy AI results to document fields (organization, amount, date, etc.)\n- Save the generated schema to SchemaStore\n- Dismiss the AI results sheet after applying\n- Show confirmation that values were applied","notes":"Implemented: Removed 'only if empty' guards so AI suggestions are always applied when user selects them. Added saveSchema() to create schemas in SchemaStore from AI analysis. Fixed in both DocumentEditorView and LibraryAIAnalysisResultSheet.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/morsov","created_at":"2026-01-25T18:26:21.514882+01:00","created_by":"mayor","updated_at":"2026-01-25T18:32:30.151232+01:00","closed_at":"2026-01-25T18:32:30.151232+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ugec","depends_on_id":"rff-wisp-2iba","type":"blocks","created_at":"2026-01-25T18:26:50.656234+01:00","created_by":"mayor"}]}
{"id":"rff-v0n6","title":"Merge: rff-m3m1","description":"branch: polecat/imperator/rff-m3m1@mku2457z\ntarget: main\nsource_issue: rff-m3m1\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:26:34.09484+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:52.291395+01:00","closed_at":"2026-01-25T20:26:52.291397+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-v9ykq","title":"Add on-device provider option to AI Settings UI","description":"attached_molecule: rff-wisp-kobd\nattached_at: 2026-01-25T19:30:23Z\ndispatched_by: mayor\n\nUpdate UI to add separate 'AI Analyze (Local)' option alongside existing remote.\n\n## UX Approach\nInstead of a settings selector, add SEPARATE UI elements:\n- 'AI Analyze (Local)' button next to existing AI Analyze button\n- 'AI Analyze (Local)' menu item in context menu alongside remote option\n- Both options visible when on-device is available\n\n## Requirements\n- Only show local option on macOS 26+\n- Clear labeling: 'AI Analyze' (remote) vs 'AI Analyze (Local)'\n- Same analysis workflow, different provider\n- No API key required indicator for local option\n\n## Locations to update\n- Toolbar buttons\n- Right-click context menu\n- Library view actions\n\nParent epic: rff-9z09d","status":"hooked","priority":1,"issue_type":"task","assignee":"rff/polecats/glory","created_at":"2026-01-25T20:23:15.159236+01:00","created_by":"mayor","updated_at":"2026-01-25T20:30:23.454836+01:00","dependencies":[{"issue_id":"rff-v9ykq","depends_on_id":"rff-twmya","type":"blocks","created_at":"2026-01-25T20:23:24.751387+01:00","created_by":"mayor"},{"issue_id":"rff-v9ykq","depends_on_id":"rff-wisp-kobd","type":"blocks","created_at":"2026-01-25T20:30:21.873594+01:00","created_by":"mayor"}]}
{"id":"rff-vnt","title":"Create Core ML document classifier with CreateML","description":"attached_molecule: rff-wisp-4gz\nattached_at: 2026-01-25T12:23:46Z\ndispatched_by: mayor\n\nTrain custom MLTextClassifier: 1) Prepare labeled training data with categories: invoice, purchase_order, grant_request, reimbursement. 2) Use Transfer Learning with Dynamic Embedding algorithm. 3) Train with minimum 10-20 examples per class. 4) Export .mlmodel. 5) Integrate with NLModel for prediction. 6) Use async prediction API for thread-safe batch processing.","status":"closed","priority":1,"issue_type":"task","assignee":"rff/polecats/capable","created_at":"2026-01-25T12:59:34.981004+01:00","created_by":"mayor","updated_at":"2026-01-25T13:34:39.176999+01:00","closed_at":"2026-01-25T13:34:39.176999+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-vnt","depends_on_id":"rff-air","type":"blocks","created_at":"2026-01-25T12:59:48.546084+01:00","created_by":"mayor"}],"comments":[{"id":2,"issue_id":"rff-vnt","author":"rff/polecats/capable","text":"Implemented document classifier:\n- DocumentCategory enum with 4 categories (invoice, purchase_order, grant_request, reimbursement)\n- DocumentClassifier actor with async prediction API using NLModel\n- Thread-safe batch classification using structured concurrency\n- Training data JSON with 20 examples per category (80 total)\n- TrainClassifier Swift Package tool using CreateML with ELMo Transfer Learning\n- Updated RFFDocument model with classification fields\n\nFiles added:\n- RFF/RFF/ML/DocumentCategory.swift\n- RFF/RFF/ML/DocumentClassifier.swift\n- RFF/RFF/Resources/TrainingData.json\n- Tools/TrainClassifier/Package.swift\n- Tools/TrainClassifier/Sources/main.swift\n\nFiles modified:\n- RFF/RFF/Models/RFFDocument.swift (added documentCategory and classificationConfidence fields)\n- .gitignore (added .build/ and .swiftpm/)","created_at":"2026-01-25T12:34:08Z"}]}
{"id":"rff-vvej","title":"Merge: rff-m1v5","description":"branch: polecat/keeper/rff-m1v5@mku1iv68\ntarget: main\nsource_issue: rff-m1v5\nrig: rff\nworker: keeper\nagent_bead: rff-rff-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:33.408336+01:00","created_by":"rff/polecats/keeper","updated_at":"2026-01-25T20:26:49.630378+01:00","closed_at":"2026-01-25T20:26:49.63038+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-wair","title":"Replace highlight buttons with automatic field detection + legend","description":"attached_molecule: rff-wisp-1fqs\nattached_at: 2026-01-25T17:05:36Z\ndispatched_by: mayor\n\nIn Library document preview (Review tab):\n1. Remove 'Highlight Amounts' and 'Highlight Dates' buttons\n2. Automatically detect and highlight ALL known fields when viewing document:\n   - Amounts (green)\n   - Dates (blue)  \n   - Vendor/organization (orange)\n   - Invoice number (purple)\n   - etc.\n3. Add a legend panel showing what each color means\n4. Allow clicking on highlighted regions to see/edit the extracted value\n5. Use existing PDFTextFinder and schema field detection\n\nMake the preview immediately useful without manual button clicks.","notes":"Implemented: Replaced manual highlight buttons with automatic field detection on PDF load. Added color-coded highlights for different field types (amounts=green, dates=blue, vendor=orange, invoice number=purple). Added collapsible legend panel. Added click-to-select with edit panel for applying extracted values to document fields.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/keeper","created_at":"2026-01-25T18:05:04.77369+01:00","created_by":"mayor","updated_at":"2026-01-25T18:27:21.867653+01:00","closed_at":"2026-01-25T18:27:21.867653+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wair","depends_on_id":"rff-wisp-tl2d","type":"blocks","created_at":"2026-01-25T18:05:35.436636+01:00","created_by":"mayor"},{"issue_id":"rff-wair","depends_on_id":"rff-wisp-dpys","type":"blocks","created_at":"2026-01-25T18:10:16.577181+01:00","created_by":"mayor"},{"issue_id":"rff-wair","depends_on_id":"rff-wisp-1fqs","type":"blocks","created_at":"2026-01-25T18:12:55.257091+01:00","created_by":"mayor"}]}
{"id":"rff-wisp-003","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:30:32.710626+01:00","updated_at":"2026-01-25T13:30:32.710626+01:00","ephemeral":true}
{"id":"rff-wisp-01i2","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-5u9g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.21228+01:00","updated_at":"2026-01-25T16:35:31.21228+01:00","dependencies":[{"issue_id":"rff-wisp-01i2","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.263303+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-02d","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:32.518016+01:00","updated_at":"2026-01-25T13:00:32.518016+01:00","dependencies":[{"issue_id":"rff-wisp-02d","depends_on_id":"rff-wisp-wox","type":"parent-child","created_at":"2026-01-25T13:00:32.524913+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-02d","depends_on_id":"rff-wisp-03k","type":"blocks","created_at":"2026-01-25T13:00:32.53646+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-03k","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:32.517727+01:00","updated_at":"2026-01-25T13:00:32.517727+01:00","dependencies":[{"issue_id":"rff-wisp-03k","depends_on_id":"rff-wisp-wox","type":"parent-child","created_at":"2026-01-25T13:00:32.523731+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-03k","depends_on_id":"rff-wisp-6nr","type":"blocks","created_at":"2026-01-25T13:00:32.535418+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-04y4","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-9wrf should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.205714+01:00","updated_at":"2026-01-25T18:06:38.876446+01:00","closed_at":"2026-01-25T18:06:38.876446+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-04y4","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.308326+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-04y4","depends_on_id":"rff-wisp-qgf6","type":"blocks","created_at":"2026-01-25T17:59:54.540958+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-05q","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:17.458189+01:00","updated_at":"2026-01-25T13:00:17.458189+01:00","dependencies":[{"issue_id":"rff-wisp-05q","depends_on_id":"rff-wisp-6sk","type":"parent-child","created_at":"2026-01-25T13:00:17.464063+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-09h","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-nlu should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.563481+01:00","updated_at":"2026-01-25T13:30:43.097819+01:00","closed_at":"2026-01-25T13:30:43.097819+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-09h","depends_on_id":"rff-wisp-q7c","type":"blocks","created_at":"2026-01-25T13:25:57.611696+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0be5","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-v9ykq\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.106973+01:00","updated_at":"2026-01-25T20:32:44.797695+01:00","closed_at":"2026-01-25T20:32:44.797697+01:00","dependencies":[{"issue_id":"rff-wisp-0be5","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.207497+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0be5","depends_on_id":"rff-wisp-aj70","type":"blocks","created_at":"2026-01-25T20:30:20.951008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0dfe","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-70k6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-70k6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.372959+01:00","updated_at":"2026-01-25T18:12:33.696613+01:00","closed_at":"2026-01-25T18:12:33.696614+01:00","dependencies":[{"issue_id":"rff-wisp-0dfe","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.453249+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0h14","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-0enz           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-0enz\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.529848+01:00","updated_at":"2026-01-25T17:47:23.529848+01:00","dependencies":[{"issue_id":"rff-wisp-0h14","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.533756+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0j5","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.287454+01:00","updated_at":"2026-01-25T13:45:15.287454+01:00","dependencies":[{"issue_id":"rff-wisp-0j5","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.302377+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0jdb","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.754554+01:00","updated_at":"2026-01-25T18:11:29.754554+01:00","dependencies":[{"issue_id":"rff-wisp-0jdb","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.952521+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0jdb","depends_on_id":"rff-wisp-6bxv","type":"blocks","created_at":"2026-01-25T18:11:30.219938+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0kw8","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.330126+01:00","updated_at":"2026-01-25T20:22:39.330126+01:00","dependencies":[{"issue_id":"rff-wisp-0kw8","depends_on_id":"rff-wisp-qn4g","type":"blocks","created_at":"2026-01-25T20:22:40.748007+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-0mr","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-7za\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-7za --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.728424+01:00","updated_at":"2026-01-25T13:30:32.728424+01:00","dependencies":[{"issue_id":"rff-wisp-0mr","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.777996+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0pcv","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-tuso).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-tuso\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.567272+01:00","updated_at":"2026-01-25T16:40:08.567272+01:00","dependencies":[{"issue_id":"rff-wisp-0pcv","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.582519+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0pcv","depends_on_id":"rff-wisp-ynky","type":"blocks","created_at":"2026-01-25T16:40:08.63408+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0q0f","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ev2g\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ev2g --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.926198+01:00","updated_at":"2026-01-25T18:15:49.926198+01:00","dependencies":[{"issue_id":"rff-wisp-0q0f","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.175506+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0q0f","depends_on_id":"rff-wisp-83w1","type":"blocks","created_at":"2026-01-25T18:15:50.458992+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0quy","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-nmq84 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.589972+01:00","updated_at":"2026-01-25T19:56:16.71432+01:00","closed_at":"2026-01-25T19:56:16.71432+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-0quy","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:12.944211+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0quy","depends_on_id":"rff-wisp-ky2h","type":"blocks","created_at":"2026-01-25T19:37:13.70659+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0t6o","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.459836+01:00","updated_at":"2026-01-25T18:10:42.459836+01:00","dependencies":[{"issue_id":"rff-wisp-0t6o","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.622365+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0t6o","depends_on_id":"rff-wisp-7d8i","type":"blocks","created_at":"2026-01-25T18:10:42.878242+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0w5f","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.658374+01:00","updated_at":"2026-01-25T17:30:45.658374+01:00","dependencies":[{"issue_id":"rff-wisp-0w5f","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.728124+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0w5p","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-gn2v\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.033464+01:00","updated_at":"2026-01-25T18:51:27.033464+01:00","dependencies":[{"issue_id":"rff-wisp-0w5p","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.093348+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0w5p","depends_on_id":"rff-wisp-4ck2","type":"blocks","created_at":"2026-01-25T18:51:27.537827+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-0ycr","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-1pz6).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-1pz6\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.903944+01:00","updated_at":"2026-01-25T18:34:58.045877+01:00","closed_at":"2026-01-25T18:34:58.045877+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-0ycr","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:18.996329+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-0ycr","depends_on_id":"rff-wisp-wgzx","type":"blocks","created_at":"2026-01-25T18:32:19.425148+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-109k","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.292093+01:00","updated_at":"2026-01-25T16:49:56.558388+01:00","closed_at":"2026-01-25T16:49:56.55839+01:00","dependencies":[{"issue_id":"rff-wisp-109k","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.341939+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-109k","depends_on_id":"rff-wisp-hyxy","type":"blocks","created_at":"2026-01-25T16:42:20.418546+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-10a5","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-skta)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-skta\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.547679+01:00","updated_at":"2026-01-25T18:55:03.739747+01:00","closed_at":"2026-01-25T18:55:03.739747+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-10a5","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.712429+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-10a5","depends_on_id":"rff-wisp-hcci","type":"blocks","created_at":"2026-01-25T18:50:12.156805+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-10ej","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-tpoz should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.176314+01:00","updated_at":"2026-01-25T19:09:23.176314+01:00","dependencies":[{"issue_id":"rff-wisp-10ej","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.450694+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-10ej","depends_on_id":"rff-wisp-saob","type":"blocks","created_at":"2026-01-25T19:09:23.999114+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-10n9","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-0gnv should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:35.023374+01:00","updated_at":"2026-01-25T16:23:35.023374+01:00","dependencies":[{"issue_id":"rff-wisp-10n9","depends_on_id":"rff-wisp-5vx9","type":"parent-child","created_at":"2026-01-25T16:23:35.03736+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-10n9","depends_on_id":"rff-wisp-pmop","type":"blocks","created_at":"2026-01-25T16:23:35.061517+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-115s","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.706472+01:00","updated_at":"2026-01-25T17:00:52.706472+01:00","dependencies":[{"issue_id":"rff-wisp-115s","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.760573+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-115s","depends_on_id":"rff-wisp-d9sy","type":"blocks","created_at":"2026-01-25T17:00:52.848507+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-12gv","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cn7l\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cn7l --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.972005+01:00","updated_at":"2026-01-25T18:18:47.826396+01:00","closed_at":"2026-01-25T18:18:47.826396+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-12gv","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.215923+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-12gv","depends_on_id":"rff-wisp-ft0n","type":"blocks","created_at":"2026-01-25T18:13:32.496946+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-12yz","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cn7l)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cn7l\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.323054+01:00","updated_at":"2026-01-25T18:06:56.323054+01:00","dependencies":[{"issue_id":"rff-wisp-12yz","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.413621+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-12yz","depends_on_id":"rff-wisp-hnfg","type":"blocks","created_at":"2026-01-25T18:06:56.65098+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-15nk","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cfh0\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cfh0 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.038162+01:00","updated_at":"2026-01-25T16:56:58.038162+01:00","dependencies":[{"issue_id":"rff-wisp-15nk","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.104896+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-15nk","depends_on_id":"rff-wisp-yzza","type":"blocks","created_at":"2026-01-25T16:56:58.182565+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-18et","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-u18g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.107129+01:00","updated_at":"2026-01-25T17:01:40.107129+01:00","dependencies":[{"issue_id":"rff-wisp-18et","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.204253+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-18fo","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-wair           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-wair\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.539401+01:00","updated_at":"2026-01-25T18:15:18.6768+01:00","closed_at":"2026-01-25T18:15:18.676802+01:00","dependencies":[{"issue_id":"rff-wisp-18fo","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.544063+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-18iu","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.03542+01:00","updated_at":"2026-01-25T18:51:27.03542+01:00","dependencies":[{"issue_id":"rff-wisp-18iu","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.316068+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-18iu","depends_on_id":"rff-wisp-mnkl","type":"blocks","created_at":"2026-01-25T18:51:27.762357+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1an9","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-tpoz\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-tpoz --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.178282+01:00","updated_at":"2026-01-25T19:09:23.178282+01:00","dependencies":[{"issue_id":"rff-wisp-1an9","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.656967+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1an9","depends_on_id":"rff-wisp-izvm","type":"blocks","created_at":"2026-01-25T19:09:24.206682+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1bb6","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.43062+01:00","updated_at":"2026-01-25T19:35:06.43062+01:00","dependencies":[{"issue_id":"rff-wisp-1bb6","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.867079+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1bb6","depends_on_id":"rff-wisp-ktf9","type":"blocks","created_at":"2026-01-25T19:35:07.538206+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1bk0","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-tuso\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.292728+01:00","updated_at":"2026-01-25T16:50:30.749125+01:00","dependencies":[{"issue_id":"rff-wisp-1bk0","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.36666+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1bk0","depends_on_id":"rff-wisp-g042","type":"blocks","created_at":"2026-01-25T16:42:20.43556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1e1r","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-y83pz).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-y83pz\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.591002+01:00","updated_at":"2026-01-25T19:35:52.591002+01:00","dependencies":[{"issue_id":"rff-wisp-1e1r","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:52.781812+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1e1r","depends_on_id":"rff-wisp-fij2","type":"blocks","created_at":"2026-01-25T19:35:53.49821+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1egw","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-1pz6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-1pz6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.907014+01:00","updated_at":"2026-01-25T18:38:13.528598+01:00","closed_at":"2026-01-25T18:38:13.528598+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-1egw","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.21992+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1egw","depends_on_id":"rff-wisp-4xim","type":"blocks","created_at":"2026-01-25T18:32:19.662671+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1ejs","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:15:49.921794+01:00","updated_at":"2026-01-25T18:15:49.921794+01:00","ephemeral":true}
{"id":"rff-wisp-1ek5","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:47:23.529128+01:00","updated_at":"2026-01-25T17:47:23.529128+01:00","ephemeral":true}
{"id":"rff-wisp-1eq","title":"Check if active swarm is complete","description":"If Mayor started a batch (SWARM_START), check if all polecats have completed.\n\n**Step 1: Find active swarm tracking wisps**\n```bash\nbd list --wisp --labels=swarm --status=open\n```\nIf no active swarm, skip this step.\n\n**Step 2: Count completed polecats for this swarm**\n\nExtract from wisp labels: swarm_id, total, completed, start timestamp.\nCheck how many cleanup wisps have been closed for this swarm's polecats.\n\n**Step 3: If all complete, notify Mayor**\n```bash\ngt mail send mayor/ -s \"SWARM_COMPLETE: \u003cswarm_id\u003e\" -m \"All \u003ctotal\u003e polecats merged.\nDuration: \u003cminutes\u003e minutes\nSwarm: \u003cswarm_id\u003e\"\n\n# Close the swarm tracking wisp\nbd close \u003cswarm-wisp-id\u003e --reason \"All polecats merged\"\n```\n\nNote: Runs every patrol cycle. Notification sent exactly once when all complete.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:48.930227+01:00","updated_at":"2026-01-25T14:01:57.547491+01:00","closed_at":"2026-01-25T14:01:57.547491+01:00","close_reason":"No active swarm","dependencies":[{"issue_id":"rff-wisp-1eq","depends_on_id":"rff-wisp-o9e","type":"blocks","created_at":"2026-01-25T13:13:48.949044+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-1es6","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cn7l should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.323443+01:00","updated_at":"2026-01-25T18:06:56.323443+01:00","dependencies":[{"issue_id":"rff-wisp-1es6","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.44217+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1es6","depends_on_id":"rff-wisp-12yz","type":"blocks","created_at":"2026-01-25T18:06:56.683962+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1f0t","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-m3m1\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.152602+01:00","updated_at":"2026-01-25T19:22:53.010852+01:00","closed_at":"2026-01-25T19:22:53.010854+01:00","dependencies":[{"issue_id":"rff-wisp-1f0t","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.226469+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1f0t","depends_on_id":"rff-wisp-1ybe","type":"blocks","created_at":"2026-01-25T19:13:35.787999+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1fqs","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:12:54.538374+01:00","updated_at":"2026-01-25T18:27:21.527097+01:00","closed_at":"2026-01-25T18:27:21.527097+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-1guv","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ugec should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.837366+01:00","updated_at":"2026-01-25T18:31:05.470488+01:00","closed_at":"2026-01-25T18:31:05.47049+01:00","dependencies":[{"issue_id":"rff-wisp-1guv","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:49.99758+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1guv","depends_on_id":"rff-wisp-ggil","type":"blocks","created_at":"2026-01-25T18:26:50.313213+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1gxz","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:51:09.079646+01:00","updated_at":"2026-01-25T16:51:09.079646+01:00","ephemeral":true}
{"id":"rff-wisp-1jkj","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.428361+01:00","updated_at":"2026-01-25T18:57:30.428361+01:00","dependencies":[{"issue_id":"rff-wisp-1jkj","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.769028+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1jkj","depends_on_id":"rff-wisp-csy6","type":"blocks","created_at":"2026-01-25T18:57:31.230968+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1kwj","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.035907+01:00","updated_at":"2026-01-25T18:51:27.035907+01:00","dependencies":[{"issue_id":"rff-wisp-1kwj","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.371452+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1kwj","depends_on_id":"rff-wisp-18iu","type":"blocks","created_at":"2026-01-25T18:51:27.81934+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1kyc","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.323834+01:00","updated_at":"2026-01-25T18:06:56.323834+01:00","dependencies":[{"issue_id":"rff-wisp-1kyc","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.471742+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1kyc","depends_on_id":"rff-wisp-1es6","type":"blocks","created_at":"2026-01-25T18:06:56.715623+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1lkm","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.658716+01:00","updated_at":"2026-01-25T17:30:45.658716+01:00","dependencies":[{"issue_id":"rff-wisp-1lkm","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.741665+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1lkm","depends_on_id":"rff-wisp-0w5f","type":"blocks","created_at":"2026-01-25T17:30:45.852895+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1m1r","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:51:50.868211+01:00","updated_at":"2026-01-25T17:51:50.868211+01:00","ephemeral":true}
{"id":"rff-wisp-1mbg","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.458303+01:00","updated_at":"2026-01-25T20:32:47.458303+01:00","dependencies":[{"issue_id":"rff-wisp-1mbg","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.98062+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1mbg","depends_on_id":"rff-wisp-yyfr","type":"blocks","created_at":"2026-01-25T20:32:48.814114+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1mto","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:04:53.734634+01:00","updated_at":"2026-01-25T18:13:46.492298+01:00","closed_at":"2026-01-25T18:13:46.492298+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-1o8e","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-0enz should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.531683+01:00","updated_at":"2026-01-25T17:47:23.531683+01:00","dependencies":[{"issue_id":"rff-wisp-1o8e","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.610669+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1o8e","depends_on_id":"rff-wisp-krj9","type":"blocks","created_at":"2026-01-25T17:47:23.764307+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1s1n","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.909556+01:00","updated_at":"2026-01-25T19:16:30.909556+01:00","dependencies":[{"issue_id":"rff-wisp-1s1n","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.348615+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1s1n","depends_on_id":"rff-wisp-bkit","type":"blocks","created_at":"2026-01-25T19:16:31.935477+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1tr5","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.927384+01:00","updated_at":"2026-01-25T19:23:19.927384+01:00","dependencies":[{"issue_id":"rff-wisp-1tr5","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.44812+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1tr5","depends_on_id":"rff-wisp-ofkt","type":"blocks","created_at":"2026-01-25T19:23:21.117352+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1tua","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:40:08.56593+01:00","updated_at":"2026-01-25T16:40:08.56593+01:00","ephemeral":true}
{"id":"rff-wisp-1vcp","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cjh5\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cjh5 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.794012+01:00","updated_at":"2026-01-25T20:30:52.794012+01:00","dependencies":[{"issue_id":"rff-wisp-1vcp","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.464798+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1vcp","depends_on_id":"rff-wisp-i8wy","type":"blocks","created_at":"2026-01-25T20:30:54.23626+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1w9x","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ylt5\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ylt5 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.783002+01:00","updated_at":"2026-01-25T17:58:40.783002+01:00","dependencies":[{"issue_id":"rff-wisp-1w9x","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.945826+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-1w9x","depends_on_id":"rff-wisp-lh58","type":"blocks","created_at":"2026-01-25T17:58:41.1457+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1ybe","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-m3m1           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-m3m1\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.152038+01:00","updated_at":"2026-01-25T19:22:46.739531+01:00","closed_at":"2026-01-25T19:22:46.739533+01:00","dependencies":[{"issue_id":"rff-wisp-1ybe","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.156962+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-1yjx","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should contain ONLY:\n- Unprocessed MERGE_READY messages (will process next cycle)\n- Active work items\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- PATROL: Wake up that was acknowledged → archive\n- HELP/Blocked that was handled → archive\n- MERGE_READY where merge completed but archive was missed → archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Check for orphaned MR beads**\n\nLook for open MR beads with no corresponding branch:\n```bash\nbd list --type=merge-request --status=open\n```\n\nFor each open MR bead:\n1. Check if branch exists: `git ls-remote origin refs/heads/\u003cbranch\u003e`\n2. If branch gone, verify work is on main: `git log origin/main --oneline | grep \"\u003csource_issue\u003e\"`\n3. If work on main → close MR with reason \"Merged (verified on main)\"\n4. If work NOT on main → investigate before closing:\n   - Check source_issue validity (should be gt-xxxxx, not branch name)\n   - Search reflog/dangling commits if possible\n   - If unverifiable, close with reason \"Unverifiable - no audit trail\"\n   - File bead if this indicates lost work\n\n**NEVER close an MR bead without verifying the work landed or is unrecoverable.**\n\n**Goal**: Inbox should have ≤3 active messages at end of cycle.\nKeep only: pending MRs in queue.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.331207+01:00","updated_at":"2026-01-25T20:22:39.331207+01:00","dependencies":[{"issue_id":"rff-wisp-1yjx","depends_on_id":"rff-wisp-h5pk","type":"blocks","created_at":"2026-01-25T20:22:40.911558+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-209o","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-m1v5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-m1v5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.426869+01:00","updated_at":"2026-01-25T18:57:30.426869+01:00","dependencies":[{"issue_id":"rff-wisp-209o","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.598977+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-209o","depends_on_id":"rff-wisp-tirv","type":"blocks","created_at":"2026-01-25T18:57:31.056889+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-20uq","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ohdj\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ohdj --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.934095+01:00","updated_at":"2026-01-25T19:08:19.934095+01:00","dependencies":[{"issue_id":"rff-wisp-20uq","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.427487+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-20uq","depends_on_id":"rff-wisp-q1xh","type":"blocks","created_at":"2026-01-25T19:08:20.965726+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-220a","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-o18n).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-o18n\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.702403+01:00","updated_at":"2026-01-25T19:03:23.702403+01:00","dependencies":[{"issue_id":"rff-wisp-220a","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:23.830415+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-220a","depends_on_id":"rff-wisp-s4y4","type":"blocks","created_at":"2026-01-25T19:03:24.314968+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-22lc","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-tpoz).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-tpoz\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.175185+01:00","updated_at":"2026-01-25T19:09:23.175185+01:00","dependencies":[{"issue_id":"rff-wisp-22lc","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.315945+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-22lc","depends_on_id":"rff-wisp-o6jo","type":"blocks","created_at":"2026-01-25T19:09:23.861588+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-23fm","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-v9ykq\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.111939+01:00","updated_at":"2026-01-25T20:30:20.111939+01:00","dependencies":[{"issue_id":"rff-wisp-23fm","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.858512+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-23fm","depends_on_id":"rff-wisp-k077","type":"blocks","created_at":"2026-01-25T20:30:21.611261+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-23y5","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.317874+01:00","updated_at":"2026-01-25T16:44:55.317874+01:00","dependencies":[{"issue_id":"rff-wisp-23y5","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.337102+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-23y5","depends_on_id":"rff-wisp-lgog","type":"blocks","created_at":"2026-01-25T16:44:55.404921+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-24j5","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:30:45.655772+01:00","updated_at":"2026-01-25T17:30:45.655772+01:00","ephemeral":true}
{"id":"rff-wisp-24rh","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.53205+01:00","updated_at":"2026-01-25T17:47:23.53205+01:00","dependencies":[{"issue_id":"rff-wisp-24rh","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.629633+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-24rh","depends_on_id":"rff-wisp-1o8e","type":"blocks","created_at":"2026-01-25T17:47:23.784015+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-257j","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-iq3z\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-iq3z --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.313007+01:00","updated_at":"2026-01-25T16:29:40.313007+01:00","dependencies":[{"issue_id":"rff-wisp-257j","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.3466+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-257j","depends_on_id":"rff-wisp-vz86","type":"blocks","created_at":"2026-01-25T16:29:40.387381+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-25f","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-vnt\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-vnt --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.010865+01:00","updated_at":"2026-01-25T13:34:18.910234+01:00","closed_at":"2026-01-25T13:34:18.910234+01:00","close_reason":"Completion notes added, beads synced","ephemeral":true}
{"id":"rff-wisp-2789","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-dngrh\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-dngrh --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.736382+01:00","updated_at":"2026-01-25T20:31:40.736383+01:00","dependencies":[{"issue_id":"rff-wisp-2789","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.441839+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2789","depends_on_id":"rff-wisp-4i0s","type":"blocks","created_at":"2026-01-25T20:31:42.249719+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-29dp","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-0no1h)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-0no1h\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.882499+01:00","updated_at":"2026-01-25T20:36:50.437676+01:00","dependencies":[{"issue_id":"rff-wisp-29dp","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.190511+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-29dp","depends_on_id":"rff-wisp-o9e9","type":"blocks","created_at":"2026-01-25T20:32:15.021555+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-29pm","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-qids)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-qids\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.540596+01:00","updated_at":"2026-01-25T14:19:48.540596+01:00","dependencies":[{"issue_id":"rff-wisp-29pm","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.553391+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-29pm","depends_on_id":"rff-wisp-726f","type":"blocks","created_at":"2026-01-25T14:19:48.579242+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-29u","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-3mq)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-3mq\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.286367+01:00","updated_at":"2026-01-25T13:45:15.286367+01:00","dependencies":[{"issue_id":"rff-wisp-29u","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.295666+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-29u","depends_on_id":"rff-wisp-yy8","type":"blocks","created_at":"2026-01-25T13:45:15.314146+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2bu5","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cfh0).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cfh0\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.081019+01:00","updated_at":"2026-01-25T16:51:09.081019+01:00","dependencies":[{"issue_id":"rff-wisp-2bu5","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.099277+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2ccf","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-1iq7)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-1iq7\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.248428+01:00","updated_at":"2026-01-25T17:32:29.248428+01:00","dependencies":[{"issue_id":"rff-wisp-2ccf","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.301464+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2ccf","depends_on_id":"rff-wisp-pmu8","type":"blocks","created_at":"2026-01-25T17:32:29.432482+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2dl","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-nlu\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-nlu --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.741551+01:00","updated_at":"2026-01-25T13:22:50.741551+01:00","ephemeral":true}
{"id":"rff-wisp-2dmv","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:34:46.324621+01:00","updated_at":"2026-01-25T18:34:46.324622+01:00","ephemeral":true}
{"id":"rff-wisp-2dz","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:48.929586+01:00","updated_at":"2026-01-25T14:01:30.385361+01:00","closed_at":"2026-01-25T14:01:30.385361+01:00","close_reason":"No polecats active - nothing to inspect","ephemeral":true}
{"id":"rff-wisp-2iba","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:26:49.834689+01:00","updated_at":"2026-01-25T18:32:29.783685+01:00","closed_at":"2026-01-25T18:32:29.783685+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-2j5m","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:01:40.103427+01:00","updated_at":"2026-01-25T17:01:40.103427+01:00","ephemeral":true}
{"id":"rff-wisp-2n66","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-wair).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-wair\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.826989+01:00","updated_at":"2026-01-25T18:10:15.826989+01:00","dependencies":[{"issue_id":"rff-wisp-2n66","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:15.935281+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2n66","depends_on_id":"rff-wisp-6bor","type":"blocks","created_at":"2026-01-25T18:10:16.192341+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2nc","title":"Check if active swarm is complete","description":"If Mayor started a batch (SWARM_START), check if all polecats have completed.\n\n**Step 1: Find active swarm tracking wisps**\n```bash\nbd list --wisp --labels=swarm --status=open\n```\nIf no active swarm, skip this step.\n\n**Step 2: Count completed polecats for this swarm**\n\nExtract from wisp labels: swarm_id, total, completed, start timestamp.\nCheck how many cleanup wisps have been closed for this swarm's polecats.\n\n**Step 3: If all complete, notify Mayor**\n```bash\ngt mail send mayor/ -s \"SWARM_COMPLETE: \u003cswarm_id\u003e\" -m \"All \u003ctotal\u003e polecats merged.\nDuration: \u003cminutes\u003e minutes\nSwarm: \u003cswarm_id\u003e\"\n\n# Close the swarm tracking wisp\nbd close \u003cswarm-wisp-id\u003e --reason \"All polecats merged\"\n```\n\nNote: Runs every patrol cycle. Notification sent exactly once when all complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:29.560424+01:00","updated_at":"2026-01-25T13:21:29.560424+01:00","dependencies":[{"issue_id":"rff-wisp-2nc","depends_on_id":"rff-wisp-drv","type":"parent-child","created_at":"2026-01-25T13:21:29.569232+01:00","created_by":"witness"},{"issue_id":"rff-wisp-2nc","depends_on_id":"rff-wisp-j0v","type":"blocks","created_at":"2026-01-25T13:21:29.582813+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-2o6u","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-8iy7).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-8iy7\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.011167+01:00","updated_at":"2026-01-25T16:34:44.011167+01:00","dependencies":[{"issue_id":"rff-wisp-2o6u","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.026385+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2o6u","depends_on_id":"rff-wisp-6lmf","type":"blocks","created_at":"2026-01-25T16:34:44.076382+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2pca","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cn7l)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cn7l\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.459019+01:00","updated_at":"2026-01-25T18:10:42.459019+01:00","dependencies":[{"issue_id":"rff-wisp-2pca","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.558067+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2pca","depends_on_id":"rff-wisp-4drc","type":"blocks","created_at":"2026-01-25T18:10:42.814302+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2pen","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ze6v\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.928409+01:00","updated_at":"2026-01-25T19:23:19.928409+01:00","dependencies":[{"issue_id":"rff-wisp-2pen","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.607214+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2pen","depends_on_id":"rff-wisp-sjg0","type":"blocks","created_at":"2026-01-25T19:23:21.27829+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2r8l","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-5u9g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.329749+01:00","updated_at":"2026-01-25T16:40:46.329749+01:00","dependencies":[{"issue_id":"rff-wisp-2r8l","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.392656+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2rej","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-tuso           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-tuso\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.566581+01:00","updated_at":"2026-01-25T16:40:08.566581+01:00","dependencies":[{"issue_id":"rff-wisp-2rej","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.569737+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2tg6","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-bcix4)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-bcix4\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.45331+01:00","updated_at":"2026-01-25T19:53:05.45331+01:00","dependencies":[{"issue_id":"rff-wisp-2tg6","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.686891+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2tg6","depends_on_id":"rff-wisp-5fn0","type":"blocks","created_at":"2026-01-25T19:53:06.328151+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2ykd","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ev2g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.9244+01:00","updated_at":"2026-01-25T18:15:49.9244+01:00","dependencies":[{"issue_id":"rff-wisp-2ykd","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.069286+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2ykd","depends_on_id":"rff-wisp-svfu","type":"blocks","created_at":"2026-01-25T18:15:50.352821+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2yo","title":"Ensure refinery is alive","description":"Ensure the refinery is alive and processing merge requests.\n\n```bash\n# Check if refinery session exists\ngt session status \u003crig\u003e/refinery\n\n# Check for pending merge requests\nbd list --type=merge-request --status=open\n```\n\nIf MRs waiting AND refinery not running:\n```bash\ngt session start \u003crig\u003e/refinery\ngt mail send \u003crig\u003e/refinery -s \"PATROL: Wake up\" -m \"Merge requests in queue. Please process.\"\n```\n\nIf refinery running but queue stale (\u003e30 min), send nudge.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:29.559394+01:00","updated_at":"2026-01-25T13:21:29.559394+01:00","dependencies":[{"issue_id":"rff-wisp-2yo","depends_on_id":"rff-wisp-drv","type":"parent-child","created_at":"2026-01-25T13:21:29.565254+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-2yt8","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-tuso).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-tuso\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.290809+01:00","updated_at":"2026-01-25T16:45:26.248198+01:00","closed_at":"2026-01-25T16:45:26.248199+01:00","dependencies":[{"issue_id":"rff-wisp-2yt8","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.309196+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2yt8","depends_on_id":"rff-wisp-8u4e","type":"blocks","created_at":"2026-01-25T16:42:20.383196+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-2zif","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-35ho\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-35ho --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.775688+01:00","updated_at":"2026-01-25T14:19:23.775688+01:00","dependencies":[{"issue_id":"rff-wisp-2zif","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.800662+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-2zif","depends_on_id":"rff-wisp-ufii","type":"blocks","created_at":"2026-01-25T14:19:23.825155+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-37er","title":"Process witness mail","description":"Check inbox and handle messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**POLECAT_STARTED**:\nA new polecat has started working. Acknowledge and archive.\n```bash\n# Acknowledge startup (optional: log for activity tracking)\ngt mail archive \u003cmessage-id\u003e\n```\nNo action needed beyond acknowledgment - archive immediately.\n\n**POLECAT_DONE / LIFECYCLE:Shutdown**:\n\n*EPHEMERAL MODEL*: Polecats are truly ephemeral - done at MR submission,\nrecyclable immediately. Once the branch is pushed (cleanup_status=clean),\nthe polecat can be nuked. The MR lifecycle continues independently in the\nRefinery. If conflicts arise, Refinery creates a NEW conflict-resolution\ntask for a NEW polecat.\n\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle: created → queued → processed → merged (handled by Refinery)\n\nThe handler (HandlePolecatDone) will:\n1. Check cleanup_status from agent bead\n2. If \"clean\" (branch pushed): AUTO-NUKE immediately, archive mail\n3. If dirty: Create cleanup wisp for manual intervention\n\n```bash\n# The handler does this automatically:\n# - For clean state: gt polecat nuke \u003cname\u003e → archive mail\n# - For dirty state: create wisp → process in next step\n```\n\nCleanup wisps are only created when something is wrong (uncommitted changes,\nunpushed commits). Most POLECAT_DONE messages result in immediate nuke.\n\n**MERGED**:\nA branch was merged successfully. This is informational in the ephemeral model\nsince the polecat was already nuked after MR submission.\n\nIf a cleanup wisp exists (dirty state), complete the cleanup:\n```bash\n# Find the cleanup wisp for this polecat\nbd list --wisp --labels=polecat:\u003cname\u003e,state:merge-requested --status=open\n\n# If found, proceed with full polecat nuke:\ngt polecat nuke \u003cname\u003e\n\n# Burn the cleanup wisp\nbd close \u003cwisp-id\u003e\n```\nArchive after cleanup is complete.\n\n**HELP / Blocked**:\nAssess the request. Can you help? If not, escalate to Mayor:\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e needs help\" -m \"\u003cdetails\u003e\"\n```\nArchive after handling (escalated or resolved):\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Continue from where they left off.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**SWARM_START**:\nMayor initiating batch polecat work. Initialize swarm tracking.\n```bash\n# Parse swarm info from mail body: {\"swarm_id\": \"batch-123\", \"beads\": [\"bd-a\", \"bd-b\"]}\nbd create --wisp --title \"swarm:\u003cswarm_id\u003e\" --description \"Tracking batch: \u003cswarm_id\u003e\" --labels swarm,swarm_id:\u003cswarm_id\u003e,total:\u003cN\u003e,completed:0,start:\u003ctimestamp\u003e\n```\nArchive after creating swarm tracking wisp:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: active work, unprocessed requests. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.905621+01:00","updated_at":"2026-01-25T20:29:36.905621+01:00","dependencies":[{"issue_id":"rff-wisp-37er","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:36.911123+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-38c7a","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-twmya\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.118723+01:00","updated_at":"2026-01-25T20:36:51.118723+01:00","dependencies":[{"issue_id":"rff-wisp-38c7a","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.235682+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-38c7a","depends_on_id":"rff-wisp-5p8ra","type":"blocks","created_at":"2026-01-25T20:36:52.214586+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3asn","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-tuso)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-tuso\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.29112+01:00","updated_at":"2026-01-25T16:48:46.371227+01:00","closed_at":"2026-01-25T16:48:46.371229+01:00","dependencies":[{"issue_id":"rff-wisp-3asn","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.317618+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3asn","depends_on_id":"rff-wisp-2yt8","type":"blocks","created_at":"2026-01-25T16:42:20.392291+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3cov","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-bcix4\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-bcix4 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.455766+01:00","updated_at":"2026-01-25T19:53:05.455766+01:00","dependencies":[{"issue_id":"rff-wisp-3cov","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.99499+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3cov","depends_on_id":"rff-wisp-pmvb","type":"blocks","created_at":"2026-01-25T19:53:06.650786+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3d8z","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:51:27.031996+01:00","updated_at":"2026-01-25T18:51:27.031996+01:00","ephemeral":true}
{"id":"rff-wisp-3en9","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-oxc6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.057583+01:00","updated_at":"2026-01-25T18:32:19.841683+01:00","closed_at":"2026-01-25T18:32:19.841686+01:00","dependencies":[{"issue_id":"rff-wisp-3en9","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.105792+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3en9","depends_on_id":"rff-wisp-4dj0","type":"blocks","created_at":"2026-01-25T18:31:35.450578+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3gr","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-9q4\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.395724+01:00","updated_at":"2026-01-25T13:21:40.395724+01:00","dependencies":[{"issue_id":"rff-wisp-3gr","depends_on_id":"rff-wisp-g5t","type":"blocks","created_at":"2026-01-25T13:21:40.424616+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3h8f","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-h2r7o\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.456177+01:00","updated_at":"2026-01-25T20:36:31.992548+01:00","closed_at":"2026-01-25T20:36:31.992548+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-3h8f","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.565756+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3h8f","depends_on_id":"rff-wisp-h04e","type":"blocks","created_at":"2026-01-25T20:32:48.395319+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3h9e","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-n2ly)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-n2ly\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.961644+01:00","updated_at":"2026-01-25T18:20:16.154563+01:00","closed_at":"2026-01-25T18:20:16.154563+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-3h9e","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.075043+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3h9e","depends_on_id":"rff-wisp-jppd","type":"blocks","created_at":"2026-01-25T18:16:31.375452+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3jlr","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-twmya)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-twmya\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.240478+01:00","updated_at":"2026-01-25T20:29:47.240479+01:00","dependencies":[{"issue_id":"rff-wisp-3jlr","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.521327+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3jlr","depends_on_id":"rff-wisp-jywu","type":"blocks","created_at":"2026-01-25T20:29:48.254312+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3kl5","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-dngrh)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-dngrh\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.734188+01:00","updated_at":"2026-01-25T20:31:40.734188+01:00","dependencies":[{"issue_id":"rff-wisp-3kl5","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.044371+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3kl5","depends_on_id":"rff-wisp-z2da","type":"blocks","created_at":"2026-01-25T20:31:41.842461+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3lx","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-dew\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.092265+01:00","updated_at":"2026-01-25T13:39:28.663374+01:00","dependencies":[{"issue_id":"rff-wisp-3lx","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.122464+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3lx","depends_on_id":"rff-wisp-rlo","type":"blocks","created_at":"2026-01-25T13:31:05.153391+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3n3g","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-skta\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.550122+01:00","updated_at":"2026-01-25T18:56:21.521335+01:00","dependencies":[{"issue_id":"rff-wisp-3n3g","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.981999+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3n3g","depends_on_id":"rff-wisp-9g98","type":"blocks","created_at":"2026-01-25T18:50:12.433819+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3nr6","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-tuso           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-tuso\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.290095+01:00","updated_at":"2026-01-25T16:44:33.57363+01:00","closed_at":"2026-01-25T16:44:33.573632+01:00","dependencies":[{"issue_id":"rff-wisp-3nr6","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.293221+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3odx","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-skta should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.548178+01:00","updated_at":"2026-01-25T18:55:20.273487+01:00","closed_at":"2026-01-25T18:55:20.273487+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-3odx","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.766261+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3odx","depends_on_id":"rff-wisp-10a5","type":"blocks","created_at":"2026-01-25T18:50:12.211313+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3p32","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   │                          │                           │\n   │ MERGE_READY              │                           │\n   │─────────────────────────\u003e│                           │\n   │                          │                           │\n   │                    (verify branch)                   │\n   │                          │ fetch \u0026 rebase            │\n   │                          │──────────────────────────\u003e│\n   │                          │                           │\n   │                    (run tests)                       │\n   │                          │                           │\n   │                    (if pass)                         │\n   │                          │ merge \u0026 push              │\n   │                          │──────────────────────────\u003e│\n   │                          │                           │\n   │ MERGED                   │                           │\n   │\u003c─────────────────────────│                           │\n   │                          │                           │\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:29:51.368351+01:00","updated_at":"2026-01-25T20:29:51.368351+01:00","ephemeral":true}
{"id":"rff-wisp-3pj","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:32.516847+01:00","updated_at":"2026-01-25T13:00:32.516847+01:00","dependencies":[{"issue_id":"rff-wisp-3pj","depends_on_id":"rff-wisp-wox","type":"parent-child","created_at":"2026-01-25T13:00:32.520518+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-3py0","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-wair\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:05:34.803248+01:00","updated_at":"2026-01-25T18:05:34.803248+01:00","dependencies":[{"issue_id":"rff-wisp-3py0","depends_on_id":"rff-wisp-tl2d","type":"parent-child","created_at":"2026-01-25T18:05:34.835174+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3pzv","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-8iy7)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-8iy7\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:10.233335+01:00","updated_at":"2026-01-25T16:30:10.233335+01:00","dependencies":[{"issue_id":"rff-wisp-3pzv","depends_on_id":"rff-wisp-ctyg","type":"parent-child","created_at":"2026-01-25T16:30:10.249657+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3tj","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T14:13:33.208323+01:00","updated_at":"2026-01-25T14:13:33.208323+01:00","ephemeral":true}
{"id":"rff-wisp-3tm4","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-d1cc should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.271725+01:00","updated_at":"2026-01-25T17:31:27.271725+01:00","dependencies":[{"issue_id":"rff-wisp-3tm4","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.332527+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3tm4","depends_on_id":"rff-wisp-5hx7","type":"blocks","created_at":"2026-01-25T17:31:27.450595+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3ufd","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-3xr6).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-3xr6\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.907081+01:00","updated_at":"2026-01-25T19:16:30.907081+01:00","dependencies":[{"issue_id":"rff-wisp-3ufd","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.056543+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3ufd","depends_on_id":"rff-wisp-8ch0","type":"blocks","created_at":"2026-01-25T19:16:31.639845+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3v1n","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:42:20.285941+01:00","updated_at":"2026-01-25T16:50:39.180225+01:00","closed_at":"2026-01-25T16:50:39.180225+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-3vi8","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.324297+01:00","updated_at":"2026-01-25T18:06:56.324297+01:00","dependencies":[{"issue_id":"rff-wisp-3vi8","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.501133+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3vi8","depends_on_id":"rff-wisp-1kyc","type":"blocks","created_at":"2026-01-25T18:06:56.749104+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3x90","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.883506+01:00","updated_at":"2026-01-25T20:32:13.883506+01:00","dependencies":[{"issue_id":"rff-wisp-3x90","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.394885+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3x90","depends_on_id":"rff-wisp-g5n4","type":"blocks","created_at":"2026-01-25T20:32:15.22907+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3ypq","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-la8j\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.223464+01:00","updated_at":"2026-01-25T19:04:05.56739+01:00","closed_at":"2026-01-25T19:04:05.56739+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-3ypq","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.286039+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3ypq","depends_on_id":"rff-wisp-xy6r","type":"blocks","created_at":"2026-01-25T19:02:06.749745+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-3yy4","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.100679+01:00","updated_at":"2026-01-25T19:55:37.100679+01:00","dependencies":[{"issue_id":"rff-wisp-3yy4","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.587642+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-3yy4","depends_on_id":"rff-wisp-zryl","type":"blocks","created_at":"2026-01-25T19:55:38.235424+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-42m","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Ensure any notes are written to handoff mail\n- Prepare for session restart\n\nIf context is LOW:\n- Can continue patrolling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:48.931105+01:00","updated_at":"2026-01-25T14:12:39.459318+01:00","closed_at":"2026-01-25T14:12:39.459318+01:00","close_reason":"Context low - fresh session","ephemeral":true}
{"id":"rff-wisp-499d","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cfh0).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cfh0\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.036483+01:00","updated_at":"2026-01-25T16:56:58.036483+01:00","dependencies":[{"issue_id":"rff-wisp-499d","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.057984+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-499d","depends_on_id":"rff-wisp-dyla","type":"blocks","created_at":"2026-01-25T16:56:58.133556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-49xk","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:28:03.801636+01:00","updated_at":"2026-01-25T19:37:59.004419+01:00","closed_at":"2026-01-25T19:37:59.004419+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-4ah4","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-66nd\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-66nd --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.186141+01:00","updated_at":"2026-01-25T17:35:27.186141+01:00","dependencies":[{"issue_id":"rff-wisp-4ah4","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.326173+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4ah4","depends_on_id":"rff-wisp-w6jd","type":"blocks","created_at":"2026-01-25T17:35:27.532476+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4ck2","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-gn2v           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-gn2v\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.032948+01:00","updated_at":"2026-01-25T18:51:27.032948+01:00","dependencies":[{"issue_id":"rff-wisp-4ck2","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.037575+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4cwv","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:33:11.17169+01:00","updated_at":"2026-01-25T17:33:11.17169+01:00","ephemeral":true}
{"id":"rff-wisp-4dj0","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-oxc6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-oxc6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.057089+01:00","updated_at":"2026-01-25T18:32:34.552693+01:00","closed_at":"2026-01-25T18:32:34.552694+01:00","dependencies":[{"issue_id":"rff-wisp-4dj0","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.06167+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4dl","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-7za\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.719376+01:00","updated_at":"2026-01-25T13:30:32.719376+01:00","dependencies":[{"issue_id":"rff-wisp-4dl","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.733966+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4dl","depends_on_id":"rff-wisp-o8t","type":"blocks","created_at":"2026-01-25T13:30:32.785658+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4do2","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-nmvc\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.711514+01:00","updated_at":"2026-01-25T19:04:28.711514+01:00","dependencies":[{"issue_id":"rff-wisp-4do2","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:29.247177+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4do2","depends_on_id":"rff-wisp-mygn","type":"blocks","created_at":"2026-01-25T19:04:29.786833+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4drc","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cn7l).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cn7l\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.458617+01:00","updated_at":"2026-01-25T18:10:42.458617+01:00","dependencies":[{"issue_id":"rff-wisp-4drc","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.526358+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4drc","depends_on_id":"rff-wisp-v2ep","type":"blocks","created_at":"2026-01-25T18:10:42.782363+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4ea6","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-wair should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.541489+01:00","updated_at":"2026-01-25T18:21:03.291161+01:00","closed_at":"2026-01-25T18:21:03.291164+01:00","dependencies":[{"issue_id":"rff-wisp-4ea6","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.676378+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4ea6","depends_on_id":"rff-wisp-uf37","type":"blocks","created_at":"2026-01-25T18:12:54.945519+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4f5p","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.369824+01:00","updated_at":"2026-01-25T20:29:51.369824+01:00","dependencies":[{"issue_id":"rff-wisp-4f5p","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.46921+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-4f5p","depends_on_id":"rff-wisp-pqoi","type":"blocks","created_at":"2026-01-25T20:29:52.421536+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-4f9","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-35ho).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-35ho\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.774058+01:00","updated_at":"2026-01-25T14:19:23.774058+01:00","dependencies":[{"issue_id":"rff-wisp-4f9","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.782868+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4f9","depends_on_id":"rff-wisp-j9z","type":"blocks","created_at":"2026-01-25T14:19:23.809728+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4frb","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cmikt\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.101784+01:00","updated_at":"2026-01-25T19:55:37.101784+01:00","dependencies":[{"issue_id":"rff-wisp-4frb","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.749399+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4frb","depends_on_id":"rff-wisp-z9v3","type":"blocks","created_at":"2026-01-25T19:55:38.399423+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4hso","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-fxke)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-fxke\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.736684+01:00","updated_at":"2026-01-25T18:11:24.21725+01:00","closed_at":"2026-01-25T18:11:24.21725+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-4hso","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.821424+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4hso","depends_on_id":"rff-wisp-97zy","type":"blocks","created_at":"2026-01-25T18:04:54.040002+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4i0s","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.73589+01:00","updated_at":"2026-01-25T20:31:40.73589+01:00","dependencies":[{"issue_id":"rff-wisp-4i0s","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.342241+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4i0s","depends_on_id":"rff-wisp-ujlo","type":"blocks","created_at":"2026-01-25T20:31:42.14763+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4ie","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-35ho\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:13:33.209438+01:00","updated_at":"2026-01-25T14:20:27.340474+01:00","closed_at":"2026-01-25T14:20:27.340477+01:00","dependencies":[{"issue_id":"rff-wisp-4ie","depends_on_id":"rff-wisp-3tj","type":"parent-child","created_at":"2026-01-25T14:13:33.215372+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4ie","depends_on_id":"rff-wisp-mlt","type":"blocks","created_at":"2026-01-25T14:13:33.232936+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4j16","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-558uj)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-558uj\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.346395+01:00","updated_at":"2026-01-25T20:23:58.346395+01:00","dependencies":[{"issue_id":"rff-wisp-4j16","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.611059+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4j16","depends_on_id":"rff-wisp-67qv","type":"blocks","created_at":"2026-01-25T20:23:59.302949+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4jk","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:45:15.283657+01:00","updated_at":"2026-01-25T13:45:15.283657+01:00","ephemeral":true}
{"id":"rff-wisp-4jlh","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-y83pz\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-y83pz --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.593778+01:00","updated_at":"2026-01-25T19:35:52.593778+01:00","dependencies":[{"issue_id":"rff-wisp-4jlh","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:53.239896+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4jlh","depends_on_id":"rff-wisp-f56t","type":"blocks","created_at":"2026-01-25T19:35:53.932527+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4mhw","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-7xu7)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-7xu7\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.028896+01:00","updated_at":"2026-01-25T19:03:56.028896+01:00","dependencies":[{"issue_id":"rff-wisp-4mhw","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.214484+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4mhw","depends_on_id":"rff-wisp-ntb1","type":"blocks","created_at":"2026-01-25T19:03:56.875847+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4mi","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-1jzo\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.210953+01:00","updated_at":"2026-01-25T13:50:36.585361+01:00","closed_at":"2026-01-25T13:50:36.585361+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-4mi","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.216349+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4mi","depends_on_id":"rff-wisp-e34","type":"blocks","created_at":"2026-01-25T13:49:00.235965+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4qxf","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:35.023989+01:00","updated_at":"2026-01-25T16:23:35.023989+01:00","dependencies":[{"issue_id":"rff-wisp-4qxf","depends_on_id":"rff-wisp-5vx9","type":"parent-child","created_at":"2026-01-25T16:23:35.043159+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4u7f","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-70k6 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.210969+01:00","updated_at":"2026-01-25T18:09:21.210969+01:00","dependencies":[{"issue_id":"rff-wisp-4u7f","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.336461+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4u7f","depends_on_id":"rff-wisp-u4hs","type":"blocks","created_at":"2026-01-25T18:09:21.582462+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4vq","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-dew           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-dew\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.088766+01:00","updated_at":"2026-01-25T13:32:47.6235+01:00","closed_at":"2026-01-25T13:32:47.623502+01:00","dependencies":[{"issue_id":"rff-wisp-4vq","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.092928+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4wc4","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-0no1h\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.881469+01:00","updated_at":"2026-01-25T20:35:29.523278+01:00","closed_at":"2026-01-25T20:35:29.523278+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-4wc4","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:13.9874+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4wc4","depends_on_id":"rff-wisp-ef97","type":"blocks","created_at":"2026-01-25T20:32:14.815963+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4wl","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-3mq\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.288102+01:00","updated_at":"2026-01-25T13:45:15.288102+01:00","dependencies":[{"issue_id":"rff-wisp-4wl","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.307049+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4wl","depends_on_id":"rff-wisp-b3f","type":"blocks","created_at":"2026-01-25T13:45:15.327053+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4xim","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.906592+01:00","updated_at":"2026-01-25T18:37:36.849603+01:00","closed_at":"2026-01-25T18:37:36.849603+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-4xim","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.174843+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4xim","depends_on_id":"rff-wisp-xvlc","type":"blocks","created_at":"2026-01-25T18:32:19.614534+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4yae","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.226041+01:00","updated_at":"2026-01-25T19:06:03.92452+01:00","closed_at":"2026-01-25T19:06:03.92452+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-4yae","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.57502+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4yae","depends_on_id":"rff-wisp-t3y9","type":"blocks","created_at":"2026-01-25T19:02:07.045338+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-4yzd","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:05:04.896072+01:00","updated_at":"2026-01-25T17:05:04.896072+01:00","ephemeral":true}
{"id":"rff-wisp-4zej","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.563613+01:00","updated_at":"2026-01-25T16:33:20.563613+01:00","dependencies":[{"issue_id":"rff-wisp-4zej","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.60094+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-4zej","depends_on_id":"rff-wisp-tdht","type":"blocks","created_at":"2026-01-25T16:33:20.650037+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-507h","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-0enz).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-0enz\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.530852+01:00","updated_at":"2026-01-25T17:47:23.530852+01:00","dependencies":[{"issue_id":"rff-wisp-507h","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.572335+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-507h","depends_on_id":"rff-wisp-bb0n","type":"blocks","created_at":"2026-01-25T17:47:23.724915+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-51sc","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-zf5w\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.828079+01:00","updated_at":"2026-01-25T18:51:23.90011+01:00","closed_at":"2026-01-25T18:51:23.90011+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-51sc","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:20.887178+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-51sc","depends_on_id":"rff-wisp-a1f2","type":"blocks","created_at":"2026-01-25T18:49:21.301353+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-51ut","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-dngrh           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-dngrh\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.732441+01:00","updated_at":"2026-01-25T20:31:40.732441+01:00","dependencies":[{"issue_id":"rff-wisp-51ut","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:40.737623+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-520l","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.75215+01:00","updated_at":"2026-01-25T18:17:56.75215+01:00","dependencies":[{"issue_id":"rff-wisp-520l","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.93983+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-520l","depends_on_id":"rff-wisp-i81q","type":"blocks","created_at":"2026-01-25T18:17:57.239168+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5258","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cfh0           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cfh0\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.080327+01:00","updated_at":"2026-01-25T16:51:09.080327+01:00","dependencies":[{"issue_id":"rff-wisp-5258","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.083565+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-53ol","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-b7jm\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-b7jm --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.64969+01:00","updated_at":"2026-01-25T18:43:29.746779+01:00","closed_at":"2026-01-25T18:43:29.746779+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-53ol","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.95234+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-53ol","depends_on_id":"rff-wisp-mqdl","type":"blocks","created_at":"2026-01-25T18:30:50.285778+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-53p4","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.460328+01:00","updated_at":"2026-01-25T18:10:42.460328+01:00","dependencies":[{"issue_id":"rff-wisp-53p4","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.654033+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-53p4","depends_on_id":"rff-wisp-0t6o","type":"blocks","created_at":"2026-01-25T18:10:42.910486+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5428","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:30:34.992387+01:00","updated_at":"2026-01-25T16:30:34.992387+01:00","ephemeral":true}
{"id":"rff-wisp-54k","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-dew)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-dew\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.090179+01:00","updated_at":"2026-01-25T13:38:15.563878+01:00","closed_at":"2026-01-25T13:38:15.56388+01:00","dependencies":[{"issue_id":"rff-wisp-54k","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.104508+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-54k","depends_on_id":"rff-wisp-oe8","type":"blocks","created_at":"2026-01-25T13:31:05.133348+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-54q6","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.15671+01:00","updated_at":"2026-01-25T16:52:20.15671+01:00","dependencies":[{"issue_id":"rff-wisp-54q6","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.213515+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-54q6","depends_on_id":"rff-wisp-jsr6","type":"blocks","created_at":"2026-01-25T16:52:20.287073+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-55ah","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.371053+01:00","updated_at":"2026-01-25T20:29:51.371054+01:00","dependencies":[{"issue_id":"rff-wisp-55ah","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.661028+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-55ah","depends_on_id":"rff-wisp-x2fq","type":"blocks","created_at":"2026-01-25T20:29:52.609029+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-56s","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T14:19:23.772534+01:00","updated_at":"2026-01-25T14:19:23.772535+01:00","ephemeral":true}
{"id":"rff-wisp-571p","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.806126+01:00","updated_at":"2026-01-25T19:37:27.198451+01:00","closed_at":"2026-01-25T19:37:27.198451+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-571p","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.284207+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-571p","depends_on_id":"rff-wisp-f149","type":"blocks","created_at":"2026-01-25T19:28:04.923494+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-58tj","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cjpl\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.607814+01:00","updated_at":"2026-01-25T18:43:26.762796+01:00","dependencies":[{"issue_id":"rff-wisp-58tj","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.968024+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-58tj","depends_on_id":"rff-wisp-h48s","type":"blocks","created_at":"2026-01-25T18:39:33.332133+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5ap","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-dew).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-dew\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.260996+01:00","updated_at":"2026-01-25T13:22:03.260997+01:00","dependencies":[{"issue_id":"rff-wisp-5ap","depends_on_id":"rff-wisp-psd","type":"blocks","created_at":"2026-01-25T13:22:03.284206+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5aq5","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:56:58.035019+01:00","updated_at":"2026-01-25T16:56:58.035019+01:00","ephemeral":true}
{"id":"rff-wisp-5cix","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.012492+01:00","updated_at":"2026-01-25T16:34:44.012492+01:00","dependencies":[{"issue_id":"rff-wisp-5cix","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.051401+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5cix","depends_on_id":"rff-wisp-tj2m","type":"blocks","created_at":"2026-01-25T16:34:44.102266+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5eh7","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ev2g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ev2g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.922701+01:00","updated_at":"2026-01-25T18:15:49.922701+01:00","dependencies":[{"issue_id":"rff-wisp-5eh7","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:49.927349+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5fn0","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-bcix4).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-bcix4\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.452801+01:00","updated_at":"2026-01-25T19:53:05.452801+01:00","dependencies":[{"issue_id":"rff-wisp-5fn0","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.610742+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5fn0","depends_on_id":"rff-wisp-7bku","type":"blocks","created_at":"2026-01-25T19:53:06.243018+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5hx7","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-d1cc)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-d1cc\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.27136+01:00","updated_at":"2026-01-25T17:31:27.27136+01:00","dependencies":[{"issue_id":"rff-wisp-5hx7","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.317923+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5hx7","depends_on_id":"rff-wisp-enbg","type":"blocks","created_at":"2026-01-25T17:31:27.43535+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5ijx","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.325084+01:00","updated_at":"2026-01-25T20:22:39.325084+01:00","ephemeral":true}
{"id":"rff-wisp-5jud","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-3emw\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.611238+01:00","updated_at":"2026-01-25T16:29:27.793596+01:00","dependencies":[{"issue_id":"rff-wisp-5jud","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.666169+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5jud","depends_on_id":"rff-wisp-zw70","type":"blocks","created_at":"2026-01-25T16:24:21.723369+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5l8","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:17.458462+01:00","updated_at":"2026-01-25T13:00:17.458462+01:00","dependencies":[{"issue_id":"rff-wisp-5l8","depends_on_id":"rff-wisp-6sk","type":"parent-child","created_at":"2026-01-25T13:00:17.464846+01:00","created_by":"witness"},{"issue_id":"rff-wisp-5l8","depends_on_id":"rff-wisp-05q","type":"blocks","created_at":"2026-01-25T13:00:17.472448+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-5o87","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ugec).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ugec\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.836519+01:00","updated_at":"2026-01-25T18:28:29.012271+01:00","closed_at":"2026-01-25T18:28:29.012273+01:00","dependencies":[{"issue_id":"rff-wisp-5o87","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:49.920407+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5o87","depends_on_id":"rff-wisp-j8rs","type":"blocks","created_at":"2026-01-25T18:26:50.233171+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5p8ra","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-twmya           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-twmya\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.118008+01:00","updated_at":"2026-01-25T20:36:51.118008+01:00","dependencies":[{"issue_id":"rff-wisp-5p8ra","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.123353+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5q1i","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.752543+01:00","updated_at":"2026-01-25T18:17:56.752543+01:00","dependencies":[{"issue_id":"rff-wisp-5q1i","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.976877+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5q1i","depends_on_id":"rff-wisp-520l","type":"blocks","created_at":"2026-01-25T18:17:57.276745+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5rot","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-b7jm           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-b7jm\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.646678+01:00","updated_at":"2026-01-25T18:32:28.338407+01:00","closed_at":"2026-01-25T18:32:28.338407+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-5rot","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.650733+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5rvw","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-jbyu).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-jbyu\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.953434+01:00","updated_at":"2026-01-25T17:55:18.953434+01:00","dependencies":[{"issue_id":"rff-wisp-5rvw","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:18.999399+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5rvw","depends_on_id":"rff-wisp-h3yc","type":"blocks","created_at":"2026-01-25T17:55:19.173515+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5slp","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-a8ny)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-a8ny\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.528436+01:00","updated_at":"2026-01-25T19:19:33.528436+01:00","dependencies":[{"issue_id":"rff-wisp-5slp","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.761128+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5slp","depends_on_id":"rff-wisp-g8sr","type":"blocks","created_at":"2026-01-25T19:19:34.375462+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5sm1","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cfh0)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cfh0\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.03682+01:00","updated_at":"2026-01-25T16:56:58.03682+01:00","dependencies":[{"issue_id":"rff-wisp-5sm1","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.067302+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5sm1","depends_on_id":"rff-wisp-499d","type":"blocks","created_at":"2026-01-25T16:56:58.143221+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5tmm","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.606186+01:00","updated_at":"2026-01-25T18:42:59.424232+01:00","closed_at":"2026-01-25T18:42:59.424234+01:00","dependencies":[{"issue_id":"rff-wisp-5tmm","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.834473+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5tmm","depends_on_id":"rff-wisp-5yl2","type":"blocks","created_at":"2026-01-25T18:39:33.194251+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5uzm","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.206078+01:00","updated_at":"2026-01-25T18:07:10.541132+01:00","closed_at":"2026-01-25T18:07:10.541132+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-5uzm","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.336877+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5uzm","depends_on_id":"rff-wisp-04y4","type":"blocks","created_at":"2026-01-25T17:59:54.566624+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5vx9","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:23:35.021411+01:00","updated_at":"2026-01-25T16:23:35.021411+01:00","ephemeral":true}
{"id":"rff-wisp-5vxl","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-7xu7 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.029399+01:00","updated_at":"2026-01-25T19:03:56.0294+01:00","dependencies":[{"issue_id":"rff-wisp-5vxl","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.374192+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5vxl","depends_on_id":"rff-wisp-4mhw","type":"blocks","created_at":"2026-01-25T19:03:56.938331+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5yl2","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cjpl should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.605769+01:00","updated_at":"2026-01-25T18:42:50.990478+01:00","closed_at":"2026-01-25T18:42:50.990481+01:00","dependencies":[{"issue_id":"rff-wisp-5yl2","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.78921+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-5yl2","depends_on_id":"rff-wisp-ypoq","type":"blocks","created_at":"2026-01-25T18:39:33.148785+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-5za","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T14:14:51.122102+01:00","updated_at":"2026-01-25T14:14:51.122102+01:00","ephemeral":true}
{"id":"rff-wisp-61h0","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-5u9g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.319916+01:00","updated_at":"2026-01-25T16:44:55.319916+01:00","dependencies":[{"issue_id":"rff-wisp-61h0","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.388562+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-62ri","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-fxke should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.73707+01:00","updated_at":"2026-01-25T18:11:54.39166+01:00","closed_at":"2026-01-25T18:11:54.39166+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-62ri","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.848443+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-62ri","depends_on_id":"rff-wisp-4hso","type":"blocks","created_at":"2026-01-25T18:04:54.070198+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-630r","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.48431+01:00","updated_at":"2026-01-25T16:32:56.48431+01:00","dependencies":[{"issue_id":"rff-wisp-630r","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.514391+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-630r","depends_on_id":"rff-wisp-tdok","type":"blocks","created_at":"2026-01-25T16:32:56.560461+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-642i","title":"Check if active swarm is complete","description":"If Mayor started a batch (SWARM_START), check if all polecats have completed.\n\n**Step 1: Find active swarm tracking wisps**\n```bash\nbd list --wisp --labels=swarm --status=open\n```\nIf no active swarm, skip this step.\n\n**Step 2: Count completed polecats for this swarm**\n\nExtract from wisp labels: swarm_id, total, completed, start timestamp.\nCheck how many cleanup wisps have been closed for this swarm's polecats.\n\n**Step 3: If all complete, notify Mayor**\n```bash\ngt mail send mayor/ -s \"SWARM_COMPLETE: \u003cswarm_id\u003e\" -m \"All \u003ctotal\u003e polecats merged.\nDuration: \u003cminutes\u003e minutes\nSwarm: \u003cswarm_id\u003e\"\n\n# Close the swarm tracking wisp\nbd close \u003cswarm-wisp-id\u003e --reason \"All polecats merged\"\n```\n\nNote: Runs every patrol cycle. Notification sent exactly once when all complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.641456+01:00","updated_at":"2026-01-25T20:24:59.641456+01:00","dependencies":[{"issue_id":"rff-wisp-642i","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.103028+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-642i","depends_on_id":"rff-wisp-sg69","type":"blocks","created_at":"2026-01-25T20:25:00.912109+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-6539","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.426643+01:00","updated_at":"2026-01-25T16:33:21.863848+01:00","closed_at":"2026-01-25T16:33:21.86385+01:00","dependencies":[{"issue_id":"rff-wisp-6539","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.449636+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6539","depends_on_id":"rff-wisp-cidh","type":"blocks","created_at":"2026-01-25T16:29:17.484461+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-67qv","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-558uj).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-558uj\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.345886+01:00","updated_at":"2026-01-25T20:23:58.345886+01:00","dependencies":[{"issue_id":"rff-wisp-67qv","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.524451+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-67qv","depends_on_id":"rff-wisp-lg2u","type":"blocks","created_at":"2026-01-25T20:23:59.217333+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6a9b","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.792981+01:00","updated_at":"2026-01-25T20:30:52.792981+01:00","dependencies":[{"issue_id":"rff-wisp-6a9b","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.274728+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6a9b","depends_on_id":"rff-wisp-fdwg","type":"blocks","created_at":"2026-01-25T20:30:54.04186+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6bor","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-wair\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.826169+01:00","updated_at":"2026-01-25T18:10:15.826169+01:00","dependencies":[{"issue_id":"rff-wisp-6bor","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:15.872816+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6bxv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.754152+01:00","updated_at":"2026-01-25T18:11:29.754152+01:00","dependencies":[{"issue_id":"rff-wisp-6bxv","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.919872+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6bxv","depends_on_id":"rff-wisp-eiwl","type":"blocks","created_at":"2026-01-25T18:11:30.185393+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6d9","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-bvp\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.741936+01:00","updated_at":"2026-01-25T13:28:47.947355+01:00","dependencies":[{"issue_id":"rff-wisp-6d9","depends_on_id":"rff-wisp-8hv","type":"blocks","created_at":"2026-01-25T13:22:26.778153+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6end","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.932998+01:00","updated_at":"2026-01-25T19:08:19.932998+01:00","dependencies":[{"issue_id":"rff-wisp-6end","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.259107+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6end","depends_on_id":"rff-wisp-re1m","type":"blocks","created_at":"2026-01-25T19:08:20.82879+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6hgp","title":"Ensure refinery is alive","description":"Ensure the refinery is alive and processing merge requests.\n\n```bash\n# Check if refinery session exists\ngt session status \u003crig\u003e/refinery\n\n# Check for pending merge requests\nbd list --type=merge-request --status=open\n```\n\nIf MRs waiting AND refinery not running:\n```bash\ngt session start \u003crig\u003e/refinery\ngt mail send \u003crig\u003e/refinery -s \"PATROL: Wake up\" -m \"Merge requests in queue. Please process.\"\n```\n\nIf refinery running but queue stale (\u003e30 min), send nudge.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.582026+01:00","updated_at":"2026-01-25T20:23:52.582026+01:00","dependencies":[{"issue_id":"rff-wisp-6hgp","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:52.752934+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-6hpc","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-9wrf\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-9wrf --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.206854+01:00","updated_at":"2026-01-25T18:08:09.378962+01:00","closed_at":"2026-01-25T18:08:09.378962+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-6hpc","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.388598+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6hpc","depends_on_id":"rff-wisp-u6c5","type":"blocks","created_at":"2026-01-25T17:59:54.618343+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6jf","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-3mq should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.286786+01:00","updated_at":"2026-01-25T13:45:15.286786+01:00","dependencies":[{"issue_id":"rff-wisp-6jf","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.297817+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6jf","depends_on_id":"rff-wisp-29u","type":"blocks","created_at":"2026-01-25T13:45:15.316475+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6l9j","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-n2ly           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-n2ly\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.960239+01:00","updated_at":"2026-01-25T18:17:32.967958+01:00","closed_at":"2026-01-25T18:17:32.967958+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-6l9j","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:30.964636+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6lmf","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-8iy7\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.010816+01:00","updated_at":"2026-01-25T16:34:44.010816+01:00","dependencies":[{"issue_id":"rff-wisp-6lmf","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.020135+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6lmf","depends_on_id":"rff-wisp-93hy","type":"blocks","created_at":"2026-01-25T16:34:44.070071+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6nr","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:32.517426+01:00","updated_at":"2026-01-25T13:00:32.517426+01:00","dependencies":[{"issue_id":"rff-wisp-6nr","depends_on_id":"rff-wisp-wox","type":"parent-child","created_at":"2026-01-25T13:00:32.522739+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-6ptx","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-o18n\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.70551+01:00","updated_at":"2026-01-25T19:03:23.70551+01:00","dependencies":[{"issue_id":"rff-wisp-6ptx","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:24.192567+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6ptx","depends_on_id":"rff-wisp-sbmx","type":"blocks","created_at":"2026-01-25T19:03:24.689539+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-6sk","title":"mol-witness-patrol","description":"Per-rig worker monitor patrol loop.\n\nThe Witness is the Pit Boss for your rig. You watch polecats, nudge them toward\ncompletion, verify clean git state before kills, and escalate stuck workers.\n\n**You do NOT do implementation work.** Your job is oversight, not coding.\n\n## Ephemeral Polecat Model\n\nPolecats are truly ephemeral - done at MR submission, recyclable immediately:\n\n```\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle:      created → queued → processed → merged (Refinery handles)\n```\n\nOnce a polecat's branch is pushed (cleanup_status=clean), the polecat can be\nnuked immediately. The MR continues independently in the Refinery. If conflicts\narise, Refinery creates a NEW conflict-resolution task for a NEW polecat.\n\n**Key principle**: Polecat lifecycle is separate from MR lifecycle.\n\n## Design Philosophy\n\nThis patrol follows Gas Town principles:\n- **Discovery over tracking**: Observe reality each cycle, don't maintain state\n- **Events over state**: POLECAT_DONE mail triggers immediate cleanup\n- **Ephemeral by default**: Clean polecats are nuked immediately, no waiting\n- **Cleanup wisps for exceptions**: Only created when intervention needed\n- **Task tool for parallelism**: Subagents inspect polecats, not molecule arms\n\n## Patrol Shape (Linear, Deacon-style)\n\n```\ninbox-check ─► process-cleanups ─► check-refinery ─► survey-workers\n                                                            │\n         ┌──────────────────────────────────────────────────┘\n         ▼\n  check-timer-gates ─► check-swarm ─► ping-deacon ─► patrol-cleanup ─► context-check ─► loop-or-exit\n```\n\nNo dynamic arms. No fanout gates. No persistent nudge counters.\nState is discovered each cycle from reality (tmux, beads, mail).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:00:17.455766+01:00","updated_at":"2026-01-25T13:00:17.455766+01:00","ephemeral":true}
{"id":"rff-wisp-6swd","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:23:58.343931+01:00","updated_at":"2026-01-25T20:23:58.343931+01:00","ephemeral":true}
{"id":"rff-wisp-6w2l","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-7xu7\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.027849+01:00","updated_at":"2026-01-25T19:03:56.027849+01:00","dependencies":[{"issue_id":"rff-wisp-6w2l","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.093797+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-6w2l","depends_on_id":"rff-wisp-nie2","type":"blocks","created_at":"2026-01-25T19:03:56.713522+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-70ha","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-s0qo)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-s0qo\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.173608+01:00","updated_at":"2026-01-25T17:33:11.173608+01:00","dependencies":[{"issue_id":"rff-wisp-70ha","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.228512+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-70ha","depends_on_id":"rff-wisp-sen5","type":"blocks","created_at":"2026-01-25T17:33:11.365142+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-726f","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-qids).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-qids\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.540086+01:00","updated_at":"2026-01-25T14:19:48.540086+01:00","dependencies":[{"issue_id":"rff-wisp-726f","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.54978+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-726f","depends_on_id":"rff-wisp-bete","type":"blocks","created_at":"2026-01-25T14:19:48.575672+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-763","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-nlu)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-nlu\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.740279+01:00","updated_at":"2026-01-25T13:22:50.740279+01:00","dependencies":[{"issue_id":"rff-wisp-763","depends_on_id":"rff-wisp-ugv","type":"blocks","created_at":"2026-01-25T13:22:50.770914+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-788s","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-b7jm\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.647161+01:00","updated_at":"2026-01-25T18:32:48.239051+01:00","closed_at":"2026-01-25T18:32:48.239051+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-788s","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.692092+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-788s","depends_on_id":"rff-wisp-5rot","type":"blocks","created_at":"2026-01-25T18:30:50.034954+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-78ft","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cfh0           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cfh0\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.035759+01:00","updated_at":"2026-01-25T16:56:58.035759+01:00","dependencies":[{"issue_id":"rff-wisp-78ft","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.039032+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7bku","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-bcix4\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.452297+01:00","updated_at":"2026-01-25T19:53:05.452297+01:00","dependencies":[{"issue_id":"rff-wisp-7bku","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.534145+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7bku","depends_on_id":"rff-wisp-8zho","type":"blocks","created_at":"2026-01-25T19:53:06.151377+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7d8i","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cn7l should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.459433+01:00","updated_at":"2026-01-25T18:10:42.459433+01:00","dependencies":[{"issue_id":"rff-wisp-7d8i","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.59069+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7d8i","depends_on_id":"rff-wisp-2pca","type":"blocks","created_at":"2026-01-25T18:10:42.846173+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7eki","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-u18g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.660807+01:00","updated_at":"2026-01-25T17:03:37.660807+01:00","dependencies":[{"issue_id":"rff-wisp-7eki","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.676359+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7eki","depends_on_id":"rff-wisp-sr8s","type":"blocks","created_at":"2026-01-25T17:03:37.774944+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7fgd","title":"Process pending cleanup wisps","description":"Process cleanup wisps (exception handling for dirty polecats).\n\nIn the ephemeral model, cleanup wisps are only created when a polecat has\ndirty state (uncommitted changes, unpushed commits) that prevented immediate\nnuke. Most polecats are nuked immediately on POLECAT_DONE and never create wisps.\n\n```bash\n# Find all cleanup wisps\nbd list --wisp --labels=cleanup --status=open\n```\n\nIf no wisps, skip this step (most common case in ephemeral model).\n\nFor each cleanup wisp, investigate and resolve the dirty state:\n\n## State: pending (needs investigation)\n\n1. **Extract polecat name** from wisp title/labels\n\n2. **Diagnose the problem**:\n```bash\ncd polecats/\u003cname\u003e\ngit status                    # What's uncommitted?\ngit stash list                # Any stashed work?\ngit log origin/main..HEAD     # Any unpushed commits?\n```\n\n3. **Resolution options**:\n   - **Uncommitted changes**: Commit and push, then nuke\n   - **Stashed work**: Pop and commit, or discard if not valuable\n   - **Unpushed commits**: Push to origin, then nuke\n   - **All valuable work lost**: Escalate to Mayor for recovery\n\n4. **If resolvable locally**: Fix and nuke\n```bash\n# Example: push unpushed commits\ngit push origin HEAD\n\n# Then nuke\ngt polecat nuke \u003cname\u003e\n\n# Close the wisp\nbd close \u003cwisp-id\u003e --reason \"Resolved: pushed commits, nuked\"\n```\n\n5. **If needs escalation**: Send RECOVERY_NEEDED to Mayor\n```bash\ngt mail send mayor/ -s \"RECOVERY_NEEDED \u003crig\u003e/\u003cpolecat\u003e\" \\\n  -m \"Cleanup Status: \u003cstatus\u003e\nBranch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\n\nCannot auto-resolve. Please advise.\"\n```\nLeave wisp open until Mayor resolves.\n\n## State: merge-requested (legacy, rare)\n\nThis state was used before the ephemeral model. If found, the polecat is\nwaiting for a MERGED signal. The inbox-check step handles these.\n\n**Parallelism**: Use Task tool subagents to process multiple cleanups concurrently.\nEach cleanup is independent - perfect for parallel execution.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.906131+01:00","updated_at":"2026-01-25T20:29:36.906131+01:00","dependencies":[{"issue_id":"rff-wisp-7fgd","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:36.999928+01:00","created_by":"witness"},{"issue_id":"rff-wisp-7fgd","depends_on_id":"rff-wisp-37er","type":"blocks","created_at":"2026-01-25T20:29:37.808382+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-7hi","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:32.518559+01:00","updated_at":"2026-01-25T13:00:32.518559+01:00","dependencies":[{"issue_id":"rff-wisp-7hi","depends_on_id":"rff-wisp-wox","type":"parent-child","created_at":"2026-01-25T13:00:32.527122+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-7k1","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-7za should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.722581+01:00","updated_at":"2026-01-25T13:30:32.722581+01:00","dependencies":[{"issue_id":"rff-wisp-7k1","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.764084+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7k1","depends_on_id":"rff-wisp-8nw","type":"blocks","created_at":"2026-01-25T13:30:32.797013+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7kqu","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.705137+01:00","updated_at":"2026-01-25T17:00:52.705137+01:00","dependencies":[{"issue_id":"rff-wisp-7kqu","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.718982+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7kqu","depends_on_id":"rff-wisp-ct0w","type":"blocks","created_at":"2026-01-25T17:00:52.803766+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7o9n","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-m1v5\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.420299+01:00","updated_at":"2026-01-25T18:59:07.698372+01:00","closed_at":"2026-01-25T18:59:07.698372+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-7o9n","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.464674+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7o9n","depends_on_id":"rff-wisp-c9xc","type":"blocks","created_at":"2026-01-25T18:28:37.779062+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7p12","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:37:12.586675+01:00","updated_at":"2026-01-25T19:37:12.586675+01:00","ephemeral":true}
{"id":"rff-wisp-7pbr","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-8n36m should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.473363+01:00","updated_at":"2026-01-25T20:33:34.473363+01:00","dependencies":[{"issue_id":"rff-wisp-7pbr","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:34.928306+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7pbr","depends_on_id":"rff-wisp-zgu6","type":"blocks","created_at":"2026-01-25T20:33:35.817393+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7uyl","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-m3m1 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.154207+01:00","updated_at":"2026-01-25T19:24:58.154445+01:00","closed_at":"2026-01-25T19:24:58.154447+01:00","dependencies":[{"issue_id":"rff-wisp-7uyl","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.435606+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7uyl","depends_on_id":"rff-wisp-vyal","type":"blocks","created_at":"2026-01-25T19:13:36.000666+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7zlo","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-5u9g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-5u9g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.317167+01:00","updated_at":"2026-01-25T16:44:55.317167+01:00","dependencies":[{"issue_id":"rff-wisp-7zlo","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.320457+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-7zuc","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ktnq should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.804773+01:00","updated_at":"2026-01-25T19:36:54.234067+01:00","closed_at":"2026-01-25T19:36:54.234067+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-7zuc","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.125414+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-7zuc","depends_on_id":"rff-wisp-anko","type":"blocks","created_at":"2026-01-25T19:28:04.762324+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-83iz","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n⚠️ **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n⚠️ **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.37206+01:00","updated_at":"2026-01-25T20:29:51.37206+01:00","dependencies":[{"issue_id":"rff-wisp-83iz","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.852268+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-83iz","depends_on_id":"rff-wisp-mibg","type":"blocks","created_at":"2026-01-25T20:29:52.796661+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-83w1","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.925164+01:00","updated_at":"2026-01-25T18:15:49.925164+01:00","dependencies":[{"issue_id":"rff-wisp-83w1","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.138415+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-83w1","depends_on_id":"rff-wisp-tj8o","type":"blocks","created_at":"2026-01-25T18:15:50.422966+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-877","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-1jzo should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.211963+01:00","updated_at":"2026-01-25T13:53:47.326594+01:00","closed_at":"2026-01-25T13:53:47.326594+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-877","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.223638+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-877","depends_on_id":"rff-wisp-tr5","type":"blocks","created_at":"2026-01-25T13:49:00.243463+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-89sc","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-u18g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-u18g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.661611+01:00","updated_at":"2026-01-25T17:03:37.661611+01:00","dependencies":[{"issue_id":"rff-wisp-89sc","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.700506+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-89sc","depends_on_id":"rff-wisp-9ufz","type":"blocks","created_at":"2026-01-25T17:03:37.800642+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8a8o","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-19ll\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.330315+01:00","updated_at":"2026-01-25T18:34:46.330315+01:00","dependencies":[{"issue_id":"rff-wisp-8a8o","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.696282+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8a8o","depends_on_id":"rff-wisp-cxkk","type":"blocks","created_at":"2026-01-25T18:34:47.107025+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8aom","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-m1v5).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-m1v5\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.682605+01:00","updated_at":"2026-01-25T19:01:17.428334+01:00","closed_at":"2026-01-25T19:01:17.428337+01:00","dependencies":[{"issue_id":"rff-wisp-8aom","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:32.819079+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8apd","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cn7l\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cn7l --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.460799+01:00","updated_at":"2026-01-25T18:10:42.460799+01:00","dependencies":[{"issue_id":"rff-wisp-8apd","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.686415+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8apd","depends_on_id":"rff-wisp-53p4","type":"blocks","created_at":"2026-01-25T18:10:42.942489+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8axu","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-twmya should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.240979+01:00","updated_at":"2026-01-25T20:29:47.240979+01:00","dependencies":[{"issue_id":"rff-wisp-8axu","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.612935+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8axu","depends_on_id":"rff-wisp-3jlr","type":"blocks","created_at":"2026-01-25T20:29:48.345586+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8ch0","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-3xr6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.906535+01:00","updated_at":"2026-01-25T19:16:30.906536+01:00","dependencies":[{"issue_id":"rff-wisp-8ch0","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:30.984638+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8ch0","depends_on_id":"rff-wisp-bmrb","type":"blocks","created_at":"2026-01-25T19:16:31.566978+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8hv","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-bvp\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-bvp --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.741611+01:00","updated_at":"2026-01-25T13:28:38.083622+01:00","closed_at":"2026-01-25T13:28:38.083622+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-8iee","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.828899+01:00","updated_at":"2026-01-25T18:10:15.828899+01:00","dependencies":[{"issue_id":"rff-wisp-8iee","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:16.065482+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8iee","depends_on_id":"rff-wisp-eq3t","type":"blocks","created_at":"2026-01-25T18:10:16.322733+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8ipt","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-m1v5\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.686402+01:00","updated_at":"2026-01-25T19:06:21.504278+01:00","dependencies":[{"issue_id":"rff-wisp-8ipt","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:33.318787+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8ipt","depends_on_id":"rff-wisp-zkbr","type":"blocks","created_at":"2026-01-25T18:59:33.828573+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8k21","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-8iy7\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:10.234894+01:00","updated_at":"2026-01-25T16:30:10.234894+01:00","dependencies":[{"issue_id":"rff-wisp-8k21","depends_on_id":"rff-wisp-ctyg","type":"parent-child","created_at":"2026-01-25T16:30:10.273017+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8l7f","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cn7l should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.97085+01:00","updated_at":"2026-01-25T18:18:00.615589+01:00","closed_at":"2026-01-25T18:18:00.615589+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-8l7f","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.109611+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8l7f","depends_on_id":"rff-wisp-ro3p","type":"blocks","created_at":"2026-01-25T18:13:32.393832+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8lcr","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:03:37.659628+01:00","updated_at":"2026-01-25T17:03:37.659628+01:00","ephemeral":true}
{"id":"rff-wisp-8mc","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-b5h)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-b5h\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.032108+01:00","updated_at":"2026-01-25T13:26:37.240769+01:00","closed_at":"2026-01-25T13:26:37.240769+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-8mc","depends_on_id":"rff-wisp-avy","type":"blocks","created_at":"2026-01-25T13:23:15.06797+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8nf1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-5u9g\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-5u9g --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.157039+01:00","updated_at":"2026-01-25T16:52:20.157039+01:00","dependencies":[{"issue_id":"rff-wisp-8nf1","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.222451+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8nf1","depends_on_id":"rff-wisp-54q6","type":"blocks","created_at":"2026-01-25T16:52:20.296023+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8nw","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-7za)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-7za\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.722103+01:00","updated_at":"2026-01-25T13:30:32.722103+01:00","dependencies":[{"issue_id":"rff-wisp-8nw","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.759029+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8nw","depends_on_id":"rff-wisp-q4v","type":"blocks","created_at":"2026-01-25T13:30:32.792956+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8o4j","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.156041+01:00","updated_at":"2026-01-25T16:52:20.156042+01:00","dependencies":[{"issue_id":"rff-wisp-8o4j","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.193837+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8o4j","depends_on_id":"rff-wisp-nzf3","type":"blocks","created_at":"2026-01-25T16:52:20.268775+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8q0k","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-gn2v)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-gn2v\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.034459+01:00","updated_at":"2026-01-25T18:51:27.034459+01:00","dependencies":[{"issue_id":"rff-wisp-8q0k","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.204559+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8q0k","depends_on_id":"rff-wisp-zbfo","type":"blocks","created_at":"2026-01-25T18:51:27.649487+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8q1m","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cmikt).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cmikt\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.098092+01:00","updated_at":"2026-01-25T19:55:37.098093+01:00","dependencies":[{"issue_id":"rff-wisp-8q1m","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.265814+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8q1m","depends_on_id":"rff-wisp-8td6","type":"blocks","created_at":"2026-01-25T19:55:37.910771+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8qfl","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-la8j\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.2273+01:00","updated_at":"2026-01-25T19:06:04.362082+01:00","dependencies":[{"issue_id":"rff-wisp-8qfl","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.690926+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8qfl","depends_on_id":"rff-wisp-wt8s","type":"blocks","created_at":"2026-01-25T19:02:07.164557+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8qri","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.155329+01:00","updated_at":"2026-01-25T16:52:20.155329+01:00","dependencies":[{"issue_id":"rff-wisp-8qri","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.176015+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8qri","depends_on_id":"rff-wisp-srk3","type":"blocks","created_at":"2026-01-25T16:52:20.249507+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8sx","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-qids\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.123212+01:00","updated_at":"2026-01-25T14:16:58.211582+01:00","closed_at":"2026-01-25T14:16:58.211582+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-8sx","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.128917+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8sx","depends_on_id":"rff-wisp-ax9","type":"blocks","created_at":"2026-01-25T14:14:51.15008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8td6","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cmikt\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.097256+01:00","updated_at":"2026-01-25T19:55:37.097256+01:00","dependencies":[{"issue_id":"rff-wisp-8td6","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.182368+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8td6","depends_on_id":"rff-wisp-c0lw","type":"blocks","created_at":"2026-01-25T19:55:37.829998+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8u15","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-n2ly\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.963737+01:00","updated_at":"2026-01-25T18:22:22.638599+01:00","dependencies":[{"issue_id":"rff-wisp-8u15","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.267728+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8u15","depends_on_id":"rff-wisp-nvhc","type":"blocks","created_at":"2026-01-25T18:16:31.558334+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8u4e","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-tuso\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.290478+01:00","updated_at":"2026-01-25T16:44:52.767111+01:00","closed_at":"2026-01-25T16:44:52.767113+01:00","dependencies":[{"issue_id":"rff-wisp-8u4e","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.30143+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8u4e","depends_on_id":"rff-wisp-3nr6","type":"blocks","created_at":"2026-01-25T16:42:20.374947+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8uj0","title":"Ensure refinery is alive","description":"Ensure the refinery is alive and processing merge requests.\n\n```bash\n# Check if refinery session exists\ngt session status \u003crig\u003e/refinery\n\n# Check for pending merge requests\nbd list --type=merge-request --status=open\n```\n\nIf MRs waiting AND refinery not running:\n```bash\ngt session start \u003crig\u003e/refinery\ngt mail send \u003crig\u003e/refinery -s \"PATROL: Wake up\" -m \"Merge requests in queue. Please process.\"\n```\n\nIf refinery running but queue stale (\u003e30 min), send nudge.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.90677+01:00","updated_at":"2026-01-25T20:29:36.90677+01:00","dependencies":[{"issue_id":"rff-wisp-8uj0","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.089434+01:00","created_by":"witness"},{"issue_id":"rff-wisp-8uj0","depends_on_id":"rff-wisp-7fgd","type":"blocks","created_at":"2026-01-25T20:29:37.898451+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-8um","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-35ho should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:13:33.210401+01:00","updated_at":"2026-01-25T14:26:24.713689+01:00","closed_at":"2026-01-25T14:26:24.713691+01:00","dependencies":[{"issue_id":"rff-wisp-8um","depends_on_id":"rff-wisp-3tj","type":"parent-child","created_at":"2026-01-25T14:13:33.222056+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8um","depends_on_id":"rff-wisp-x41","type":"blocks","created_at":"2026-01-25T14:13:33.239526+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8uwh","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-70k6).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-70k6\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.210139+01:00","updated_at":"2026-01-25T18:09:21.210139+01:00","dependencies":[{"issue_id":"rff-wisp-8uwh","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.274777+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8uwh","depends_on_id":"rff-wisp-fezo","type":"blocks","created_at":"2026-01-25T18:09:21.520038+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8xrt","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-t43h\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.753328+01:00","updated_at":"2026-01-25T18:17:56.753328+01:00","dependencies":[{"issue_id":"rff-wisp-8xrt","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:57.051864+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8xrt","depends_on_id":"rff-wisp-h5fc","type":"blocks","created_at":"2026-01-25T18:17:57.352338+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8ysn","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-66nd\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.656916+01:00","updated_at":"2026-01-25T17:30:45.656916+01:00","dependencies":[{"issue_id":"rff-wisp-8ysn","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.673552+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-8ysn","depends_on_id":"rff-wisp-jfxi","type":"blocks","created_at":"2026-01-25T17:30:45.783462+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-8zho","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-bcix4           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-bcix4\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.451748+01:00","updated_at":"2026-01-25T19:53:05.451748+01:00","dependencies":[{"issue_id":"rff-wisp-8zho","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.457062+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-93hy","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-8iy7           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-8iy7\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.010437+01:00","updated_at":"2026-01-25T16:37:04.798918+01:00","closed_at":"2026-01-25T16:37:04.79892+01:00","dependencies":[{"issue_id":"rff-wisp-93hy","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.013659+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-93qu","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.328062+01:00","updated_at":"2026-01-25T16:40:46.328062+01:00","dependencies":[{"issue_id":"rff-wisp-93qu","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.362009+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-93qu","depends_on_id":"rff-wisp-ynq7","type":"blocks","created_at":"2026-01-25T16:40:46.423426+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-94f3","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cmikt)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cmikt\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.098846+01:00","updated_at":"2026-01-25T19:55:37.098846+01:00","dependencies":[{"issue_id":"rff-wisp-94f3","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.34541+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-94f3","depends_on_id":"rff-wisp-8q1m","type":"blocks","created_at":"2026-01-25T19:55:37.991194+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-94t","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-b5h\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-b5h --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.033422+01:00","updated_at":"2026-01-25T13:28:32.546202+01:00","closed_at":"2026-01-25T13:28:32.546202+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-94u9","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:32:29.246366+01:00","updated_at":"2026-01-25T17:32:29.246366+01:00","ephemeral":true}
{"id":"rff-wisp-9728","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.249469+01:00","updated_at":"2026-01-25T17:32:29.249469+01:00","dependencies":[{"issue_id":"rff-wisp-9728","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.334471+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9728","depends_on_id":"rff-wisp-hgfy","type":"blocks","created_at":"2026-01-25T17:32:29.465217+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-97dz","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:08:19.929215+01:00","updated_at":"2026-01-25T19:14:34.310022+01:00","closed_at":"2026-01-25T19:14:34.310022+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-97zy","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-fxke).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-fxke\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.736302+01:00","updated_at":"2026-01-25T18:07:26.727329+01:00","closed_at":"2026-01-25T18:07:26.727329+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-97zy","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.794448+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-97zy","depends_on_id":"rff-wisp-arf6","type":"blocks","created_at":"2026-01-25T18:04:54.01254+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-98do","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:17:56.749012+01:00","updated_at":"2026-01-25T18:17:56.749012+01:00","ephemeral":true}
{"id":"rff-wisp-99i0","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cn7l\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.322223+01:00","updated_at":"2026-01-25T18:06:56.322223+01:00","dependencies":[{"issue_id":"rff-wisp-99i0","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.355058+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-99i0","depends_on_id":"rff-wisp-ljgc","type":"blocks","created_at":"2026-01-25T18:06:56.589419+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9b7h","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:59:35.946148+01:00","updated_at":"2026-01-25T17:04:05.192537+01:00","closed_at":"2026-01-25T17:04:05.192537+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-9cok","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.591092+01:00","updated_at":"2026-01-25T19:56:44.357058+01:00","dependencies":[{"issue_id":"rff-wisp-9cok","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:13.171115+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9cok","depends_on_id":"rff-wisp-t1uu","type":"blocks","created_at":"2026-01-25T19:37:13.883244+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9cox","title":"Ping Deacon for health check","description":"Send WITNESS_PING to Deacon for second-order monitoring.\n\nThe Witness fleet collectively monitors Deacon health - this prevents the\n\"who watches the watchers\" problem. If Deacon dies, Witnesses detect it.\n\n**Step 1: Send ping**\n```bash\ngt mail send deacon/ -s \"WITNESS_PING \u003crig\u003e\" -m \"Rig: \u003crig\u003e\nTimestamp: $(date -u +%Y-%m-%dT%H:%M:%SZ)\nPatrol: \u003ccycle-number\u003e\"\n```\n\n**Step 2: Check Deacon health**\n```bash\n# Check Deacon agent bead for last_activity\nbd list --type=agent --json | jq '.[] | select(.description | contains(\"deacon\"))'\n```\n\nLook at the `last_activity` timestamp. If stale (\u003e5 minutes since last update):\n- Deacon may be dead or stuck\n\n**Step 3: Escalate if needed**\n```bash\n# If Deacon appears down\ngt mail send mayor/ -s \"ALERT: Deacon appears unresponsive\" -m \"No Deacon activity for \u003e5 minutes.\nLast seen: \u003ctimestamp\u003e\nWitness: \u003crig\u003e/witness\"\n```\n\nNote: Multiple Witnesses may send this alert. Mayor should handle deduplication.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.584044+01:00","updated_at":"2026-01-25T20:23:52.584044+01:00","dependencies":[{"issue_id":"rff-wisp-9cox","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:53.081021+01:00","created_by":"witness"},{"issue_id":"rff-wisp-9cox","depends_on_id":"rff-wisp-spoe","type":"blocks","created_at":"2026-01-25T20:23:53.831023+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-9ddy","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.705816+01:00","updated_at":"2026-01-25T17:00:52.705816+01:00","dependencies":[{"issue_id":"rff-wisp-9ddy","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.739621+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9ddy","depends_on_id":"rff-wisp-n680","type":"blocks","created_at":"2026-01-25T17:00:52.826041+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9ep","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-nlu\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.739309+01:00","updated_at":"2026-01-25T13:22:50.739309+01:00","dependencies":[{"issue_id":"rff-wisp-9ep","depends_on_id":"rff-wisp-ktv","type":"blocks","created_at":"2026-01-25T13:22:50.765471+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9f16","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.899037+01:00","updated_at":"2026-01-25T17:05:04.899037+01:00","dependencies":[{"issue_id":"rff-wisp-9f16","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.989835+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9f16","depends_on_id":"rff-wisp-i5w5","type":"blocks","created_at":"2026-01-25T17:05:05.100534+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9fo","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-dew           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-dew\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.260128+01:00","updated_at":"2026-01-25T13:22:03.260128+01:00","ephemeral":true}
{"id":"rff-wisp-9ft0","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Ensure any notes are written to handoff mail\n- Prepare for session restart\n\nIf context is LOW:\n- Can continue patrolling","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.642903+01:00","updated_at":"2026-01-25T20:24:59.642903+01:00","dependencies":[{"issue_id":"rff-wisp-9ft0","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.370254+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-9ft0","depends_on_id":"rff-wisp-ei91","type":"blocks","created_at":"2026-01-25T20:25:01.184369+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-9g98","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-skta\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-skta --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.549618+01:00","updated_at":"2026-01-25T18:56:16.434189+01:00","closed_at":"2026-01-25T18:56:16.434189+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-9g98","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.927696+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9g98","depends_on_id":"rff-wisp-fn4w","type":"blocks","created_at":"2026-01-25T18:50:12.378193+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9gep","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:10:42.456694+01:00","updated_at":"2026-01-25T18:10:42.456694+01:00","ephemeral":true}
{"id":"rff-wisp-9m4g","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-8iy7)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-8iy7\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.011507+01:00","updated_at":"2026-01-25T16:38:10.341775+01:00","closed_at":"2026-01-25T16:38:10.341777+01:00","dependencies":[{"issue_id":"rff-wisp-9m4g","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.032745+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9m4g","depends_on_id":"rff-wisp-2o6u","type":"blocks","created_at":"2026-01-25T16:34:44.08278+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9mm1","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-jbyu)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-jbyu\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.953796+01:00","updated_at":"2026-01-25T17:55:18.953796+01:00","dependencies":[{"issue_id":"rff-wisp-9mm1","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.02098+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9mm1","depends_on_id":"rff-wisp-5rvw","type":"blocks","created_at":"2026-01-25T17:55:19.195008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9phe","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-t43h).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-t43h\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.750951+01:00","updated_at":"2026-01-25T18:17:56.750952+01:00","dependencies":[{"issue_id":"rff-wisp-9phe","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.82907+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9phe","depends_on_id":"rff-wisp-l51k","type":"blocks","created_at":"2026-01-25T18:17:57.126327+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9s0u","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cfh0\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.947218+01:00","updated_at":"2026-01-25T16:59:35.947218+01:00","dependencies":[{"issue_id":"rff-wisp-9s0u","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:35.960803+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9s0u","depends_on_id":"rff-wisp-snqf","type":"blocks","created_at":"2026-01-25T16:59:36.042436+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9sg9","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-tuso\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-tuso --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.568882+01:00","updated_at":"2026-01-25T16:40:08.568882+01:00","dependencies":[{"issue_id":"rff-wisp-9sg9","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.614348+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9sg9","depends_on_id":"rff-wisp-w9wy","type":"blocks","created_at":"2026-01-25T16:40:08.66793+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9tqa","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-0gnv           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-0gnv\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.425065+01:00","updated_at":"2026-01-25T16:30:38.090733+01:00","closed_at":"2026-01-25T16:30:38.090735+01:00","dependencies":[{"issue_id":"rff-wisp-9tqa","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.428214+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9ufz","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-u18g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-u18g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.66116+01:00","updated_at":"2026-01-25T17:03:37.66116+01:00","dependencies":[{"issue_id":"rff-wisp-9ufz","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.688438+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9ufz","depends_on_id":"rff-wisp-7eki","type":"blocks","created_at":"2026-01-25T17:03:37.787886+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9z1z","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:10.234252+01:00","updated_at":"2026-01-25T16:30:10.234252+01:00","dependencies":[{"issue_id":"rff-wisp-9z1z","depends_on_id":"rff-wisp-ctyg","type":"parent-child","created_at":"2026-01-25T16:30:10.263791+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-9z62","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:09:23.172875+01:00","updated_at":"2026-01-25T19:09:23.172875+01:00","ephemeral":true}
{"id":"rff-wisp-9zzb","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.329458+01:00","updated_at":"2026-01-25T18:34:46.329458+01:00","dependencies":[{"issue_id":"rff-wisp-9zzb","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.60421+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-9zzb","depends_on_id":"rff-wisp-b1te","type":"blocks","created_at":"2026-01-25T18:34:47.007782+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a0cs","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-6io6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-6io6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.499854+01:00","updated_at":"2026-01-25T18:03:07.462884+01:00","closed_at":"2026-01-25T18:03:07.462886+01:00","dependencies":[{"issue_id":"rff-wisp-a0cs","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.626236+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-a0cs","depends_on_id":"rff-wisp-wwb1","type":"blocks","created_at":"2026-01-25T17:59:27.015528+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a1f2","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-zf5w           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-zf5w\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.827548+01:00","updated_at":"2026-01-25T18:51:05.505148+01:00","closed_at":"2026-01-25T18:51:05.505148+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-a1f2","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:20.832669+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a2yk","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-1iq7           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-1iq7\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.247203+01:00","updated_at":"2026-01-25T17:32:29.247203+01:00","dependencies":[{"issue_id":"rff-wisp-a2yk","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.251211+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a546","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:30:49.64588+01:00","updated_at":"2026-01-25T18:44:08.245995+01:00","closed_at":"2026-01-25T18:44:08.245995+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-a6ix","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-s0qo should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.173968+01:00","updated_at":"2026-01-25T17:33:11.173969+01:00","dependencies":[{"issue_id":"rff-wisp-a6ix","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.245289+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-a6ix","depends_on_id":"rff-wisp-70ha","type":"blocks","created_at":"2026-01-25T17:33:11.382798+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a6k6","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-jbyu           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-jbyu\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.952667+01:00","updated_at":"2026-01-25T17:55:18.952667+01:00","dependencies":[{"issue_id":"rff-wisp-a6k6","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:18.956321+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-a9je","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ktnq\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.803193+01:00","updated_at":"2026-01-25T19:29:51.305608+01:00","closed_at":"2026-01-25T19:29:51.305608+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-a9je","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:03.888192+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-a9je","depends_on_id":"rff-wisp-aow4","type":"blocks","created_at":"2026-01-25T19:28:04.521964+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aae","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-nlu\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.562482+01:00","updated_at":"2026-01-25T13:27:39.350273+01:00","closed_at":"2026-01-25T13:27:39.350273+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-aae","depends_on_id":"rff-wisp-c7f","type":"blocks","created_at":"2026-01-25T13:25:57.599886+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aaej","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-70k6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-70k6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.37178+01:00","updated_at":"2026-01-25T18:10:29.802669+01:00","closed_at":"2026-01-25T18:10:29.802673+01:00","dependencies":[{"issue_id":"rff-wisp-aaej","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.375398+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aet0","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-t43h           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-t43h\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.750087+01:00","updated_at":"2026-01-25T18:17:56.750087+01:00","dependencies":[{"issue_id":"rff-wisp-aet0","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.753906+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-af33","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.871229+01:00","updated_at":"2026-01-25T17:51:50.871229+01:00","dependencies":[{"issue_id":"rff-wisp-af33","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.992714+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-af33","depends_on_id":"rff-wisp-dr0o","type":"blocks","created_at":"2026-01-25T17:51:51.154076+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aj70","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-v9ykq           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-v9ykq\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.106293+01:00","updated_at":"2026-01-25T20:32:23.434768+01:00","closed_at":"2026-01-25T20:32:23.43477+01:00","dependencies":[{"issue_id":"rff-wisp-aj70","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.112826+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-an1b","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ylt5           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ylt5\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.78001+01:00","updated_at":"2026-01-25T17:58:40.78001+01:00","dependencies":[{"issue_id":"rff-wisp-an1b","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.784066+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-anko","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ktnq)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ktnq\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.80425+01:00","updated_at":"2026-01-25T19:36:13.961636+01:00","closed_at":"2026-01-25T19:36:13.961636+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-anko","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.046505+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-anko","depends_on_id":"rff-wisp-ut66","type":"blocks","created_at":"2026-01-25T19:28:04.681736+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aod4","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-m1v5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-m1v5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.683147+01:00","updated_at":"2026-01-25T19:03:24.874709+01:00","closed_at":"2026-01-25T19:03:24.874713+01:00","dependencies":[{"issue_id":"rff-wisp-aod4","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:32.901235+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-aod4","depends_on_id":"rff-wisp-8aom","type":"blocks","created_at":"2026-01-25T18:59:33.52554+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-aow4","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ktnq           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ktnq\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.802603+01:00","updated_at":"2026-01-25T19:29:45.459479+01:00","closed_at":"2026-01-25T19:29:45.459479+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-aow4","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:03.808241+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ap1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-dew\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-dew --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.262618+01:00","updated_at":"2026-01-25T13:22:03.262618+01:00","ephemeral":true}
{"id":"rff-wisp-aplb","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ytq3).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ytq3\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.752942+01:00","updated_at":"2026-01-25T18:11:29.752942+01:00","dependencies":[{"issue_id":"rff-wisp-aplb","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.821007+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-aplb","depends_on_id":"rff-wisp-ksvl","type":"blocks","created_at":"2026-01-25T18:11:30.085088+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-arf6","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-fxke\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.735874+01:00","updated_at":"2026-01-25T18:06:44.26119+01:00","closed_at":"2026-01-25T18:06:44.26119+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-arf6","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.766924+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-arf6","depends_on_id":"rff-wisp-sx8v","type":"blocks","created_at":"2026-01-25T18:04:53.984607+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-auey","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.830256+01:00","updated_at":"2026-01-25T18:53:15.822117+01:00","closed_at":"2026-01-25T18:53:15.822117+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-auey","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:21.094237+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-auey","depends_on_id":"rff-wisp-h3vj","type":"blocks","created_at":"2026-01-25T18:49:21.511931+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-auwg","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:30:52.789239+01:00","updated_at":"2026-01-25T20:30:52.789239+01:00","ephemeral":true}
{"id":"rff-wisp-avy","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-b5h).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-b5h\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.031758+01:00","updated_at":"2026-01-25T13:25:20.788319+01:00","closed_at":"2026-01-25T13:25:20.788319+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-avy","depends_on_id":"rff-wisp-l9m","type":"blocks","created_at":"2026-01-25T13:23:15.064851+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ax9","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-qids           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-qids\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.122862+01:00","updated_at":"2026-01-25T14:16:33.826549+01:00","closed_at":"2026-01-25T14:16:33.826549+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ax9","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.126094+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-b1te","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.329036+01:00","updated_at":"2026-01-25T18:34:46.329036+01:00","dependencies":[{"issue_id":"rff-wisp-b1te","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.558536+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-b1te","depends_on_id":"rff-wisp-d8vd","type":"blocks","created_at":"2026-01-25T18:34:46.959522+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-b3f","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-3mq\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-3mq --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.287779+01:00","updated_at":"2026-01-25T13:45:15.287779+01:00","dependencies":[{"issue_id":"rff-wisp-b3f","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.304794+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-b3f","depends_on_id":"rff-wisp-0j5","type":"blocks","created_at":"2026-01-25T13:45:15.32447+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-b76y","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:04:28.705975+01:00","updated_at":"2026-01-25T19:04:28.705975+01:00","ephemeral":true}
{"id":"rff-wisp-b7a","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-3mq\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.284891+01:00","updated_at":"2026-01-25T13:45:15.284891+01:00","dependencies":[{"issue_id":"rff-wisp-b7a","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.291319+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-b7a","depends_on_id":"rff-wisp-x40","type":"blocks","created_at":"2026-01-25T13:45:15.309339+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-b8h","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-nlu\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.741858+01:00","updated_at":"2026-01-25T13:22:50.741858+01:00","dependencies":[{"issue_id":"rff-wisp-b8h","depends_on_id":"rff-wisp-2dl","type":"blocks","created_at":"2026-01-25T13:22:50.785191+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bab","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-bvp           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-bvp\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.739114+01:00","updated_at":"2026-01-25T13:23:57.28427+01:00","closed_at":"2026-01-25T13:23:57.28427+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-bb0n","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-0enz\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.530239+01:00","updated_at":"2026-01-25T17:47:23.530239+01:00","dependencies":[{"issue_id":"rff-wisp-bb0n","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.553148+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bb0n","depends_on_id":"rff-wisp-0h14","type":"blocks","created_at":"2026-01-25T17:47:23.70586+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bdox","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-14ed\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.428425+01:00","updated_at":"2026-01-25T19:35:06.428425+01:00","dependencies":[{"issue_id":"rff-wisp-bdox","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.51504+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bdox","depends_on_id":"rff-wisp-qtu1","type":"blocks","created_at":"2026-01-25T19:35:07.20223+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bduh","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-zf5w\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.831949+01:00","updated_at":"2026-01-25T18:54:09.367317+01:00","dependencies":[{"issue_id":"rff-wisp-bduh","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:21.24954+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bduh","depends_on_id":"rff-wisp-cv4m","type":"blocks","created_at":"2026-01-25T18:49:21.671841+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bete","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-qids\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.53973+01:00","updated_at":"2026-01-25T14:19:48.53973+01:00","dependencies":[{"issue_id":"rff-wisp-bete","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.546433+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bete","depends_on_id":"rff-wisp-p3kq","type":"blocks","created_at":"2026-01-25T14:19:48.572314+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bfd4","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-iq3z).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-iq3z\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:57.594295+01:00","updated_at":"2026-01-25T16:31:35.890451+01:00","closed_at":"2026-01-25T16:31:35.890453+01:00","dependencies":[{"issue_id":"rff-wisp-bfd4","depends_on_id":"rff-wisp-c1l1","type":"blocks","created_at":"2026-01-25T16:23:57.631144+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bfgg","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-14ed).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-14ed\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.429006+01:00","updated_at":"2026-01-25T19:35:06.429007+01:00","dependencies":[{"issue_id":"rff-wisp-bfgg","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.600737+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bfgg","depends_on_id":"rff-wisp-bdox","type":"blocks","created_at":"2026-01-25T19:35:07.286042+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bhto","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.422387+01:00","updated_at":"2026-01-25T19:01:40.802041+01:00","closed_at":"2026-01-25T19:01:40.802041+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-bhto","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.621122+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bhyp","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cfh0\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.94996+01:00","updated_at":"2026-01-25T16:59:35.94996+01:00","dependencies":[{"issue_id":"rff-wisp-bhyp","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:36.031845+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bhyp","depends_on_id":"rff-wisp-bz85","type":"blocks","created_at":"2026-01-25T16:59:36.11931+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-biti","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-5u9g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.157384+01:00","updated_at":"2026-01-25T16:52:20.157384+01:00","dependencies":[{"issue_id":"rff-wisp-biti","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.231384+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-biti","depends_on_id":"rff-wisp-8nf1","type":"blocks","created_at":"2026-01-25T16:52:20.306188+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bkit","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.909036+01:00","updated_at":"2026-01-25T19:16:30.909036+01:00","dependencies":[{"issue_id":"rff-wisp-bkit","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.274787+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bkit","depends_on_id":"rff-wisp-gbtf","type":"blocks","created_at":"2026-01-25T19:16:31.860585+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ble1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-1iq7\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-1iq7 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.250224+01:00","updated_at":"2026-01-25T17:32:29.250224+01:00","dependencies":[{"issue_id":"rff-wisp-ble1","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.3674+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ble1","depends_on_id":"rff-wisp-e2e2","type":"blocks","created_at":"2026-01-25T17:32:29.499008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-blkt","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cmikt should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.099464+01:00","updated_at":"2026-01-25T19:55:37.099464+01:00","dependencies":[{"issue_id":"rff-wisp-blkt","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.425943+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-blkt","depends_on_id":"rff-wisp-94f3","type":"blocks","created_at":"2026-01-25T19:55:38.07323+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bll3","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:23:19.923367+01:00","updated_at":"2026-01-25T19:23:19.923367+01:00","ephemeral":true}
{"id":"rff-wisp-blu9","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ylt5 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.870488+01:00","updated_at":"2026-01-25T17:51:50.870488+01:00","dependencies":[{"issue_id":"rff-wisp-blu9","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.952315+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-blu9","depends_on_id":"rff-wisp-keus","type":"blocks","created_at":"2026-01-25T17:51:51.113327+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bmrb","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-3xr6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-3xr6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.905988+01:00","updated_at":"2026-01-25T19:16:30.905988+01:00","dependencies":[{"issue_id":"rff-wisp-bmrb","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:30.911528+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bnew","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.318598+01:00","updated_at":"2026-01-25T16:44:55.318598+01:00","dependencies":[{"issue_id":"rff-wisp-bnew","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.354069+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bnew","depends_on_id":"rff-wisp-yrl0","type":"blocks","created_at":"2026-01-25T16:44:55.421899+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bps1","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:09:21.208285+01:00","updated_at":"2026-01-25T18:09:21.208285+01:00","ephemeral":true}
{"id":"rff-wisp-bta2","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.372572+01:00","updated_at":"2026-01-25T20:29:51.372572+01:00","dependencies":[{"issue_id":"rff-wisp-bta2","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.94721+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-bta2","depends_on_id":"rff-wisp-83iz","type":"blocks","created_at":"2026-01-25T20:29:52.890697+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-bv9a","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.318938+01:00","updated_at":"2026-01-25T16:44:55.318938+01:00","dependencies":[{"issue_id":"rff-wisp-bv9a","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.363478+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bv9a","depends_on_id":"rff-wisp-bnew","type":"blocks","created_at":"2026-01-25T16:44:55.430566+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bvnjm","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.12107+01:00","updated_at":"2026-01-25T20:36:51.12107+01:00","dependencies":[{"issue_id":"rff-wisp-bvnjm","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.744126+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bvnjm","depends_on_id":"rff-wisp-h0zqi","type":"blocks","created_at":"2026-01-25T20:36:52.683311+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-bz85","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cfh0\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cfh0 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.949574+01:00","updated_at":"2026-01-25T16:59:35.949574+01:00","dependencies":[{"issue_id":"rff-wisp-bz85","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:36.021389+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-bz85","depends_on_id":"rff-wisp-pgdc","type":"blocks","created_at":"2026-01-25T16:59:36.108144+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c0lw","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cmikt           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cmikt\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.096527+01:00","updated_at":"2026-01-25T19:55:37.096527+01:00","dependencies":[{"issue_id":"rff-wisp-c0lw","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.102542+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c0ya","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:19:33.52482+01:00","updated_at":"2026-01-25T19:19:33.52482+01:00","ephemeral":true}
{"id":"rff-wisp-c1l1","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-iq3z\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:57.593976+01:00","updated_at":"2026-01-25T16:31:35.707885+01:00","closed_at":"2026-01-25T16:31:35.707887+01:00","dependencies":[{"issue_id":"rff-wisp-c1l1","depends_on_id":"rff-wisp-m3l4","type":"blocks","created_at":"2026-01-25T16:23:57.627873+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c1rz","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-wair).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-wair\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.540407+01:00","updated_at":"2026-01-25T18:16:17.329373+01:00","closed_at":"2026-01-25T18:16:17.329375+01:00","dependencies":[{"issue_id":"rff-wisp-c1rz","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.609955+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-c1rz","depends_on_id":"rff-wisp-p4r9","type":"blocks","created_at":"2026-01-25T18:12:54.876886+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c6kt","title":"Ping Deacon for health check","description":"Send WITNESS_PING to Deacon for second-order monitoring.\n\nThe Witness fleet collectively monitors Deacon health - this prevents the\n\"who watches the watchers\" problem. If Deacon dies, Witnesses detect it.\n\n**Step 1: Send ping**\n```bash\ngt mail send deacon/ -s \"WITNESS_PING \u003crig\u003e\" -m \"Rig: \u003crig\u003e\nTimestamp: $(date -u +%Y-%m-%dT%H:%M:%SZ)\nPatrol: \u003ccycle-number\u003e\"\n```\n\n**Step 2: Check Deacon health**\n```bash\n# Check Deacon agent bead for last_activity\nbd list --type=agent --json | jq '.[] | select(.description | contains(\"deacon\"))'\n```\n\nLook at the `last_activity` timestamp. If stale (\u003e5 minutes since last update):\n- Deacon may be dead or stuck\n\n**Step 3: Escalate if needed**\n```bash\n# If Deacon appears down\ngt mail send mayor/ -s \"ALERT: Deacon appears unresponsive\" -m \"No Deacon activity for \u003e5 minutes.\nLast seen: \u003ctimestamp\u003e\nWitness: \u003crig\u003e/witness\"\n```\n\nNote: Multiple Witnesses may send this alert. Mayor should handle deduplication.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.641941+01:00","updated_at":"2026-01-25T20:24:59.641941+01:00","dependencies":[{"issue_id":"rff-wisp-c6kt","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.19199+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-c6kt","depends_on_id":"rff-wisp-642i","type":"blocks","created_at":"2026-01-25T20:25:01.002924+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-c7f","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-nlu           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-nlu\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.562134+01:00","updated_at":"2026-01-25T13:27:17.370572+01:00","closed_at":"2026-01-25T13:27:17.370572+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-c8i","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-air should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.931407+01:00","updated_at":"2026-01-25T13:00:27.931407+01:00","dependencies":[{"issue_id":"rff-wisp-c8i","depends_on_id":"rff-wisp-ox4","type":"blocks","created_at":"2026-01-25T13:00:27.947982+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c9tp","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-6910\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.636394+01:00","updated_at":"2026-01-25T18:53:22.850194+01:00","closed_at":"2026-01-25T18:53:22.850194+01:00","close_reason":"On clean feature branch polecat/coma/rff-6910, synced with main","dependencies":[{"issue_id":"rff-wisp-c9tp","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.700129+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-c9tp","depends_on_id":"rff-wisp-xep5","type":"blocks","created_at":"2026-01-25T18:52:08.166809+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-c9xc","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-m1v5           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-m1v5\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.419814+01:00","updated_at":"2026-01-25T18:58:52.947709+01:00","closed_at":"2026-01-25T18:58:52.947709+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-c9xc","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.424542+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-carz","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-70k6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.37219+01:00","updated_at":"2026-01-25T18:10:54.166737+01:00","closed_at":"2026-01-25T18:10:54.166739+01:00","dependencies":[{"issue_id":"rff-wisp-carz","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.40177+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-carz","depends_on_id":"rff-wisp-aaej","type":"blocks","created_at":"2026-01-25T18:04:03.611205+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cbpp","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.08206+01:00","updated_at":"2026-01-25T16:51:09.08206+01:00","dependencies":[{"issue_id":"rff-wisp-cbpp","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.122386+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cbpp","depends_on_id":"rff-wisp-zkpk","type":"blocks","created_at":"2026-01-25T16:51:09.186214+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ceun","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-8iy7\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-8iy7 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.012829+01:00","updated_at":"2026-01-25T16:39:28.595234+01:00","closed_at":"2026-01-25T16:39:28.595237+01:00","dependencies":[{"issue_id":"rff-wisp-ceun","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.057585+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ceun","depends_on_id":"rff-wisp-5cix","type":"blocks","created_at":"2026-01-25T16:34:44.10907+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cf5n","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.662331+01:00","updated_at":"2026-01-25T17:03:37.662331+01:00","dependencies":[{"issue_id":"rff-wisp-cf5n","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.725242+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cf5n","depends_on_id":"rff-wisp-veyk","type":"blocks","created_at":"2026-01-25T17:03:37.825694+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cf7m","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-bcix4 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.453873+01:00","updated_at":"2026-01-25T19:53:05.453874+01:00","dependencies":[{"issue_id":"rff-wisp-cf7m","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.763059+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cf7m","depends_on_id":"rff-wisp-2tg6","type":"blocks","created_at":"2026-01-25T19:53:06.408465+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cf8v","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-1pz6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-1pz6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.903029+01:00","updated_at":"2026-01-25T18:33:58.968049+01:00","closed_at":"2026-01-25T18:33:58.968049+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-cf8v","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:18.908056+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ch40","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-8n36m).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-8n36m\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.472206+01:00","updated_at":"2026-01-25T20:36:03.288869+01:00","dependencies":[{"issue_id":"rff-wisp-ch40","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:34.694455+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ch40","depends_on_id":"rff-wisp-es55","type":"blocks","created_at":"2026-01-25T20:33:35.597405+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cidh","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-0gnv should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.426343+01:00","updated_at":"2026-01-25T16:33:10.743373+01:00","closed_at":"2026-01-25T16:33:10.743375+01:00","dependencies":[{"issue_id":"rff-wisp-cidh","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.445273+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cidh","depends_on_id":"rff-wisp-zq55","type":"blocks","created_at":"2026-01-25T16:29:17.479912+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cjh4","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-iq3z\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.313316+01:00","updated_at":"2026-01-25T16:29:40.313316+01:00","dependencies":[{"issue_id":"rff-wisp-cjh4","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.351552+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cjh4","depends_on_id":"rff-wisp-257j","type":"blocks","created_at":"2026-01-25T16:29:40.392355+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ckm3","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.606634+01:00","updated_at":"2026-01-25T18:43:19.884033+01:00","closed_at":"2026-01-25T18:43:19.884035+01:00","dependencies":[{"issue_id":"rff-wisp-ckm3","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.878853+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ckm3","depends_on_id":"rff-wisp-5tmm","type":"blocks","created_at":"2026-01-25T18:39:33.240307+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cm22","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-y83pz)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-y83pz\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.591578+01:00","updated_at":"2026-01-25T19:35:52.591578+01:00","dependencies":[{"issue_id":"rff-wisp-cm22","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:52.897415+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cm22","depends_on_id":"rff-wisp-1e1r","type":"blocks","created_at":"2026-01-25T19:35:53.583559+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cm81","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.15525+01:00","updated_at":"2026-01-25T19:25:46.150968+01:00","closed_at":"2026-01-25T19:25:46.15097+01:00","dependencies":[{"issue_id":"rff-wisp-cm81","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.57588+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cm81","depends_on_id":"rff-wisp-lfac","type":"blocks","created_at":"2026-01-25T19:13:36.143626+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cme3","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:52:20.153905+01:00","updated_at":"2026-01-25T16:52:20.153905+01:00","ephemeral":true}
{"id":"rff-wisp-cph0","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-5u9g\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-5u9g --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.7073+01:00","updated_at":"2026-01-25T17:00:52.7073+01:00","dependencies":[{"issue_id":"rff-wisp-cph0","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.782087+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cph0","depends_on_id":"rff-wisp-vifp","type":"blocks","created_at":"2026-01-25T17:00:52.871009+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cq74","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-nmq84\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.592189+01:00","updated_at":"2026-01-25T19:37:12.592189+01:00","dependencies":[{"issue_id":"rff-wisp-cq74","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:13.351875+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cq74","depends_on_id":"rff-wisp-p22f","type":"blocks","created_at":"2026-01-25T19:37:14.062985+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cr0z","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-iq3z)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-iq3z\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.311724+01:00","updated_at":"2026-01-25T16:29:40.311724+01:00","dependencies":[{"issue_id":"rff-wisp-cr0z","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.327959+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cr0z","depends_on_id":"rff-wisp-yrck","type":"blocks","created_at":"2026-01-25T16:29:40.367632+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cs6v","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-8iy7\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.013137+01:00","updated_at":"2026-01-25T16:39:29.51383+01:00","dependencies":[{"issue_id":"rff-wisp-cs6v","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.063853+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cs6v","depends_on_id":"rff-wisp-ceun","type":"blocks","created_at":"2026-01-25T16:34:44.115604+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-csne","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-u18g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.104644+01:00","updated_at":"2026-01-25T17:01:40.104644+01:00","dependencies":[{"issue_id":"rff-wisp-csne","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.119714+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-csne","depends_on_id":"rff-wisp-ipuv","type":"blocks","created_at":"2026-01-25T17:01:40.217983+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-csy6","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.427863+01:00","updated_at":"2026-01-25T18:57:30.427863+01:00","dependencies":[{"issue_id":"rff-wisp-csy6","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.712044+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ct0w","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-5u9g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-5u9g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.704763+01:00","updated_at":"2026-01-25T17:00:52.704764+01:00","dependencies":[{"issue_id":"rff-wisp-ct0w","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.708267+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ctl","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-vnt\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.009011+01:00","updated_at":"2026-01-25T13:25:03.590325+01:00","closed_at":"2026-01-25T13:25:03.590325+01:00","close_reason":"On clean feature branch, rebased on main","dependencies":[{"issue_id":"rff-wisp-ctl","depends_on_id":"rff-wisp-nr8","type":"blocks","created_at":"2026-01-25T13:23:46.043841+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ctyg","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:30:10.23127+01:00","updated_at":"2026-01-25T16:30:10.23127+01:00","ephemeral":true}
{"id":"rff-wisp-cugn","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.875198+01:00","updated_at":"2026-01-25T16:54:25.875198+01:00","dependencies":[{"issue_id":"rff-wisp-cugn","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.928776+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cugn","depends_on_id":"rff-wisp-nkwl","type":"blocks","created_at":"2026-01-25T16:54:26.001211+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cv4m","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-zf5w\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-zf5w --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.83143+01:00","updated_at":"2026-01-25T18:54:04.604194+01:00","closed_at":"2026-01-25T18:54:04.604194+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-cv4m","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:21.197446+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cv4m","depends_on_id":"rff-wisp-oek2","type":"blocks","created_at":"2026-01-25T18:49:21.618161+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cvzq","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ugec\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ugec --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.839063+01:00","updated_at":"2026-01-25T18:32:01.291636+01:00","closed_at":"2026-01-25T18:32:01.291639+01:00","dependencies":[{"issue_id":"rff-wisp-cvzq","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:50.114009+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cvzq","depends_on_id":"rff-wisp-s9yv","type":"blocks","created_at":"2026-01-25T18:26:50.430987+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cxed","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ze6v           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ze6v\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.924315+01:00","updated_at":"2026-01-25T19:23:19.924315+01:00","dependencies":[{"issue_id":"rff-wisp-cxed","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:19.929093+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cxkk","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-19ll\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-19ll --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.329899+01:00","updated_at":"2026-01-25T18:34:46.329899+01:00","dependencies":[{"issue_id":"rff-wisp-cxkk","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.650507+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cxkk","depends_on_id":"rff-wisp-9zzb","type":"blocks","created_at":"2026-01-25T18:34:47.057179+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cyge","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-tpoz           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-tpoz\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.173942+01:00","updated_at":"2026-01-25T19:09:23.173943+01:00","dependencies":[{"issue_id":"rff-wisp-cyge","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.179588+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-cyhb","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-35ho\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.77602+01:00","updated_at":"2026-01-25T14:19:23.77602+01:00","dependencies":[{"issue_id":"rff-wisp-cyhb","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.803571+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-cyhb","depends_on_id":"rff-wisp-2zif","type":"blocks","created_at":"2026-01-25T14:19:23.828208+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-czul","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ytq3\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ytq3 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.754957+01:00","updated_at":"2026-01-25T18:11:29.754957+01:00","dependencies":[{"issue_id":"rff-wisp-czul","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.985797+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-czul","depends_on_id":"rff-wisp-0jdb","type":"blocks","created_at":"2026-01-25T18:11:30.254368+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-d10i","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:16:30.904971+01:00","updated_at":"2026-01-25T19:16:30.904971+01:00","ephemeral":true}
{"id":"rff-wisp-d1v","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-9q4           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-9q4\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.392628+01:00","updated_at":"2026-01-25T13:21:40.392628+01:00","ephemeral":true}
{"id":"rff-wisp-d35r","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-6910 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.638142+01:00","updated_at":"2026-01-25T18:56:22.463949+01:00","closed_at":"2026-01-25T18:56:22.463949+01:00","close_reason":"Change reviewed: minimal 3-line fix, follows existing code patterns, only touches relevant file","dependencies":[{"issue_id":"rff-wisp-d35r","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.874559+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-d35r","depends_on_id":"rff-wisp-o3f9","type":"blocks","created_at":"2026-01-25T18:52:08.342361+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-d4lf","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ktnq\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ktnq --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.806862+01:00","updated_at":"2026-01-25T19:37:40.92236+01:00","closed_at":"2026-01-25T19:37:40.92236+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-d4lf","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.363108+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-d4lf","depends_on_id":"rff-wisp-571p","type":"blocks","created_at":"2026-01-25T19:28:05.004019+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-d84","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-air\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.934195+01:00","updated_at":"2026-01-25T13:00:27.934195+01:00","dependencies":[{"issue_id":"rff-wisp-d84","depends_on_id":"rff-wisp-j4p","type":"blocks","created_at":"2026-01-25T13:00:27.951618+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-d8vd","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-19ll should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.328599+01:00","updated_at":"2026-01-25T18:34:46.328599+01:00","dependencies":[{"issue_id":"rff-wisp-d8vd","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.513106+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-d8vd","depends_on_id":"rff-wisp-zcez","type":"blocks","created_at":"2026-01-25T18:34:46.913206+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-d9sy","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.706144+01:00","updated_at":"2026-01-25T17:00:52.706144+01:00","dependencies":[{"issue_id":"rff-wisp-d9sy","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.750068+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-d9sy","depends_on_id":"rff-wisp-9ddy","type":"blocks","created_at":"2026-01-25T17:00:52.83734+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dayd","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-1pz6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.907423+01:00","updated_at":"2026-01-25T18:32:18.907423+01:00","dependencies":[{"issue_id":"rff-wisp-dayd","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.296189+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dayd","depends_on_id":"rff-wisp-1egw","type":"blocks","created_at":"2026-01-25T18:32:19.709603+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dcc8","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.185273+01:00","updated_at":"2026-01-25T17:35:27.185273+01:00","dependencies":[{"issue_id":"rff-wisp-dcc8","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.289365+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dcc8","depends_on_id":"rff-wisp-nslw","type":"blocks","created_at":"2026-01-25T17:35:27.490096+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dfb7","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.648857+01:00","updated_at":"2026-01-25T18:42:11.679027+01:00","closed_at":"2026-01-25T18:42:11.679027+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-dfb7","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.868184+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dfb7","depends_on_id":"rff-wisp-rvc6","type":"blocks","created_at":"2026-01-25T18:30:50.201385+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dgr0","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:35:27.182361+01:00","updated_at":"2026-01-25T17:38:47.042528+01:00","closed_at":"2026-01-25T17:38:47.042528+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-dhuj","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-n2ly should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.962075+01:00","updated_at":"2026-01-25T18:20:37.940971+01:00","closed_at":"2026-01-25T18:20:37.940971+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-dhuj","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.110163+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dhuj","depends_on_id":"rff-wisp-3h9e","type":"blocks","created_at":"2026-01-25T18:16:31.411631+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dj19","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-h2r7o)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-h2r7o\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.457258+01:00","updated_at":"2026-01-25T20:32:47.457258+01:00","dependencies":[{"issue_id":"rff-wisp-dj19","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.773355+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dj19","depends_on_id":"rff-wisp-jjdy","type":"blocks","created_at":"2026-01-25T20:32:48.60391+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dm1t","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-twmya\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-twmya --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.242466+01:00","updated_at":"2026-01-25T20:29:47.242466+01:00","dependencies":[{"issue_id":"rff-wisp-dm1t","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.887368+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dm1t","depends_on_id":"rff-wisp-hdmo","type":"blocks","created_at":"2026-01-25T20:29:48.621165+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dmwh","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-gcja\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.557745+01:00","updated_at":"2026-01-25T18:23:49.557745+01:00","dependencies":[{"issue_id":"rff-wisp-dmwh","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.60124+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dmwh","depends_on_id":"rff-wisp-k3x2","type":"blocks","created_at":"2026-01-25T18:23:49.947734+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dna","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-9q4 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.394028+01:00","updated_at":"2026-01-25T13:21:40.394028+01:00","dependencies":[{"issue_id":"rff-wisp-dna","depends_on_id":"rff-wisp-drh","type":"blocks","created_at":"2026-01-25T13:21:40.417276+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dovl","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-558uj\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.349294+01:00","updated_at":"2026-01-25T20:23:58.349294+01:00","dependencies":[{"issue_id":"rff-wisp-dovl","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:59.044575+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dovl","depends_on_id":"rff-wisp-wgj9","type":"blocks","created_at":"2026-01-25T20:23:59.735533+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dp71","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-6io6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.498673+01:00","updated_at":"2026-01-25T18:01:23.755004+01:00","closed_at":"2026-01-25T18:01:23.755006+01:00","dependencies":[{"issue_id":"rff-wisp-dp71","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.532331+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dp71","depends_on_id":"rff-wisp-kmo8","type":"blocks","created_at":"2026-01-25T17:59:26.890376+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dpb","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-bvp\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.739448+01:00","updated_at":"2026-01-25T13:24:18.509243+01:00","closed_at":"2026-01-25T13:24:18.509243+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-dpb","depends_on_id":"rff-wisp-bab","type":"blocks","created_at":"2026-01-25T13:22:26.761879+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dpys","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:10:15.824499+01:00","updated_at":"2026-01-25T18:10:15.824499+01:00","ephemeral":true}
{"id":"rff-wisp-dqx","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-dew)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-dew\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.261385+01:00","updated_at":"2026-01-25T13:22:03.261385+01:00","dependencies":[{"issue_id":"rff-wisp-dqx","depends_on_id":"rff-wisp-5ap","type":"blocks","created_at":"2026-01-25T13:22:03.286108+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dr0o","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.870865+01:00","updated_at":"2026-01-25T17:51:50.870865+01:00","dependencies":[{"issue_id":"rff-wisp-dr0o","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.972473+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dr0o","depends_on_id":"rff-wisp-blu9","type":"blocks","created_at":"2026-01-25T17:51:51.133616+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-drh","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-9q4)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-9q4\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.393711+01:00","updated_at":"2026-01-25T13:21:40.393711+01:00","dependencies":[{"issue_id":"rff-wisp-drh","depends_on_id":"rff-wisp-xrv","type":"blocks","created_at":"2026-01-25T13:21:40.415422+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-drv","title":"mol-witness-patrol","description":"Per-rig worker monitor patrol loop.\n\nThe Witness is the Pit Boss for your rig. You watch polecats, nudge them toward\ncompletion, verify clean git state before kills, and escalate stuck workers.\n\n**You do NOT do implementation work.** Your job is oversight, not coding.\n\n## Ephemeral Polecat Model\n\nPolecats are truly ephemeral - done at MR submission, recyclable immediately:\n\n```\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle:      created → queued → processed → merged (Refinery handles)\n```\n\nOnce a polecat's branch is pushed (cleanup_status=clean), the polecat can be\nnuked immediately. The MR continues independently in the Refinery. If conflicts\narise, Refinery creates a NEW conflict-resolution task for a NEW polecat.\n\n**Key principle**: Polecat lifecycle is separate from MR lifecycle.\n\n## Design Philosophy\n\nThis patrol follows Gas Town principles:\n- **Discovery over tracking**: Observe reality each cycle, don't maintain state\n- **Events over state**: POLECAT_DONE mail triggers immediate cleanup\n- **Ephemeral by default**: Clean polecats are nuked immediately, no waiting\n- **Cleanup wisps for exceptions**: Only created when intervention needed\n- **Task tool for parallelism**: Subagents inspect polecats, not molecule arms\n\n## Patrol Shape (Linear, Deacon-style)\n\n```\ninbox-check ─► process-cleanups ─► check-refinery ─► survey-workers\n                                                            │\n         ┌──────────────────────────────────────────────────┘\n         ▼\n  check-timer-gates ─► check-swarm ─► ping-deacon ─► patrol-cleanup ─► context-check ─► loop-or-exit\n```\n\nNo dynamic arms. No fanout gates. No persistent nudge counters.\nState is discovered each cycle from reality (tmux, beads, mail).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:21:29.557944+01:00","updated_at":"2026-01-25T13:21:29.557944+01:00","ephemeral":true}
{"id":"rff-wisp-dskp","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.373117+01:00","updated_at":"2026-01-25T20:29:51.373117+01:00","dependencies":[{"issue_id":"rff-wisp-dskp","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:52.041833+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-dskp","depends_on_id":"rff-wisp-bta2","type":"blocks","created_at":"2026-01-25T20:29:52.984156+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-dtoy","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ytq3\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.755358+01:00","updated_at":"2026-01-25T18:11:29.755358+01:00","dependencies":[{"issue_id":"rff-wisp-dtoy","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:30.019075+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dtoy","depends_on_id":"rff-wisp-czul","type":"blocks","created_at":"2026-01-25T18:11:30.307316+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dyla","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cfh0\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.036112+01:00","updated_at":"2026-01-25T16:56:58.036112+01:00","dependencies":[{"issue_id":"rff-wisp-dyla","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.048599+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dyla","depends_on_id":"rff-wisp-78ft","type":"blocks","created_at":"2026-01-25T16:56:58.12382+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-dzfe","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-h2r7o\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.459869+01:00","updated_at":"2026-01-25T20:32:47.459869+01:00","dependencies":[{"issue_id":"rff-wisp-dzfe","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:48.291793+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-dzfe","depends_on_id":"rff-wisp-y45f","type":"blocks","created_at":"2026-01-25T20:32:49.135491+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e1ik","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:55:37.095488+01:00","updated_at":"2026-01-25T19:55:37.095488+01:00","ephemeral":true}
{"id":"rff-wisp-e2e2","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.249842+01:00","updated_at":"2026-01-25T17:32:29.249842+01:00","dependencies":[{"issue_id":"rff-wisp-e2e2","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.350392+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-e2e2","depends_on_id":"rff-wisp-9728","type":"blocks","created_at":"2026-01-25T17:32:29.481992+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e34","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-1jzo           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-1jzo\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.210596+01:00","updated_at":"2026-01-25T13:50:16.453709+01:00","closed_at":"2026-01-25T13:50:16.453709+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-e34","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.213767+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e3i0","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-oxc6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-oxc6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.058508+01:00","updated_at":"2026-01-25T18:34:49.714366+01:00","closed_at":"2026-01-25T18:34:49.714369+01:00","dependencies":[{"issue_id":"rff-wisp-e3i0","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.192258+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-e3i0","depends_on_id":"rff-wisp-owze","type":"blocks","created_at":"2026-01-25T18:31:35.537522+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e43d","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-skta\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.546658+01:00","updated_at":"2026-01-25T18:52:42.504597+01:00","closed_at":"2026-01-25T18:52:42.504597+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-e43d","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.604756+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-e43d","depends_on_id":"rff-wisp-xkfu","type":"blocks","created_at":"2026-01-25T18:50:12.042215+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e4ma","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-iq3z should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:57.594917+01:00","updated_at":"2026-01-25T16:31:36.087938+01:00","closed_at":"2026-01-25T16:31:36.08794+01:00","ephemeral":true}
{"id":"rff-wisp-e74","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-9q4\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.393033+01:00","updated_at":"2026-01-25T13:21:40.393034+01:00","dependencies":[{"issue_id":"rff-wisp-e74","depends_on_id":"rff-wisp-d1v","type":"blocks","created_at":"2026-01-25T13:21:40.411552+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e8j","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-bvp)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-bvp\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.740062+01:00","updated_at":"2026-01-25T13:26:56.981542+01:00","closed_at":"2026-01-25T13:26:56.981542+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-e8j","depends_on_id":"rff-wisp-tr1","type":"blocks","created_at":"2026-01-25T13:22:26.766358+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-e8kh","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.530332+01:00","updated_at":"2026-01-25T19:19:33.530332+01:00","dependencies":[{"issue_id":"rff-wisp-e8kh","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.991021+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-e8kh","depends_on_id":"rff-wisp-udgh","type":"blocks","created_at":"2026-01-25T19:19:34.610606+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ecfc","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-jbyu should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.954176+01:00","updated_at":"2026-01-25T17:55:18.954176+01:00","dependencies":[{"issue_id":"rff-wisp-ecfc","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.04244+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ecfc","depends_on_id":"rff-wisp-9mm1","type":"blocks","created_at":"2026-01-25T17:55:19.216831+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ef97","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-0no1h           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-0no1h\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.880936+01:00","updated_at":"2026-01-25T20:35:10.743525+01:00","closed_at":"2026-01-25T20:35:10.743525+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ef97","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:13.885718+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ei91","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nIn the ephemeral model, most POLECAT_DONE messages are handled immediately\n(auto-nuke) and archived. Inbox should contain ONLY:\n- Unprocessed messages (just arrived, will handle next cycle)\n- MERGED notifications (informational, archive after reading)\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- POLECAT_STARTED older than this cycle → archive\n- POLECAT_DONE that was auto-nuked → should be archived already\n- MERGED notifications → archive after acknowledging\n- HELP/Blocked that was escalated → archive\n- SWARM_START that created tracking wisp → archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Verify cleanup wisp hygiene**\n\nIn the ephemeral model, cleanup wisps should be rare (only for dirty polecats):\n```bash\nbd list --wisp --labels=cleanup --status=open\n```\n\n- state:pending → Needs investigation in process-cleanups\n- state:merge-requested → Legacy state, handle in inbox-check\n\nIf cleanup wisps are accumulating, investigate why polecats aren't clean.\n\n**Goal**: Inbox should be nearly empty. Cleanup wisps should be rare.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.642412+01:00","updated_at":"2026-01-25T20:24:59.642412+01:00","dependencies":[{"issue_id":"rff-wisp-ei91","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.281098+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-ei91","depends_on_id":"rff-wisp-c6kt","type":"blocks","created_at":"2026-01-25T20:25:01.093084+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-eiwl","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ytq3 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.753733+01:00","updated_at":"2026-01-25T18:11:29.753733+01:00","dependencies":[{"issue_id":"rff-wisp-eiwl","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.886998+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-eiwl","depends_on_id":"rff-wisp-kr4m","type":"blocks","created_at":"2026-01-25T18:11:30.15132+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ekmc","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-fxke\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.738679+01:00","updated_at":"2026-01-25T18:13:36.587275+01:00","dependencies":[{"issue_id":"rff-wisp-ekmc","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.957252+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ekmc","depends_on_id":"rff-wisp-g9ua","type":"blocks","created_at":"2026-01-25T18:04:54.211164+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-enbg","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-d1cc).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-d1cc\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.270975+01:00","updated_at":"2026-01-25T17:31:27.270975+01:00","dependencies":[{"issue_id":"rff-wisp-enbg","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.303397+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-enbg","depends_on_id":"rff-wisp-tknn","type":"blocks","created_at":"2026-01-25T17:31:27.420481+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-enqh","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cfh0           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cfh0\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.873177+01:00","updated_at":"2026-01-25T16:54:25.873177+01:00","dependencies":[{"issue_id":"rff-wisp-enqh","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.876357+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-eoj2","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-66nd).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-66nd\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.657298+01:00","updated_at":"2026-01-25T17:30:45.657298+01:00","dependencies":[{"issue_id":"rff-wisp-eoj2","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.687269+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-eoj2","depends_on_id":"rff-wisp-8ysn","type":"blocks","created_at":"2026-01-25T17:30:45.797325+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ep9x","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:44:55.31642+01:00","updated_at":"2026-01-25T16:44:55.316421+01:00","ephemeral":true}
{"id":"rff-wisp-eq3t","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.828475+01:00","updated_at":"2026-01-25T18:10:15.828475+01:00","dependencies":[{"issue_id":"rff-wisp-eq3t","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:16.033554+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-eq8v","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-66nd\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.659391+01:00","updated_at":"2026-01-25T17:30:45.659391+01:00","dependencies":[{"issue_id":"rff-wisp-eq8v","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.769688+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-eq8v","depends_on_id":"rff-wisp-guxj","type":"blocks","created_at":"2026-01-25T17:30:45.881846+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-er5g","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.241481+01:00","updated_at":"2026-01-25T20:29:47.241481+01:00","dependencies":[{"issue_id":"rff-wisp-er5g","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.704921+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-er5g","depends_on_id":"rff-wisp-8axu","type":"blocks","created_at":"2026-01-25T20:29:48.436955+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-eri","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-qids).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-qids\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.12356+01:00","updated_at":"2026-01-25T14:17:41.453655+01:00","closed_at":"2026-01-25T14:17:41.453655+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-eri","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.131571+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-eri","depends_on_id":"rff-wisp-8sx","type":"blocks","created_at":"2026-01-25T14:14:51.152806+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-es3n","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.374072+01:00","updated_at":"2026-01-25T18:13:26.488407+01:00","closed_at":"2026-01-25T18:13:26.48841+01:00","dependencies":[{"issue_id":"rff-wisp-es3n","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.529857+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-es3n","depends_on_id":"rff-wisp-ezfd","type":"blocks","created_at":"2026-01-25T18:04:03.743772+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-es55","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-8n36m\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.471594+01:00","updated_at":"2026-01-25T20:36:02.817303+01:00","closed_at":"2026-01-25T20:36:02.817303+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-es55","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:34.586251+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-es55","depends_on_id":"rff-wisp-vag0","type":"blocks","created_at":"2026-01-25T20:33:35.478313+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-etu8","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-iq3z should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.312083+01:00","updated_at":"2026-01-25T16:29:40.312083+01:00","dependencies":[{"issue_id":"rff-wisp-etu8","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.332558+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-etu8","depends_on_id":"rff-wisp-cr0z","type":"blocks","created_at":"2026-01-25T16:29:40.372955+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-exly5","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.474436+01:00","updated_at":"2026-01-25T20:33:34.474436+01:00","dependencies":[{"issue_id":"rff-wisp-exly5","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:35.147559+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-exly5","depends_on_id":"rff-wisp-h6306","type":"blocks","created_at":"2026-01-25T20:33:36.035408+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ezfd","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.373695+01:00","updated_at":"2026-01-25T18:13:25.011479+01:00","closed_at":"2026-01-25T18:13:25.011482+01:00","dependencies":[{"issue_id":"rff-wisp-ezfd","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.504016+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f0z8","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:11:29.751293+01:00","updated_at":"2026-01-25T18:15:05.518063+01:00","closed_at":"2026-01-25T18:15:05.518063+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-f149","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.805452+01:00","updated_at":"2026-01-25T19:37:02.223365+01:00","closed_at":"2026-01-25T19:37:02.223365+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-f149","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.205246+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-f149","depends_on_id":"rff-wisp-7zuc","type":"blocks","created_at":"2026-01-25T19:28:04.843059+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f15o","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-d1cc           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-d1cc\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.270199+01:00","updated_at":"2026-01-25T17:31:27.270199+01:00","dependencies":[{"issue_id":"rff-wisp-f15o","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.273699+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f1vx","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cjh5).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cjh5\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.791473+01:00","updated_at":"2026-01-25T20:30:52.791473+01:00","dependencies":[{"issue_id":"rff-wisp-f1vx","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:52.988674+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-f1vx","depends_on_id":"rff-wisp-xoye","type":"blocks","created_at":"2026-01-25T20:30:53.752919+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f56t","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.593233+01:00","updated_at":"2026-01-25T19:35:52.593233+01:00","dependencies":[{"issue_id":"rff-wisp-f56t","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:53.153436+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-f56t","depends_on_id":"rff-wisp-zem7","type":"blocks","created_at":"2026-01-25T19:35:53.845675+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f7en","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-9wrf           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-9wrf\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.203746+01:00","updated_at":"2026-01-25T18:01:24.298823+01:00","closed_at":"2026-01-25T18:01:24.298823+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-f7en","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.20785+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f9bw","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.422806+01:00","updated_at":"2026-01-25T19:01:55.347169+01:00","closed_at":"2026-01-25T19:01:55.347169+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-f9bw","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.660435+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-f9bw","depends_on_id":"rff-wisp-bhto","type":"blocks","created_at":"2026-01-25T18:28:37.978897+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-f9q3","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-66nd           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-66nd\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.183308+01:00","updated_at":"2026-01-25T17:35:27.183308+01:00","dependencies":[{"issue_id":"rff-wisp-f9q3","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.187065+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fb1r","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.542427+01:00","updated_at":"2026-01-25T18:26:06.71163+01:00","closed_at":"2026-01-25T18:26:06.711633+01:00","dependencies":[{"issue_id":"rff-wisp-fb1r","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.74308+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fb1r","depends_on_id":"rff-wisp-idxp","type":"blocks","created_at":"2026-01-25T18:12:55.013551+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fdwg","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cjh5 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.792494+01:00","updated_at":"2026-01-25T20:30:52.792494+01:00","dependencies":[{"issue_id":"rff-wisp-fdwg","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.179803+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fdwg","depends_on_id":"rff-wisp-vqob","type":"blocks","created_at":"2026-01-25T20:30:53.945656+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fes6","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-m3m1\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-m3m1 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.155752+01:00","updated_at":"2026-01-25T19:26:21.086952+01:00","closed_at":"2026-01-25T19:26:21.086954+01:00","dependencies":[{"issue_id":"rff-wisp-fes6","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.64579+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fes6","depends_on_id":"rff-wisp-cm81","type":"blocks","created_at":"2026-01-25T19:13:36.215129+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fezo","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-70k6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.209719+01:00","updated_at":"2026-01-25T18:09:21.209719+01:00","dependencies":[{"issue_id":"rff-wisp-fezo","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.244146+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fezo","depends_on_id":"rff-wisp-trfq","type":"blocks","created_at":"2026-01-25T18:09:21.487982+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ffe0","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-1iq7\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.247604+01:00","updated_at":"2026-01-25T17:32:29.247604+01:00","dependencies":[{"issue_id":"rff-wisp-ffe0","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.268691+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ffe0","depends_on_id":"rff-wisp-a2yk","type":"blocks","created_at":"2026-01-25T17:32:29.400074+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fi5y","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.962897+01:00","updated_at":"2026-01-25T18:21:33.666564+01:00","closed_at":"2026-01-25T18:21:33.666564+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-fi5y","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.185855+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fi5y","depends_on_id":"rff-wisp-ujo4","type":"blocks","created_at":"2026-01-25T18:16:31.484753+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fij2","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-y83pz\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.590413+01:00","updated_at":"2026-01-25T19:35:52.590413+01:00","dependencies":[{"issue_id":"rff-wisp-fij2","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:52.679725+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fij2","depends_on_id":"rff-wisp-zs2h","type":"blocks","created_at":"2026-01-25T19:35:53.410988+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fl7v","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-iq3z\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.31051+01:00","updated_at":"2026-01-25T16:29:40.31051+01:00","dependencies":[{"issue_id":"rff-wisp-fl7v","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.318659+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fl7v","depends_on_id":"rff-wisp-ozi0","type":"blocks","created_at":"2026-01-25T16:29:40.357369+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fmtw","title":"Loop or exit for respawn","description":"End of patrol cycle decision.\n\n**If context LOW** (can continue patrolling):\n1. Generate a brief summary of this patrol cycle\n2. Squash the current wisp:\n```bash\nbd mol squash \u003cmol-id\u003e --summary \"\u003cpatrol-summary\u003e\"\n```\n3. Create a new patrol wisp:\n```bash\nbd mol wisp mol-witness-patrol\n```\n4. Continue executing from the inbox-check step of the new wisp\n\n**If context HIGH** (approaching limit):\n1. Write handoff mail with notable observations:\n```bash\ngt handoff -s \"Witness patrol handoff\" -m \"\u003cobservations\u003e\"\n```\n2. Exit cleanly - the daemon will respawn a fresh Witness session\n\n**IMPORTANT**: You must either create a new wisp (context LOW) or exit (context HIGH).\nNever leave the session idle without work on your hook.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.910298+01:00","updated_at":"2026-01-25T20:29:36.910298+01:00","dependencies":[{"issue_id":"rff-wisp-fmtw","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.718701+01:00","created_by":"witness"},{"issue_id":"rff-wisp-fmtw","depends_on_id":"rff-wisp-i0cn","type":"blocks","created_at":"2026-01-25T20:29:38.523613+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-fn4w","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.549116+01:00","updated_at":"2026-01-25T18:55:58.176434+01:00","closed_at":"2026-01-25T18:55:58.176434+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-fn4w","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.873629+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fn4w","depends_on_id":"rff-wisp-s4nv","type":"blocks","created_at":"2026-01-25T18:50:12.321999+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fn50","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-3emw).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-3emw\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.608342+01:00","updated_at":"2026-01-25T16:26:35.164653+01:00","closed_at":"2026-01-25T16:26:35.164653+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-fn50","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.624937+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fn50","depends_on_id":"rff-wisp-tws6","type":"blocks","created_at":"2026-01-25T16:24:21.68008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-foc8","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-70k6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.374824+01:00","updated_at":"2026-01-25T18:14:22.712841+01:00","dependencies":[{"issue_id":"rff-wisp-foc8","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.581266+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-foc8","depends_on_id":"rff-wisp-g4n1","type":"blocks","created_at":"2026-01-25T18:04:03.796693+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-foyj","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-a8ny\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.531442+01:00","updated_at":"2026-01-25T19:19:33.531442+01:00","dependencies":[{"issue_id":"rff-wisp-foyj","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:34.145192+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-foyj","depends_on_id":"rff-wisp-lny1","type":"blocks","created_at":"2026-01-25T19:19:34.790761+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-frw","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-1jzo).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-1jzo\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.211319+01:00","updated_at":"2026-01-25T13:51:01.030854+01:00","closed_at":"2026-01-25T13:51:01.030854+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-frw","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.21885+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-frw","depends_on_id":"rff-wisp-4mi","type":"blocks","created_at":"2026-01-25T13:49:00.238344+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ft0n","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.9716+01:00","updated_at":"2026-01-25T18:18:27.176678+01:00","closed_at":"2026-01-25T18:18:27.176678+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ft0n","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.179805+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ft0n","depends_on_id":"rff-wisp-qhph","type":"blocks","created_at":"2026-01-25T18:13:32.462404+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fujs","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.327076+01:00","updated_at":"2026-01-25T20:22:39.327076+01:00","dependencies":[{"issue_id":"rff-wisp-fujs","depends_on_id":"rff-wisp-wfti","type":"blocks","created_at":"2026-01-25T20:22:40.336449+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-fuq","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-35ho\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T14:13:33.212095+01:00","updated_at":"2026-01-25T14:27:04.150188+01:00","dependencies":[{"issue_id":"rff-wisp-fuq","depends_on_id":"rff-wisp-3tj","type":"parent-child","created_at":"2026-01-25T14:13:33.230632+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fvyc","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-9wrf\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.207269+01:00","updated_at":"2026-01-25T18:08:18.712677+01:00","dependencies":[{"issue_id":"rff-wisp-fvyc","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.413708+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fvyc","depends_on_id":"rff-wisp-6hpc","type":"blocks","created_at":"2026-01-25T17:59:54.644321+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-fzqv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.559373+01:00","updated_at":"2026-01-25T18:23:49.559373+01:00","dependencies":[{"issue_id":"rff-wisp-fzqv","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.754762+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-fzqv","depends_on_id":"rff-wisp-ilj3","type":"blocks","created_at":"2026-01-25T18:23:50.09671+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g042","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-tuso\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-tuso --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.292408+01:00","updated_at":"2026-01-25T16:50:22.333169+01:00","closed_at":"2026-01-25T16:50:22.333171+01:00","dependencies":[{"issue_id":"rff-wisp-g042","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.349841+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g042","depends_on_id":"rff-wisp-109k","type":"blocks","created_at":"2026-01-25T16:42:20.427147+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g0g1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-u18g\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-u18g --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.899405+01:00","updated_at":"2026-01-25T17:05:04.899405+01:00","dependencies":[{"issue_id":"rff-wisp-g0g1","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:05.004267+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g0g1","depends_on_id":"rff-wisp-9f16","type":"blocks","created_at":"2026-01-25T17:05:05.113816+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g16m","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:32:47.454595+01:00","updated_at":"2026-01-25T20:32:47.454595+01:00","ephemeral":true}
{"id":"rff-wisp-g1dl","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-m1v5           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-m1v5\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.425146+01:00","updated_at":"2026-01-25T18:57:30.425146+01:00","dependencies":[{"issue_id":"rff-wisp-g1dl","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.430044+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g21m","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-8iy7 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.011825+01:00","updated_at":"2026-01-25T16:38:57.125174+01:00","closed_at":"2026-01-25T16:38:57.125176+01:00","dependencies":[{"issue_id":"rff-wisp-g21m","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.038922+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g21m","depends_on_id":"rff-wisp-9m4g","type":"blocks","created_at":"2026-01-25T16:34:44.089567+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g2k","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:49:00.209444+01:00","updated_at":"2026-01-25T13:55:43.625882+01:00","closed_at":"2026-01-25T13:55:43.625882+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-g38b","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-0gnv\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-0gnv --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.427285+01:00","updated_at":"2026-01-25T16:33:36.665186+01:00","closed_at":"2026-01-25T16:33:36.665187+01:00","dependencies":[{"issue_id":"rff-wisp-g38b","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.457897+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g4n1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-70k6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-70k6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:03.374459+01:00","updated_at":"2026-01-25T18:14:20.738076+01:00","closed_at":"2026-01-25T18:14:20.738078+01:00","dependencies":[{"issue_id":"rff-wisp-g4n1","depends_on_id":"rff-wisp-n3wu","type":"parent-child","created_at":"2026-01-25T18:04:03.555615+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g4n1","depends_on_id":"rff-wisp-es3n","type":"blocks","created_at":"2026-01-25T18:04:03.770155+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g4sw","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.174307+01:00","updated_at":"2026-01-25T17:33:11.174307+01:00","dependencies":[{"issue_id":"rff-wisp-g4sw","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.261888+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g4sw","depends_on_id":"rff-wisp-a6ix","type":"blocks","created_at":"2026-01-25T17:33:11.400157+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g5b4","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-66nd\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.183713+01:00","updated_at":"2026-01-25T17:35:27.183713+01:00","dependencies":[{"issue_id":"rff-wisp-g5b4","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.205629+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g5b4","depends_on_id":"rff-wisp-f9q3","type":"blocks","created_at":"2026-01-25T17:35:27.369596+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g5n4","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-0no1h should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.883007+01:00","updated_at":"2026-01-25T20:32:13.883007+01:00","dependencies":[{"issue_id":"rff-wisp-g5n4","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.292417+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g5n4","depends_on_id":"rff-wisp-29dp","type":"blocks","created_at":"2026-01-25T20:32:15.12505+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g5t","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-9q4\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-9q4 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.395441+01:00","updated_at":"2026-01-25T13:21:40.395441+01:00","ephemeral":true}
{"id":"rff-wisp-g74s","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cfh0 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.948294+01:00","updated_at":"2026-01-25T16:59:35.948294+01:00","dependencies":[{"issue_id":"rff-wisp-g74s","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:35.991149+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g74s","depends_on_id":"rff-wisp-lbwh","type":"blocks","created_at":"2026-01-25T16:59:36.074414+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g8j0","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.562217+01:00","updated_at":"2026-01-25T16:33:20.562217+01:00","dependencies":[{"issue_id":"rff-wisp-g8j0","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.576852+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g8j0","depends_on_id":"rff-wisp-hbca","type":"blocks","created_at":"2026-01-25T16:33:20.625202+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g8sr","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-a8ny).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-a8ny\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.527831+01:00","updated_at":"2026-01-25T19:19:33.527831+01:00","dependencies":[{"issue_id":"rff-wisp-g8sr","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.683654+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g8sr","depends_on_id":"rff-wisp-oa20","type":"blocks","created_at":"2026-01-25T19:19:34.298556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-g9g0","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:03:56.026277+01:00","updated_at":"2026-01-25T19:03:56.026277+01:00","ephemeral":true}
{"id":"rff-wisp-g9ua","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-fxke\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-fxke --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.738295+01:00","updated_at":"2026-01-25T18:13:25.391251+01:00","closed_at":"2026-01-25T18:13:25.391251+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-g9ua","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.930314+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-g9ua","depends_on_id":"rff-wisp-whcy","type":"blocks","created_at":"2026-01-25T18:04:54.182466+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gbtf","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-3xr6 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.908434+01:00","updated_at":"2026-01-25T19:16:30.908434+01:00","dependencies":[{"issue_id":"rff-wisp-gbtf","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.201725+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gbtf","depends_on_id":"rff-wisp-pcqb","type":"blocks","created_at":"2026-01-25T19:16:31.786628+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gc5z","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:13:31.968272+01:00","updated_at":"2026-01-25T18:19:11.042889+01:00","closed_at":"2026-01-25T18:19:11.042889+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-gd81","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cn7l\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.46122+01:00","updated_at":"2026-01-25T18:10:42.46122+01:00","dependencies":[{"issue_id":"rff-wisp-gd81","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.718402+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gd81","depends_on_id":"rff-wisp-8apd","type":"blocks","created_at":"2026-01-25T18:10:42.975193+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ggil","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ugec)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ugec\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.836955+01:00","updated_at":"2026-01-25T18:30:42.478041+01:00","closed_at":"2026-01-25T18:30:42.478044+01:00","dependencies":[{"issue_id":"rff-wisp-ggil","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:49.958735+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ggil","depends_on_id":"rff-wisp-5o87","type":"blocks","created_at":"2026-01-25T18:26:50.27245+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gi02","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-o18n should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.703489+01:00","updated_at":"2026-01-25T19:03:23.703489+01:00","dependencies":[{"issue_id":"rff-wisp-gi02","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:23.952435+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gi02","depends_on_id":"rff-wisp-xfog","type":"blocks","created_at":"2026-01-25T19:03:24.442171+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gjjd","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-wair\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.829853+01:00","updated_at":"2026-01-25T18:10:15.829854+01:00","dependencies":[{"issue_id":"rff-wisp-gjjd","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:16.129077+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gjjd","depends_on_id":"rff-wisp-k17h","type":"blocks","created_at":"2026-01-25T18:10:16.388192+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gkfm","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.640363+01:00","updated_at":"2026-01-25T20:24:59.640363+01:00","dependencies":[{"issue_id":"rff-wisp-gkfm","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:24:59.921877+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-gkfm","depends_on_id":"rff-wisp-kof8","type":"blocks","created_at":"2026-01-25T20:25:00.732881+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-gn9","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-qids should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.124227+01:00","updated_at":"2026-01-25T14:19:25.846367+01:00","closed_at":"2026-01-25T14:19:25.846367+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-gn9","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.136698+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gn9","depends_on_id":"rff-wisp-wvx","type":"blocks","created_at":"2026-01-25T14:14:51.158334+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gpo1","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.60988+01:00","updated_at":"2026-01-25T16:28:43.523988+01:00","closed_at":"2026-01-25T16:28:43.523988+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-gpo1","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.64571+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gpo1","depends_on_id":"rff-wisp-mqcs","type":"blocks","created_at":"2026-01-25T16:24:21.701109+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gpsc","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-s0qo\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-s0qo --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.175041+01:00","updated_at":"2026-01-25T17:33:11.175041+01:00","dependencies":[{"issue_id":"rff-wisp-gpsc","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.296576+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gpsc","depends_on_id":"rff-wisp-is7k","type":"blocks","created_at":"2026-01-25T17:33:11.436239+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gtsn","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.272089+01:00","updated_at":"2026-01-25T17:31:27.272089+01:00","dependencies":[{"issue_id":"rff-wisp-gtsn","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.347215+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gtsn","depends_on_id":"rff-wisp-3tm4","type":"blocks","created_at":"2026-01-25T17:31:27.465302+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-guxj","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-66nd\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-66nd --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.659063+01:00","updated_at":"2026-01-25T17:30:45.659063+01:00","dependencies":[{"issue_id":"rff-wisp-guxj","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.755809+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-guxj","depends_on_id":"rff-wisp-1lkm","type":"blocks","created_at":"2026-01-25T17:30:45.867313+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gwr","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-7za\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.728798+01:00","updated_at":"2026-01-25T13:30:32.728798+01:00","dependencies":[{"issue_id":"rff-wisp-gwr","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.781826+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gwr","depends_on_id":"rff-wisp-0mr","type":"blocks","created_at":"2026-01-25T13:30:32.812171+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-gye2","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.211612+01:00","updated_at":"2026-01-25T16:35:31.211612+01:00","dependencies":[{"issue_id":"rff-wisp-gye2","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.250728+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-gye2","depends_on_id":"rff-wisp-r6sb","type":"blocks","created_at":"2026-01-25T16:35:31.301394+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h04e","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-h2r7o           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-h2r7o\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.455595+01:00","updated_at":"2026-01-25T20:36:10.988151+01:00","closed_at":"2026-01-25T20:36:10.988151+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-h04e","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.46095+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h0zqi","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-twmya should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.120464+01:00","updated_at":"2026-01-25T20:36:51.120465+01:00","dependencies":[{"issue_id":"rff-wisp-h0zqi","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.606331+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h0zqi","depends_on_id":"rff-wisp-wlatz","type":"blocks","created_at":"2026-01-25T20:36:52.554431+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h2qx","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.374694+01:00","updated_at":"2026-01-25T20:29:51.374694+01:00","dependencies":[{"issue_id":"rff-wisp-h2qx","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:52.328122+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-h2qx","depends_on_id":"rff-wisp-op9g","type":"blocks","created_at":"2026-01-25T20:29:53.26591+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-h3f5","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-m1v5).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-m1v5\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.420785+01:00","updated_at":"2026-01-25T18:59:58.648658+01:00","closed_at":"2026-01-25T18:59:58.648658+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-h3f5","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.50389+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h3f5","depends_on_id":"rff-wisp-7o9n","type":"blocks","created_at":"2026-01-25T18:28:37.81895+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h3vj","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-zf5w should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.829693+01:00","updated_at":"2026-01-25T18:53:02.306716+01:00","closed_at":"2026-01-25T18:53:02.306716+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-h3vj","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:21.041981+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h3vj","depends_on_id":"rff-wisp-oogg","type":"blocks","created_at":"2026-01-25T18:49:21.459339+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h3yc","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-jbyu\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.953064+01:00","updated_at":"2026-01-25T17:55:18.953064+01:00","dependencies":[{"issue_id":"rff-wisp-h3yc","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:18.978133+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h3yc","depends_on_id":"rff-wisp-a6k6","type":"blocks","created_at":"2026-01-25T17:55:19.151784+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h48s","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cjpl\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cjpl --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.607316+01:00","updated_at":"2026-01-25T18:43:26.395117+01:00","closed_at":"2026-01-25T18:43:26.39512+01:00","dependencies":[{"issue_id":"rff-wisp-h48s","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.923226+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h48s","depends_on_id":"rff-wisp-ckm3","type":"blocks","created_at":"2026-01-25T18:39:33.286056+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h5fc","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-t43h\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-t43h --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.752945+01:00","updated_at":"2026-01-25T18:17:56.752945+01:00","dependencies":[{"issue_id":"rff-wisp-h5fc","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:57.014789+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h5fc","depends_on_id":"rff-wisp-5q1i","type":"blocks","created_at":"2026-01-25T18:17:57.314034+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-h5pk","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Write handoff summary\n- Prepare for burn/respawn\n\nIf context is LOW:\n- Can continue processing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.330749+01:00","updated_at":"2026-01-25T20:22:39.330749+01:00","dependencies":[{"issue_id":"rff-wisp-h5pk","depends_on_id":"rff-wisp-0kw8","type":"blocks","created_at":"2026-01-25T20:22:40.829479+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-h6306","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.473918+01:00","updated_at":"2026-01-25T20:33:34.473918+01:00","dependencies":[{"issue_id":"rff-wisp-h6306","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:35.037917+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-h6306","depends_on_id":"rff-wisp-7pbr","type":"blocks","created_at":"2026-01-25T20:33:35.927077+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hbca","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.561841+01:00","updated_at":"2026-01-25T16:33:20.561841+01:00","dependencies":[{"issue_id":"rff-wisp-hbca","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.570911+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hcci","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-skta).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-skta\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.547179+01:00","updated_at":"2026-01-25T18:54:33.81487+01:00","closed_at":"2026-01-25T18:54:33.81487+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-hcci","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.658636+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hcci","depends_on_id":"rff-wisp-e43d","type":"blocks","created_at":"2026-01-25T18:50:12.097443+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hdir","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-dngrh\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.732961+01:00","updated_at":"2026-01-25T20:31:40.732961+01:00","dependencies":[{"issue_id":"rff-wisp-hdir","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:40.836258+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hdir","depends_on_id":"rff-wisp-51ut","type":"blocks","created_at":"2026-01-25T20:31:41.641368+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hdmo","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.241977+01:00","updated_at":"2026-01-25T20:29:47.241977+01:00","dependencies":[{"issue_id":"rff-wisp-hdmo","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.796455+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hdmo","depends_on_id":"rff-wisp-er5g","type":"blocks","created_at":"2026-01-25T20:29:48.529185+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hgfy","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-1iq7 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.248847+01:00","updated_at":"2026-01-25T17:32:29.248847+01:00","dependencies":[{"issue_id":"rff-wisp-hgfy","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.318085+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hgfy","depends_on_id":"rff-wisp-2ccf","type":"blocks","created_at":"2026-01-25T17:32:29.44858+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hjx","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-nlu\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.564727+01:00","updated_at":"2026-01-25T13:31:49.233829+01:00","dependencies":[{"issue_id":"rff-wisp-hjx","depends_on_id":"rff-wisp-zx0","type":"blocks","created_at":"2026-01-25T13:25:57.627664+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hjxx","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-0gnv).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-0gnv\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:35.022773+01:00","updated_at":"2026-01-25T16:23:35.022773+01:00","dependencies":[{"issue_id":"rff-wisp-hjxx","depends_on_id":"rff-wisp-5vx9","type":"parent-child","created_at":"2026-01-25T16:23:35.031627+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hkjj","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-u18g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-u18g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.105444+01:00","updated_at":"2026-01-25T17:01:40.105444+01:00","dependencies":[{"issue_id":"rff-wisp-hkjj","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.144088+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hmsx","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-3emw)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-3emw\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.608916+01:00","updated_at":"2026-01-25T16:28:10.095284+01:00","closed_at":"2026-01-25T16:28:10.095284+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-hmsx","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.631777+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hmsx","depends_on_id":"rff-wisp-fn50","type":"blocks","created_at":"2026-01-25T16:24:21.687079+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hnfg","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cn7l).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cn7l\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.32266+01:00","updated_at":"2026-01-25T18:06:56.32266+01:00","dependencies":[{"issue_id":"rff-wisp-hnfg","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.384412+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hnfg","depends_on_id":"rff-wisp-99i0","type":"blocks","created_at":"2026-01-25T18:06:56.61913+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ho10","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-qids should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.541113+01:00","updated_at":"2026-01-25T14:19:48.541113+01:00","dependencies":[{"issue_id":"rff-wisp-ho10","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.556579+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ho10","depends_on_id":"rff-wisp-29pm","type":"blocks","created_at":"2026-01-25T14:19:48.582727+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hpvk","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:29:47.237849+01:00","updated_at":"2026-01-25T20:29:47.237849+01:00","ephemeral":true}
{"id":"rff-wisp-htyv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.709972+01:00","updated_at":"2026-01-25T19:04:28.709972+01:00","dependencies":[{"issue_id":"rff-wisp-htyv","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:29.035493+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-htyv","depends_on_id":"rff-wisp-iv8s","type":"blocks","created_at":"2026-01-25T19:04:29.584937+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hu1a","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ylt5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ylt5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.781252+01:00","updated_at":"2026-01-25T17:58:40.781252+01:00","dependencies":[{"issue_id":"rff-wisp-hu1a","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.853364+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hu1a","depends_on_id":"rff-wisp-md3p","type":"blocks","created_at":"2026-01-25T17:58:41.042577+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hyxy","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.291772+01:00","updated_at":"2026-01-25T16:49:37.469046+01:00","closed_at":"2026-01-25T16:49:37.469048+01:00","dependencies":[{"issue_id":"rff-wisp-hyxy","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.333612+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hyxy","depends_on_id":"rff-wisp-zwrp","type":"blocks","created_at":"2026-01-25T16:42:20.410037+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-hzbg","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-0gnv).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-0gnv\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.425724+01:00","updated_at":"2026-01-25T16:32:04.034002+01:00","closed_at":"2026-01-25T16:32:04.034004+01:00","dependencies":[{"issue_id":"rff-wisp-hzbg","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.437023+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-hzbg","depends_on_id":"rff-wisp-n04p","type":"blocks","created_at":"2026-01-25T16:29:17.470824+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i0cn","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Ensure any notes are written to handoff mail\n- Prepare for session restart\n\nIf context is LOW:\n- Can continue patrolling","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.90982+01:00","updated_at":"2026-01-25T20:29:36.90982+01:00","dependencies":[{"issue_id":"rff-wisp-i0cn","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.629659+01:00","created_by":"witness"},{"issue_id":"rff-wisp-i0cn","depends_on_id":"rff-wisp-lij4","type":"blocks","created_at":"2026-01-25T20:29:38.434373+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-i4q1","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-nmvc).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-nmvc\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.708342+01:00","updated_at":"2026-01-25T19:04:28.708342+01:00","dependencies":[{"issue_id":"rff-wisp-i4q1","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:28.840244+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-i4q1","depends_on_id":"rff-wisp-ycxi","type":"blocks","created_at":"2026-01-25T19:04:29.384327+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i5w5","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.898687+01:00","updated_at":"2026-01-25T17:05:04.898687+01:00","dependencies":[{"issue_id":"rff-wisp-i5w5","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.976263+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-i5w5","depends_on_id":"rff-wisp-saqb","type":"blocks","created_at":"2026-01-25T17:05:05.08711+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i7k1","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ugec           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ugec\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.83558+01:00","updated_at":"2026-01-25T18:27:29.908347+01:00","closed_at":"2026-01-25T18:27:29.908349+01:00","dependencies":[{"issue_id":"rff-wisp-i7k1","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:49.840195+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i81q","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-t43h should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.751777+01:00","updated_at":"2026-01-25T18:17:56.751777+01:00","dependencies":[{"issue_id":"rff-wisp-i81q","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.902605+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-i81q","depends_on_id":"rff-wisp-tlth","type":"blocks","created_at":"2026-01-25T18:17:57.200867+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i8wy","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.7935+01:00","updated_at":"2026-01-25T20:30:52.7935+01:00","dependencies":[{"issue_id":"rff-wisp-i8wy","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.369902+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-i8wy","depends_on_id":"rff-wisp-6a9b","type":"blocks","created_at":"2026-01-25T20:30:54.13845+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i9m1","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-s0qo\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.172842+01:00","updated_at":"2026-01-25T17:33:11.172842+01:00","dependencies":[{"issue_id":"rff-wisp-i9m1","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.194479+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-i9m1","depends_on_id":"rff-wisp-pohd","type":"blocks","created_at":"2026-01-25T17:33:11.330532+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-i9pn","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:03:23.700189+01:00","updated_at":"2026-01-25T19:03:23.700189+01:00","ephemeral":true}
{"id":"rff-wisp-ibqt","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-1pz6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-1pz6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.904459+01:00","updated_at":"2026-01-25T18:36:49.44115+01:00","closed_at":"2026-01-25T18:36:49.44115+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ibqt","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.040199+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ibqt","depends_on_id":"rff-wisp-0ycr","type":"blocks","created_at":"2026-01-25T18:32:19.469657+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ibxd","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ylt5\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.780442+01:00","updated_at":"2026-01-25T17:58:40.780442+01:00","dependencies":[{"issue_id":"rff-wisp-ibxd","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.807374+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ibxd","depends_on_id":"rff-wisp-an1b","type":"blocks","created_at":"2026-01-25T17:58:40.993318+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-iclf","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-u18g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.105772+01:00","updated_at":"2026-01-25T17:01:40.105772+01:00","dependencies":[{"issue_id":"rff-wisp-iclf","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.156427+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-iclf","depends_on_id":"rff-wisp-hkjj","type":"blocks","created_at":"2026-01-25T17:01:40.256684+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-id7b","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cfh0\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cfh0 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.875536+01:00","updated_at":"2026-01-25T16:54:25.875536+01:00","dependencies":[{"issue_id":"rff-wisp-id7b","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.937441+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-id7b","depends_on_id":"rff-wisp-cugn","type":"blocks","created_at":"2026-01-25T16:54:26.010616+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-idxp","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.541971+01:00","updated_at":"2026-01-25T18:21:26.869974+01:00","closed_at":"2026-01-25T18:21:26.869976+01:00","dependencies":[{"issue_id":"rff-wisp-idxp","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.709735+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-idxp","depends_on_id":"rff-wisp-4ea6","type":"blocks","created_at":"2026-01-25T18:12:54.979657+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-iebv","title":"Process witness mail","description":"Check inbox and handle messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**POLECAT_STARTED**:\nA new polecat has started working. Acknowledge and archive.\n```bash\n# Acknowledge startup (optional: log for activity tracking)\ngt mail archive \u003cmessage-id\u003e\n```\nNo action needed beyond acknowledgment - archive immediately.\n\n**POLECAT_DONE / LIFECYCLE:Shutdown**:\n\n*EPHEMERAL MODEL*: Polecats are truly ephemeral - done at MR submission,\nrecyclable immediately. Once the branch is pushed (cleanup_status=clean),\nthe polecat can be nuked. The MR lifecycle continues independently in the\nRefinery. If conflicts arise, Refinery creates a NEW conflict-resolution\ntask for a NEW polecat.\n\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle: created → queued → processed → merged (handled by Refinery)\n\nThe handler (HandlePolecatDone) will:\n1. Check cleanup_status from agent bead\n2. If \"clean\" (branch pushed): AUTO-NUKE immediately, archive mail\n3. If dirty: Create cleanup wisp for manual intervention\n\n```bash\n# The handler does this automatically:\n# - For clean state: gt polecat nuke \u003cname\u003e → archive mail\n# - For dirty state: create wisp → process in next step\n```\n\nCleanup wisps are only created when something is wrong (uncommitted changes,\nunpushed commits). Most POLECAT_DONE messages result in immediate nuke.\n\n**MERGED**:\nA branch was merged successfully. This is informational in the ephemeral model\nsince the polecat was already nuked after MR submission.\n\nIf a cleanup wisp exists (dirty state), complete the cleanup:\n```bash\n# Find the cleanup wisp for this polecat\nbd list --wisp --labels=polecat:\u003cname\u003e,state:merge-requested --status=open\n\n# If found, proceed with full polecat nuke:\ngt polecat nuke \u003cname\u003e\n\n# Burn the cleanup wisp\nbd close \u003cwisp-id\u003e\n```\nArchive after cleanup is complete.\n\n**HELP / Blocked**:\nAssess the request. Can you help? If not, escalate to Mayor:\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e needs help\" -m \"\u003cdetails\u003e\"\n```\nArchive after handling (escalated or resolved):\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Continue from where they left off.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**SWARM_START**:\nMayor initiating batch polecat work. Initialize swarm tracking.\n```bash\n# Parse swarm info from mail body: {\"swarm_id\": \"batch-123\", \"beads\": [\"bd-a\", \"bd-b\"]}\nbd create --wisp --title \"swarm:\u003cswarm_id\u003e\" --description \"Tracking batch: \u003cswarm_id\u003e\" --labels swarm,swarm_id:\u003cswarm_id\u003e,total:\u003cN\u003e,completed:0,start:\u003ctimestamp\u003e\n```\nArchive after creating swarm tracking wisp:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: active work, unprocessed requests. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.580766+01:00","updated_at":"2026-01-25T20:23:52.580766+01:00","dependencies":[{"issue_id":"rff-wisp-iebv","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:52.586176+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-iina","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.500943+01:00","updated_at":"2026-01-25T18:04:04.952955+01:00","closed_at":"2026-01-25T18:04:04.952956+01:00","dependencies":[{"issue_id":"rff-wisp-iina","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.702372+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-iina","depends_on_id":"rff-wisp-m78e","type":"blocks","created_at":"2026-01-25T17:59:27.17206+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-iizf","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.703992+01:00","updated_at":"2026-01-25T19:03:23.703992+01:00","dependencies":[{"issue_id":"rff-wisp-iizf","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:24.01249+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-iizf","depends_on_id":"rff-wisp-gi02","type":"blocks","created_at":"2026-01-25T19:03:24.502812+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ijsa","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:55:18.951862+01:00","updated_at":"2026-01-25T18:00:02.903839+01:00","closed_at":"2026-01-25T18:00:02.903839+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-il59","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ylt5\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.871939+01:00","updated_at":"2026-01-25T17:51:50.871939+01:00","dependencies":[{"issue_id":"rff-wisp-il59","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:51.033245+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ilj3","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-gcja should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.558974+01:00","updated_at":"2026-01-25T18:23:49.558974+01:00","dependencies":[{"issue_id":"rff-wisp-ilj3","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.714151+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ilj3","depends_on_id":"rff-wisp-sudu","type":"blocks","created_at":"2026-01-25T18:23:50.059091+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-imw","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-nlu).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-nlu\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.562812+01:00","updated_at":"2026-01-25T13:28:14.03482+01:00","closed_at":"2026-01-25T13:28:14.03482+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-imw","depends_on_id":"rff-wisp-aae","type":"blocks","created_at":"2026-01-25T13:25:57.603699+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ipuv","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-u18g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-u18g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.104137+01:00","updated_at":"2026-01-25T17:01:40.104137+01:00","dependencies":[{"issue_id":"rff-wisp-ipuv","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.107782+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-iqbo","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.327623+01:00","updated_at":"2026-01-25T20:22:39.327623+01:00","dependencies":[{"issue_id":"rff-wisp-iqbo","depends_on_id":"rff-wisp-fujs","type":"blocks","created_at":"2026-01-25T20:22:40.41912+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-is7k","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.174676+01:00","updated_at":"2026-01-25T17:33:11.174676+01:00","dependencies":[{"issue_id":"rff-wisp-is7k","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.279347+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-is7k","depends_on_id":"rff-wisp-g4sw","type":"blocks","created_at":"2026-01-25T17:33:11.418098+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-iv8s","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-nmvc should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.709442+01:00","updated_at":"2026-01-25T19:04:28.709442+01:00","dependencies":[{"issue_id":"rff-wisp-iv8s","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:28.969734+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-iv8s","depends_on_id":"rff-wisp-xa2d","type":"blocks","created_at":"2026-01-25T19:04:29.518453+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-izal","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cfh0).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cfh0\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.873896+01:00","updated_at":"2026-01-25T16:54:25.873896+01:00","dependencies":[{"issue_id":"rff-wisp-izal","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.894039+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-izal","depends_on_id":"rff-wisp-vwhg","type":"blocks","created_at":"2026-01-25T16:54:25.964237+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-izvm","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.177692+01:00","updated_at":"2026-01-25T19:09:23.177692+01:00","dependencies":[{"issue_id":"rff-wisp-izvm","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.589232+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-izvm","depends_on_id":"rff-wisp-xjvy","type":"blocks","created_at":"2026-01-25T19:09:24.136775+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-j0v","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:29.560123+01:00","updated_at":"2026-01-25T13:21:29.560123+01:00","dependencies":[{"issue_id":"rff-wisp-j0v","depends_on_id":"rff-wisp-drv","type":"parent-child","created_at":"2026-01-25T13:21:29.567913+01:00","created_by":"witness"},{"issue_id":"rff-wisp-j0v","depends_on_id":"rff-wisp-slp","type":"blocks","created_at":"2026-01-25T13:21:29.581304+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-j1rr","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.954629+01:00","updated_at":"2026-01-25T17:55:18.954629+01:00","dependencies":[{"issue_id":"rff-wisp-j1rr","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.064067+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-j1rr","depends_on_id":"rff-wisp-ecfc","type":"blocks","created_at":"2026-01-25T17:55:19.238973+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-j3cj","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cjh5           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cjh5\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.790342+01:00","updated_at":"2026-01-25T20:30:52.790342+01:00","dependencies":[{"issue_id":"rff-wisp-j3cj","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:52.795191+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-j4p","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-air\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-air --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.932395+01:00","updated_at":"2026-01-25T13:00:27.932395+01:00","ephemeral":true}
{"id":"rff-wisp-j65o","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-b7jm)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-b7jm\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.648033+01:00","updated_at":"2026-01-25T18:40:46.305544+01:00","closed_at":"2026-01-25T18:40:46.305544+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-j65o","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.777118+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-j65o","depends_on_id":"rff-wisp-m9oc","type":"blocks","created_at":"2026-01-25T18:30:50.117465+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-j8jt","title":"Loop or exit for respawn","description":"End of patrol cycle decision.\n\n**If context LOW** (can continue patrolling):\n1. Generate a brief summary of this patrol cycle\n2. Squash the current wisp:\n```bash\nbd mol squash \u003cmol-id\u003e --summary \"\u003cpatrol-summary\u003e\"\n```\n3. Create a new patrol wisp:\n```bash\nbd mol wisp mol-witness-patrol\n```\n4. Continue executing from the inbox-check step of the new wisp\n\n**If context HIGH** (approaching limit):\n1. Write handoff mail with notable observations:\n```bash\ngt handoff -s \"Witness patrol handoff\" -m \"\u003cobservations\u003e\"\n```\n2. Exit cleanly - the daemon will respawn a fresh Witness session\n\n**IMPORTANT**: You must either create a new wisp (context LOW) or exit (context HIGH).\nNever leave the session idle without work on your hook.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.643364+01:00","updated_at":"2026-01-25T20:24:59.643365+01:00","dependencies":[{"issue_id":"rff-wisp-j8jt","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.46316+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-j8jt","depends_on_id":"rff-wisp-9ft0","type":"blocks","created_at":"2026-01-25T20:25:01.275076+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-j8rs","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ugec\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.836066+01:00","updated_at":"2026-01-25T18:27:46.528352+01:00","closed_at":"2026-01-25T18:27:46.528353+01:00","dependencies":[{"issue_id":"rff-wisp-j8rs","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:49.879296+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-j8rs","depends_on_id":"rff-wisp-i7k1","type":"blocks","created_at":"2026-01-25T18:26:50.193846+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-j9z","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-35ho\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.773715+01:00","updated_at":"2026-01-25T14:19:23.773715+01:00","dependencies":[{"issue_id":"rff-wisp-j9z","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.779788+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-j9z","depends_on_id":"rff-wisp-vt7","type":"blocks","created_at":"2026-01-25T14:19:23.806534+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jcgu","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:23:49.556501+01:00","updated_at":"2026-01-25T18:23:49.556501+01:00","ephemeral":true}
{"id":"rff-wisp-jd93","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-m1v5\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-m1v5 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.423242+01:00","updated_at":"2026-01-25T19:02:16.679486+01:00","closed_at":"2026-01-25T19:02:16.679486+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-jd93","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.699697+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jd93","depends_on_id":"rff-wisp-f9bw","type":"blocks","created_at":"2026-01-25T18:28:38.019543+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jfio","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:54:25.872414+01:00","updated_at":"2026-01-25T16:54:25.872414+01:00","ephemeral":true}
{"id":"rff-wisp-jfxi","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-66nd           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-66nd\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:30:45.656512+01:00","updated_at":"2026-01-25T17:30:45.656512+01:00","dependencies":[{"issue_id":"rff-wisp-jfxi","depends_on_id":"rff-wisp-24j5","type":"parent-child","created_at":"2026-01-25T17:30:45.65992+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jgv8","title":"mol-witness-patrol","description":"Per-rig worker monitor patrol loop.\n\nThe Witness is the Pit Boss for your rig. You watch polecats, nudge them toward\ncompletion, verify clean git state before kills, and escalate stuck workers.\n\n**You do NOT do implementation work.** Your job is oversight, not coding.\n\n## Ephemeral Polecat Model\n\nPolecats are truly ephemeral - done at MR submission, recyclable immediately:\n\n```\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle:      created → queued → processed → merged (Refinery handles)\n```\n\nOnce a polecat's branch is pushed (cleanup_status=clean), the polecat can be\nnuked immediately. The MR continues independently in the Refinery. If conflicts\narise, Refinery creates a NEW conflict-resolution task for a NEW polecat.\n\n**Key principle**: Polecat lifecycle is separate from MR lifecycle.\n\n## Design Philosophy\n\nThis patrol follows Gas Town principles:\n- **Discovery over tracking**: Observe reality each cycle, don't maintain state\n- **Events over state**: POLECAT_DONE mail triggers immediate cleanup\n- **Ephemeral by default**: Clean polecats are nuked immediately, no waiting\n- **Cleanup wisps for exceptions**: Only created when intervention needed\n- **Task tool for parallelism**: Subagents inspect polecats, not molecule arms\n\n## Patrol Shape (Linear, Deacon-style)\n\n```\ninbox-check ─► process-cleanups ─► check-refinery ─► survey-workers\n                                                            │\n         ┌──────────────────────────────────────────────────┘\n         ▼\n  check-timer-gates ─► check-swarm ─► ping-deacon ─► patrol-cleanup ─► context-check ─► loop-or-exit\n```\n\nNo dynamic arms. No fanout gates. No persistent nudge counters.\nState is discovered each cycle from reality (tmux, beads, mail).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:29:36.90484+01:00","updated_at":"2026-01-25T20:29:36.90484+01:00","ephemeral":true}
{"id":"rff-wisp-jj64","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-wair\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.543247+01:00","updated_at":"2026-01-25T18:26:48.479273+01:00","dependencies":[{"issue_id":"rff-wisp-jj64","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.810058+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jj64","depends_on_id":"rff-wisp-jkji","type":"blocks","created_at":"2026-01-25T18:12:55.082728+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jjdy","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-h2r7o).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-h2r7o\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.456728+01:00","updated_at":"2026-01-25T20:36:32.703809+01:00","dependencies":[{"issue_id":"rff-wisp-jjdy","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.669825+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jjdy","depends_on_id":"rff-wisp-3h8f","type":"blocks","created_at":"2026-01-25T20:32:48.499231+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jkji","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-wair\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-wair --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.542846+01:00","updated_at":"2026-01-25T18:26:36.323695+01:00","closed_at":"2026-01-25T18:26:36.323697+01:00","dependencies":[{"issue_id":"rff-wisp-jkji","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.776859+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jkji","depends_on_id":"rff-wisp-fb1r","type":"blocks","created_at":"2026-01-25T18:12:55.048036+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jlz4","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-558uj           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-558uj\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.344798+01:00","updated_at":"2026-01-25T20:23:58.344798+01:00","dependencies":[{"issue_id":"rff-wisp-jlz4","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.350028+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jmws","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.211386+01:00","updated_at":"2026-01-25T18:09:21.211386+01:00","dependencies":[{"issue_id":"rff-wisp-jmws","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.366245+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jmws","depends_on_id":"rff-wisp-4u7f","type":"blocks","created_at":"2026-01-25T18:09:21.613598+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jn4j","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.106096+01:00","updated_at":"2026-01-25T17:01:40.106096+01:00","dependencies":[{"issue_id":"rff-wisp-jn4j","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.167918+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jn4j","depends_on_id":"rff-wisp-iclf","type":"blocks","created_at":"2026-01-25T17:01:40.277679+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jppd","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-n2ly).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-n2ly\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.961245+01:00","updated_at":"2026-01-25T18:18:15.501854+01:00","closed_at":"2026-01-25T18:18:15.501854+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-jppd","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.039658+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jppd","depends_on_id":"rff-wisp-uqgl","type":"blocks","created_at":"2026-01-25T18:16:31.339224+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jsoc","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ytq3           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ytq3\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.752085+01:00","updated_at":"2026-01-25T18:11:29.752085+01:00","dependencies":[{"issue_id":"rff-wisp-jsoc","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.755934+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jsr6","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.156388+01:00","updated_at":"2026-01-25T16:52:20.156388+01:00","dependencies":[{"issue_id":"rff-wisp-jsr6","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.204703+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jsr6","depends_on_id":"rff-wisp-8o4j","type":"blocks","created_at":"2026-01-25T16:52:20.278007+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jteo","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cjh5\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.794508+01:00","updated_at":"2026-01-25T20:30:52.794508+01:00","dependencies":[{"issue_id":"rff-wisp-jteo","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.560708+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jteo","depends_on_id":"rff-wisp-1vcp","type":"blocks","created_at":"2026-01-25T20:30:54.333348+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jtkq","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ze6v\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.92486+01:00","updated_at":"2026-01-25T19:23:19.92486+01:00","dependencies":[{"issue_id":"rff-wisp-jtkq","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.024302+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jtkq","depends_on_id":"rff-wisp-cxed","type":"blocks","created_at":"2026-01-25T19:23:20.697317+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ju6o","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cfh0\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.038502+01:00","updated_at":"2026-01-25T16:56:58.038502+01:00","dependencies":[{"issue_id":"rff-wisp-ju6o","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.114216+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ju6o","depends_on_id":"rff-wisp-15nk","type":"blocks","created_at":"2026-01-25T16:56:58.192807+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-judc","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:59:26.497168+01:00","updated_at":"2026-01-25T17:59:26.497168+01:00","ephemeral":true}
{"id":"rff-wisp-jxu1","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cn7l\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.969625+01:00","updated_at":"2026-01-25T18:15:26.908078+01:00","closed_at":"2026-01-25T18:15:26.908078+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-jxu1","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.007348+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jxu1","depends_on_id":"rff-wisp-r47k","type":"blocks","created_at":"2026-01-25T18:13:32.288424+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-jywu","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-twmya).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-twmya\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.239958+01:00","updated_at":"2026-01-25T20:29:47.239958+01:00","dependencies":[{"issue_id":"rff-wisp-jywu","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.42935+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-jywu","depends_on_id":"rff-wisp-lptr","type":"blocks","created_at":"2026-01-25T20:29:48.161698+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-k077","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-v9ykq\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-v9ykq --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.111423+01:00","updated_at":"2026-01-25T20:30:20.111423+01:00","dependencies":[{"issue_id":"rff-wisp-k077","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.765772+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-k077","depends_on_id":"rff-wisp-ovjv","type":"blocks","created_at":"2026-01-25T20:30:21.516438+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-k0i7","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.347417+01:00","updated_at":"2026-01-25T20:23:58.347417+01:00","dependencies":[{"issue_id":"rff-wisp-k0i7","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.785413+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-k0i7","depends_on_id":"rff-wisp-kdnk","type":"blocks","created_at":"2026-01-25T20:23:59.474734+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-k17h","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-wair\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-wair --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.829318+01:00","updated_at":"2026-01-25T18:10:15.829318+01:00","dependencies":[{"issue_id":"rff-wisp-k17h","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:16.097171+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-k17h","depends_on_id":"rff-wisp-8iee","type":"blocks","created_at":"2026-01-25T18:10:16.355253+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-k3x2","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-gcja           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-gcja\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.557315+01:00","updated_at":"2026-01-25T18:23:49.557315+01:00","dependencies":[{"issue_id":"rff-wisp-k3x2","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.561141+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-k9bt","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cn7l           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cn7l\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.457554+01:00","updated_at":"2026-01-25T18:10:42.457554+01:00","dependencies":[{"issue_id":"rff-wisp-k9bt","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.461823+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kagz","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ohdj)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ohdj\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.931809+01:00","updated_at":"2026-01-25T19:08:19.931809+01:00","dependencies":[{"issue_id":"rff-wisp-kagz","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.129822+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kagz","depends_on_id":"rff-wisp-uer6","type":"blocks","created_at":"2026-01-25T19:08:20.695193+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kal7","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-6io6 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.500237+01:00","updated_at":"2026-01-25T18:03:28.220497+01:00","closed_at":"2026-01-25T18:03:28.220499+01:00","dependencies":[{"issue_id":"rff-wisp-kal7","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.649899+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kal7","depends_on_id":"rff-wisp-a0cs","type":"blocks","created_at":"2026-01-25T17:59:27.039556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kdnk","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-558uj should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.346927+01:00","updated_at":"2026-01-25T20:23:58.346927+01:00","dependencies":[{"issue_id":"rff-wisp-kdnk","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.698176+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kdnk","depends_on_id":"rff-wisp-4j16","type":"blocks","created_at":"2026-01-25T20:23:59.388478+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kef9","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.662687+01:00","updated_at":"2026-01-25T17:03:37.662687+01:00","dependencies":[{"issue_id":"rff-wisp-kef9","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.737583+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kef9","depends_on_id":"rff-wisp-cf5n","type":"blocks","created_at":"2026-01-25T17:03:37.838524+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-keus","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ylt5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ylt5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.87012+01:00","updated_at":"2026-01-25T17:51:50.87012+01:00","dependencies":[{"issue_id":"rff-wisp-keus","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.932255+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kf56","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-70k6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-70k6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.212384+01:00","updated_at":"2026-01-25T18:09:21.212384+01:00","dependencies":[{"issue_id":"rff-wisp-kf56","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.427234+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kf56","depends_on_id":"rff-wisp-symz","type":"blocks","created_at":"2026-01-25T18:09:21.67586+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kfco","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.030416+01:00","updated_at":"2026-01-25T19:03:56.030416+01:00","dependencies":[{"issue_id":"rff-wisp-kfco","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.506558+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kfco","depends_on_id":"rff-wisp-ui2d","type":"blocks","created_at":"2026-01-25T19:03:57.091409+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kgtd","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.562936+01:00","updated_at":"2026-01-25T16:33:20.562936+01:00","dependencies":[{"issue_id":"rff-wisp-kgtd","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.589046+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kgtd","depends_on_id":"rff-wisp-uaks","type":"blocks","created_at":"2026-01-25T16:33:20.637561+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kmo8","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-6io6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-6io6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.497998+01:00","updated_at":"2026-01-25T18:00:42.085285+01:00","closed_at":"2026-01-25T18:00:42.085287+01:00","dependencies":[{"issue_id":"rff-wisp-kmo8","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.502223+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kn0c","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ev2g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.923178+01:00","updated_at":"2026-01-25T18:15:49.923178+01:00","dependencies":[{"issue_id":"rff-wisp-kn0c","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:49.962866+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kn0c","depends_on_id":"rff-wisp-5eh7","type":"blocks","created_at":"2026-01-25T18:15:50.246168+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kobd","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:30:20.105301+01:00","updated_at":"2026-01-25T20:30:20.105301+01:00","ephemeral":true}
{"id":"rff-wisp-kof8","title":"Ensure refinery is alive","description":"Ensure the refinery is alive and processing merge requests.\n\n```bash\n# Check if refinery session exists\ngt session status \u003crig\u003e/refinery\n\n# Check for pending merge requests\nbd list --type=merge-request --status=open\n```\n\nIf MRs waiting AND refinery not running:\n```bash\ngt session start \u003crig\u003e/refinery\ngt mail send \u003crig\u003e/refinery -s \"PATROL: Wake up\" -m \"Merge requests in queue. Please process.\"\n```\n\nIf refinery running but queue stale (\u003e30 min), send nudge.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.639889+01:00","updated_at":"2026-01-25T20:24:59.63989+01:00","dependencies":[{"issue_id":"rff-wisp-kof8","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:24:59.834428+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-kr4m","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ytq3)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ytq3\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.753336+01:00","updated_at":"2026-01-25T18:11:29.753336+01:00","dependencies":[{"issue_id":"rff-wisp-kr4m","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.854066+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kr4m","depends_on_id":"rff-wisp-aplb","type":"blocks","created_at":"2026-01-25T18:11:30.118312+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-krj9","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-0enz)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-0enz\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.531276+01:00","updated_at":"2026-01-25T17:47:23.531276+01:00","dependencies":[{"issue_id":"rff-wisp-krj9","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.591375+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-krj9","depends_on_id":"rff-wisp-507h","type":"blocks","created_at":"2026-01-25T17:47:23.744591+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ksvl","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ytq3\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:11:29.752511+01:00","updated_at":"2026-01-25T18:11:29.752511+01:00","dependencies":[{"issue_id":"rff-wisp-ksvl","depends_on_id":"rff-wisp-f0z8","type":"parent-child","created_at":"2026-01-25T18:11:29.788535+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ksvl","depends_on_id":"rff-wisp-jsoc","type":"blocks","created_at":"2026-01-25T18:11:30.052286+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ktf9","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-14ed should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.430093+01:00","updated_at":"2026-01-25T19:35:06.430093+01:00","dependencies":[{"issue_id":"rff-wisp-ktf9","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.774905+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ktf9","depends_on_id":"rff-wisp-ythy","type":"blocks","created_at":"2026-01-25T19:35:07.454795+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ktie","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.610323+01:00","updated_at":"2026-01-25T16:28:59.839114+01:00","closed_at":"2026-01-25T16:28:59.839114+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ktie","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.652636+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ktie","depends_on_id":"rff-wisp-gpo1","type":"blocks","created_at":"2026-01-25T16:24:21.708652+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ktv","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-nlu           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-nlu\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.738938+01:00","updated_at":"2026-01-25T13:22:50.738939+01:00","ephemeral":true}
{"id":"rff-wisp-kw6mo","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-8n36m\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-8n36m --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.474929+01:00","updated_at":"2026-01-25T20:33:34.474929+01:00","dependencies":[{"issue_id":"rff-wisp-kw6mo","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:35.257337+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kw6mo","depends_on_id":"rff-wisp-exly5","type":"blocks","created_at":"2026-01-25T20:33:36.145156+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kwbq","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:00:52.704064+01:00","updated_at":"2026-01-25T17:00:52.704064+01:00","ephemeral":true}
{"id":"rff-wisp-kxrq","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.583068+01:00","updated_at":"2026-01-25T20:23:52.583068+01:00","dependencies":[{"issue_id":"rff-wisp-kxrq","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:52.917354+01:00","created_by":"witness"},{"issue_id":"rff-wisp-kxrq","depends_on_id":"rff-wisp-rp7a","type":"blocks","created_at":"2026-01-25T20:23:53.662615+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-ky2h","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-nmq84)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-nmq84\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.589415+01:00","updated_at":"2026-01-25T19:55:32.486124+01:00","closed_at":"2026-01-25T19:55:32.486124+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ky2h","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:12.856068+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ky2h","depends_on_id":"rff-wisp-o1wk","type":"blocks","created_at":"2026-01-25T19:37:13.618986+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-kzob","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.27245+01:00","updated_at":"2026-01-25T17:31:27.27245+01:00","dependencies":[{"issue_id":"rff-wisp-kzob","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.361831+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-kzob","depends_on_id":"rff-wisp-gtsn","type":"blocks","created_at":"2026-01-25T17:31:27.480658+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l1hm","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.458826+01:00","updated_at":"2026-01-25T20:32:47.458826+01:00","dependencies":[{"issue_id":"rff-wisp-l1hm","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:48.083864+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-l1hm","depends_on_id":"rff-wisp-1mbg","type":"blocks","created_at":"2026-01-25T20:32:48.919484+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l1ij","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-8iy7\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.485262+01:00","updated_at":"2026-01-25T16:32:56.485262+01:00","dependencies":[{"issue_id":"rff-wisp-l1ij","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.531338+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-l1ij","depends_on_id":"rff-wisp-p2gl","type":"blocks","created_at":"2026-01-25T16:32:56.578472+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l41j","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-la8j).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-la8j\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.224008+01:00","updated_at":"2026-01-25T19:04:58.182099+01:00","closed_at":"2026-01-25T19:04:58.182099+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-l41j","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.34321+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-l41j","depends_on_id":"rff-wisp-3ypq","type":"blocks","created_at":"2026-01-25T19:02:06.808427+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l51k","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-t43h\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.750508+01:00","updated_at":"2026-01-25T18:17:56.750508+01:00","dependencies":[{"issue_id":"rff-wisp-l51k","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.791225+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-l51k","depends_on_id":"rff-wisp-aet0","type":"blocks","created_at":"2026-01-25T18:17:57.089367+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l5ig","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-14ed\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-14ed --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.431695+01:00","updated_at":"2026-01-25T19:35:06.431695+01:00","dependencies":[{"issue_id":"rff-wisp-l5ig","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:07.034545+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-l5ig","depends_on_id":"rff-wisp-rinb","type":"blocks","created_at":"2026-01-25T19:35:07.704506+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-l73o","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:59:32.677188+01:00","updated_at":"2026-01-25T19:02:36.747458+01:00","closed_at":"2026-01-25T19:02:36.747458+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-l9m","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-b5h\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.031383+01:00","updated_at":"2026-01-25T13:24:42.749944+01:00","closed_at":"2026-01-25T13:24:42.749944+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-l9m","depends_on_id":"rff-wisp-qi9","type":"blocks","created_at":"2026-01-25T13:23:15.061856+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-laiv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:05:34.804807+01:00","updated_at":"2026-01-25T18:05:34.804807+01:00","dependencies":[{"issue_id":"rff-wisp-laiv","depends_on_id":"rff-wisp-tl2d","type":"parent-child","created_at":"2026-01-25T18:05:34.94716+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lbwh","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cfh0)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cfh0\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.947939+01:00","updated_at":"2026-01-25T16:59:35.947939+01:00","dependencies":[{"issue_id":"rff-wisp-lbwh","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:35.980995+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lbwh","depends_on_id":"rff-wisp-wucx","type":"blocks","created_at":"2026-01-25T16:59:36.063635+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ldwu","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.331826+01:00","updated_at":"2026-01-25T20:22:39.331826+01:00","dependencies":[{"issue_id":"rff-wisp-ldwu","depends_on_id":"rff-wisp-1yjx","type":"blocks","created_at":"2026-01-25T20:22:40.993798+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-ldyt","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ylt5           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ylt5\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.868957+01:00","updated_at":"2026-01-25T17:51:50.868957+01:00","dependencies":[{"issue_id":"rff-wisp-ldyt","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.872477+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lfac","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.154741+01:00","updated_at":"2026-01-25T19:25:20.114127+01:00","closed_at":"2026-01-25T19:25:20.114129+01:00","dependencies":[{"issue_id":"rff-wisp-lfac","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.505949+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lfac","depends_on_id":"rff-wisp-7uyl","type":"blocks","created_at":"2026-01-25T19:13:36.072019+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lg2u","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-558uj\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.345325+01:00","updated_at":"2026-01-25T20:23:58.345325+01:00","dependencies":[{"issue_id":"rff-wisp-lg2u","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.436931+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lg2u","depends_on_id":"rff-wisp-jlz4","type":"blocks","created_at":"2026-01-25T20:23:59.130977+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lgog","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.317517+01:00","updated_at":"2026-01-25T16:44:55.317517+01:00","dependencies":[{"issue_id":"rff-wisp-lgog","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.328934+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lgog","depends_on_id":"rff-wisp-7zlo","type":"blocks","created_at":"2026-01-25T16:44:55.39675+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lh58","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.782369+01:00","updated_at":"2026-01-25T17:58:40.782369+01:00","dependencies":[{"issue_id":"rff-wisp-lh58","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.922374+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lh58","depends_on_id":"rff-wisp-mne2","type":"blocks","created_at":"2026-01-25T17:58:41.120662+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lij4","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nIn the ephemeral model, most POLECAT_DONE messages are handled immediately\n(auto-nuke) and archived. Inbox should contain ONLY:\n- Unprocessed messages (just arrived, will handle next cycle)\n- MERGED notifications (informational, archive after reading)\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- POLECAT_STARTED older than this cycle → archive\n- POLECAT_DONE that was auto-nuked → should be archived already\n- MERGED notifications → archive after acknowledging\n- HELP/Blocked that was escalated → archive\n- SWARM_START that created tracking wisp → archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Verify cleanup wisp hygiene**\n\nIn the ephemeral model, cleanup wisps should be rare (only for dirty polecats):\n```bash\nbd list --wisp --labels=cleanup --status=open\n```\n\n- state:pending → Needs investigation in process-cleanups\n- state:merge-requested → Legacy state, handle in inbox-check\n\nIf cleanup wisps are accumulating, investigate why polecats aren't clean.\n\n**Goal**: Inbox should be nearly empty. Cleanup wisps should be rare.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.909329+01:00","updated_at":"2026-01-25T20:29:36.909329+01:00","dependencies":[{"issue_id":"rff-wisp-lij4","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.54075+01:00","created_by":"witness"},{"issue_id":"rff-wisp-lij4","depends_on_id":"rff-wisp-x11x","type":"blocks","created_at":"2026-01-25T20:29:38.345263+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-ljgc","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cn7l           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cn7l\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.321784+01:00","updated_at":"2026-01-25T18:06:56.321785+01:00","dependencies":[{"issue_id":"rff-wisp-ljgc","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.32572+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lny1","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-a8ny\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-a8ny --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.530872+01:00","updated_at":"2026-01-25T19:19:33.530872+01:00","dependencies":[{"issue_id":"rff-wisp-lny1","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:34.068718+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lny1","depends_on_id":"rff-wisp-e8kh","type":"blocks","created_at":"2026-01-25T19:19:34.694241+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lptr","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-twmya\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.239258+01:00","updated_at":"2026-01-25T20:29:47.239258+01:00","dependencies":[{"issue_id":"rff-wisp-lptr","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.337857+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lptr","depends_on_id":"rff-wisp-pd5c","type":"blocks","created_at":"2026-01-25T20:29:48.069694+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lpxr","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.348161+01:00","updated_at":"2026-01-25T20:23:58.348161+01:00","dependencies":[{"issue_id":"rff-wisp-lpxr","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.872617+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lpxr","depends_on_id":"rff-wisp-k0i7","type":"blocks","created_at":"2026-01-25T20:23:59.561113+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lsuo","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-u18g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-u18g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.896911+01:00","updated_at":"2026-01-25T17:05:04.896911+01:00","dependencies":[{"issue_id":"rff-wisp-lsuo","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.900643+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lvf6","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ylt5\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:51:50.869368+01:00","updated_at":"2026-01-25T17:51:50.869368+01:00","dependencies":[{"issue_id":"rff-wisp-lvf6","depends_on_id":"rff-wisp-1m1r","type":"parent-child","created_at":"2026-01-25T17:51:50.89274+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lvf6","depends_on_id":"rff-wisp-ldyt","type":"blocks","created_at":"2026-01-25T17:51:51.053156+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-lvg5","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:53:05.45069+01:00","updated_at":"2026-01-25T19:53:05.45069+01:00","ephemeral":true}
{"id":"rff-wisp-lwg7","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.059782+01:00","updated_at":"2026-01-25T18:35:06.474213+01:00","closed_at":"2026-01-25T18:35:06.474215+01:00","dependencies":[{"issue_id":"rff-wisp-lwg7","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.321515+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-lwg7","depends_on_id":"rff-wisp-o88r","type":"blocks","created_at":"2026-01-25T18:31:35.668613+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-m3l4","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-iq3z           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-iq3z\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:57.593636+01:00","updated_at":"2026-01-25T16:31:35.526316+01:00","closed_at":"2026-01-25T16:31:35.526318+01:00","ephemeral":true}
{"id":"rff-wisp-m62f","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-m1v5 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.683685+01:00","updated_at":"2026-01-25T19:03:38.053466+01:00","closed_at":"2026-01-25T19:03:38.053469+01:00","dependencies":[{"issue_id":"rff-wisp-m62f","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:33.046852+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-m62f","depends_on_id":"rff-wisp-aod4","type":"blocks","created_at":"2026-01-25T18:59:33.586924+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-m78e","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.500597+01:00","updated_at":"2026-01-25T18:03:39.632826+01:00","closed_at":"2026-01-25T18:03:39.63283+01:00","dependencies":[{"issue_id":"rff-wisp-m78e","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.673498+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-m78e","depends_on_id":"rff-wisp-kal7","type":"blocks","created_at":"2026-01-25T17:59:27.063656+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-m9oc","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-b7jm).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-b7jm\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.647591+01:00","updated_at":"2026-01-25T18:33:28.152392+01:00","closed_at":"2026-01-25T18:33:28.152392+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-m9oc","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.734262+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-m9oc","depends_on_id":"rff-wisp-788s","type":"blocks","created_at":"2026-01-25T18:30:50.075861+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-malz","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.704491+01:00","updated_at":"2026-01-25T19:03:23.704491+01:00","dependencies":[{"issue_id":"rff-wisp-malz","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:24.07233+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-malz","depends_on_id":"rff-wisp-iizf","type":"blocks","created_at":"2026-01-25T19:03:24.564791+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mbj0","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.326966+01:00","updated_at":"2026-01-25T16:40:46.326967+01:00","dependencies":[{"issue_id":"rff-wisp-mbj0","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.337647+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-md3p","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ylt5).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ylt5\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.780846+01:00","updated_at":"2026-01-25T17:58:40.780847+01:00","dependencies":[{"issue_id":"rff-wisp-md3p","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.829941+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-md3p","depends_on_id":"rff-wisp-ibxd","type":"blocks","created_at":"2026-01-25T17:58:41.016494+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mgs","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-dew should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.261702+01:00","updated_at":"2026-01-25T13:22:03.261702+01:00","dependencies":[{"issue_id":"rff-wisp-mgs","depends_on_id":"rff-wisp-dqx","type":"blocks","created_at":"2026-01-25T13:22:03.288007+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mibg","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.371555+01:00","updated_at":"2026-01-25T20:29:51.371555+01:00","dependencies":[{"issue_id":"rff-wisp-mibg","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.756752+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-mibg","depends_on_id":"rff-wisp-55ah","type":"blocks","created_at":"2026-01-25T20:29:52.702739+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-mlt","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-35ho           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-35ho\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:13:33.209085+01:00","updated_at":"2026-01-25T14:20:08.95757+01:00","closed_at":"2026-01-25T14:20:08.957572+01:00","dependencies":[{"issue_id":"rff-wisp-mlt","depends_on_id":"rff-wisp-3tj","type":"parent-child","created_at":"2026-01-25T14:13:33.212855+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mm8d","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-1iq7\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.250611+01:00","updated_at":"2026-01-25T17:32:29.250611+01:00","dependencies":[{"issue_id":"rff-wisp-mm8d","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.383797+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mm8d","depends_on_id":"rff-wisp-ble1","type":"blocks","created_at":"2026-01-25T17:32:29.515988+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mmp1","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-u18g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.663385+01:00","updated_at":"2026-01-25T17:03:37.663385+01:00","dependencies":[{"issue_id":"rff-wisp-mmp1","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.762306+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mmp1","depends_on_id":"rff-wisp-opvg","type":"blocks","created_at":"2026-01-25T17:03:37.865091+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mne2","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.781999+01:00","updated_at":"2026-01-25T17:58:40.781999+01:00","dependencies":[{"issue_id":"rff-wisp-mne2","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.899262+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mne2","depends_on_id":"rff-wisp-tlnu","type":"blocks","created_at":"2026-01-25T17:58:41.094755+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mnkl","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-gn2v should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.034939+01:00","updated_at":"2026-01-25T18:51:27.034939+01:00","dependencies":[{"issue_id":"rff-wisp-mnkl","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.260241+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mnkl","depends_on_id":"rff-wisp-8q0k","type":"blocks","created_at":"2026-01-25T18:51:27.705698+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mpir","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:33:34.469736+01:00","updated_at":"2026-01-25T20:33:34.469736+01:00","ephemeral":true}
{"id":"rff-wisp-mqcs","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-3emw should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.609398+01:00","updated_at":"2026-01-25T16:28:27.358764+01:00","closed_at":"2026-01-25T16:28:27.358764+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-mqcs","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.638702+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mqcs","depends_on_id":"rff-wisp-hmsx","type":"blocks","created_at":"2026-01-25T16:24:21.693951+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mqdl","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.64929+01:00","updated_at":"2026-01-25T18:42:43.38917+01:00","closed_at":"2026-01-25T18:42:43.38917+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-mqdl","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.910717+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mqdl","depends_on_id":"rff-wisp-dfb7","type":"blocks","created_at":"2026-01-25T18:30:50.244043+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ms3t","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-o18n           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-o18n\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.701254+01:00","updated_at":"2026-01-25T19:03:23.701254+01:00","dependencies":[{"issue_id":"rff-wisp-ms3t","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:23.706261+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mygn","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-nmvc\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-nmvc --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.71102+01:00","updated_at":"2026-01-25T19:04:28.71102+01:00","dependencies":[{"issue_id":"rff-wisp-mygn","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:29.174974+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mygn","depends_on_id":"rff-wisp-xrux","type":"blocks","created_at":"2026-01-25T19:04:29.718154+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mz3a","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-6io6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.501697+01:00","updated_at":"2026-01-25T18:06:53.379844+01:00","closed_at":"2026-01-25T18:06:53.379847+01:00","dependencies":[{"issue_id":"rff-wisp-mz3a","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.866667+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mz3a","depends_on_id":"rff-wisp-qqn3","type":"blocks","created_at":"2026-01-25T17:59:27.238345+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-mzjjp","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-twmya\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.122627+01:00","updated_at":"2026-01-25T20:36:51.122627+01:00","dependencies":[{"issue_id":"rff-wisp-mzjjp","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:52.097498+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-mzjjp","depends_on_id":"rff-wisp-q8nmq","type":"blocks","created_at":"2026-01-25T20:36:53.029756+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n04p","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-0gnv\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.425388+01:00","updated_at":"2026-01-25T16:31:08.503093+01:00","closed_at":"2026-01-25T16:31:08.503095+01:00","dependencies":[{"issue_id":"rff-wisp-n04p","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.432664+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-n04p","depends_on_id":"rff-wisp-9tqa","type":"blocks","created_at":"2026-01-25T16:29:17.466568+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n2aj","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cfh0 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.874551+01:00","updated_at":"2026-01-25T16:54:25.874551+01:00","dependencies":[{"issue_id":"rff-wisp-n2aj","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.911206+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n2ur","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-ohdj\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.930749+01:00","updated_at":"2026-01-25T19:08:19.930749+01:00","dependencies":[{"issue_id":"rff-wisp-n2ur","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.001144+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-n2ur","depends_on_id":"rff-wisp-si3r","type":"blocks","created_at":"2026-01-25T19:08:20.561495+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n3h9","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cfh0 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.037159+01:00","updated_at":"2026-01-25T16:56:58.037159+01:00","dependencies":[{"issue_id":"rff-wisp-n3h9","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.076587+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-n3h9","depends_on_id":"rff-wisp-5sm1","type":"blocks","created_at":"2026-01-25T16:56:58.153128+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n3om","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ze6v)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ze6v\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.925884+01:00","updated_at":"2026-01-25T19:23:19.925884+01:00","dependencies":[{"issue_id":"rff-wisp-n3om","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.191804+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-n3om","depends_on_id":"rff-wisp-z3og","type":"blocks","created_at":"2026-01-25T19:23:20.87619+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-n3s2","title":"Process witness mail","description":"Check inbox and handle messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**POLECAT_STARTED**:\nA new polecat has started working. Acknowledge and archive.\n```bash\n# Acknowledge startup (optional: log for activity tracking)\ngt mail archive \u003cmessage-id\u003e\n```\nNo action needed beyond acknowledgment - archive immediately.\n\n**POLECAT_DONE / LIFECYCLE:Shutdown**:\n\n*EPHEMERAL MODEL*: Polecats are truly ephemeral - done at MR submission,\nrecyclable immediately. Once the branch is pushed (cleanup_status=clean),\nthe polecat can be nuked. The MR lifecycle continues independently in the\nRefinery. If conflicts arise, Refinery creates a NEW conflict-resolution\ntask for a NEW polecat.\n\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle: created → queued → processed → merged (handled by Refinery)\n\nThe handler (HandlePolecatDone) will:\n1. Check cleanup_status from agent bead\n2. If \"clean\" (branch pushed): AUTO-NUKE immediately, archive mail\n3. If dirty: Create cleanup wisp for manual intervention\n\n```bash\n# The handler does this automatically:\n# - For clean state: gt polecat nuke \u003cname\u003e → archive mail\n# - For dirty state: create wisp → process in next step\n```\n\nCleanup wisps are only created when something is wrong (uncommitted changes,\nunpushed commits). Most POLECAT_DONE messages result in immediate nuke.\n\n**MERGED**:\nA branch was merged successfully. This is informational in the ephemeral model\nsince the polecat was already nuked after MR submission.\n\nIf a cleanup wisp exists (dirty state), complete the cleanup:\n```bash\n# Find the cleanup wisp for this polecat\nbd list --wisp --labels=polecat:\u003cname\u003e,state:merge-requested --status=open\n\n# If found, proceed with full polecat nuke:\ngt polecat nuke \u003cname\u003e\n\n# Burn the cleanup wisp\nbd close \u003cwisp-id\u003e\n```\nArchive after cleanup is complete.\n\n**HELP / Blocked**:\nAssess the request. Can you help? If not, escalate to Mayor:\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e needs help\" -m \"\u003cdetails\u003e\"\n```\nArchive after handling (escalated or resolved):\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Continue from where they left off.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**SWARM_START**:\nMayor initiating batch polecat work. Initialize swarm tracking.\n```bash\n# Parse swarm info from mail body: {\"swarm_id\": \"batch-123\", \"beads\": [\"bd-a\", \"bd-b\"]}\nbd create --wisp --title \"swarm:\u003cswarm_id\u003e\" --description \"Tracking batch: \u003cswarm_id\u003e\" --labels swarm,swarm_id:\u003cswarm_id\u003e,total:\u003cN\u003e,completed:0,start:\u003ctimestamp\u003e\n```\nArchive after creating swarm tracking wisp:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: active work, unprocessed requests. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.638785+01:00","updated_at":"2026-01-25T20:24:59.638786+01:00","dependencies":[{"issue_id":"rff-wisp-n3s2","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:24:59.644182+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-n3wu","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:04:03.370971+01:00","updated_at":"2026-01-25T18:14:36.803494+01:00","closed_at":"2026-01-25T18:14:36.803494+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-n680","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.705488+01:00","updated_at":"2026-01-25T17:00:52.705488+01:00","dependencies":[{"issue_id":"rff-wisp-n680","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.729546+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-n680","depends_on_id":"rff-wisp-7kqu","type":"blocks","created_at":"2026-01-25T17:00:52.814889+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ndeq","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-u18g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.897296+01:00","updated_at":"2026-01-25T17:05:04.897296+01:00","dependencies":[{"issue_id":"rff-wisp-ndeq","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.91515+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ndeq","depends_on_id":"rff-wisp-lsuo","type":"blocks","created_at":"2026-01-25T17:05:05.0304+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ndmv","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-nmq84\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.588297+01:00","updated_at":"2026-01-25T19:47:27.319693+01:00","closed_at":"2026-01-25T19:47:27.319693+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ndmv","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:12.679455+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ndmv","depends_on_id":"rff-wisp-zzpf","type":"blocks","created_at":"2026-01-25T19:37:13.440116+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nfhf","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-5u9g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-5u9g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.154604+01:00","updated_at":"2026-01-25T16:52:20.154604+01:00","dependencies":[{"issue_id":"rff-wisp-nfhf","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.158006+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ngy7","title":"mol-witness-patrol","description":"Per-rig worker monitor patrol loop.\n\nThe Witness is the Pit Boss for your rig. You watch polecats, nudge them toward\ncompletion, verify clean git state before kills, and escalate stuck workers.\n\n**You do NOT do implementation work.** Your job is oversight, not coding.\n\n## Ephemeral Polecat Model\n\nPolecats are truly ephemeral - done at MR submission, recyclable immediately:\n\n```\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle:      created → queued → processed → merged (Refinery handles)\n```\n\nOnce a polecat's branch is pushed (cleanup_status=clean), the polecat can be\nnuked immediately. The MR continues independently in the Refinery. If conflicts\narise, Refinery creates a NEW conflict-resolution task for a NEW polecat.\n\n**Key principle**: Polecat lifecycle is separate from MR lifecycle.\n\n## Design Philosophy\n\nThis patrol follows Gas Town principles:\n- **Discovery over tracking**: Observe reality each cycle, don't maintain state\n- **Events over state**: POLECAT_DONE mail triggers immediate cleanup\n- **Ephemeral by default**: Clean polecats are nuked immediately, no waiting\n- **Cleanup wisps for exceptions**: Only created when intervention needed\n- **Task tool for parallelism**: Subagents inspect polecats, not molecule arms\n\n## Patrol Shape (Linear, Deacon-style)\n\n```\ninbox-check ─► process-cleanups ─► check-refinery ─► survey-workers\n                                                            │\n         ┌──────────────────────────────────────────────────┘\n         ▼\n  check-timer-gates ─► check-swarm ─► ping-deacon ─► patrol-cleanup ─► context-check ─► loop-or-exit\n```\n\nNo dynamic arms. No fanout gates. No persistent nudge counters.\nState is discovered each cycle from reality (tmux, beads, mail).","status":"hooked","priority":2,"issue_type":"epic","assignee":"rff/witness","created_at":"2026-01-25T20:24:59.637493+01:00","updated_at":"2026-01-25T20:25:05.831225+01:00","ephemeral":true}
{"id":"rff-wisp-nie2","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-7xu7           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-7xu7\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.027284+01:00","updated_at":"2026-01-25T19:03:56.027284+01:00","dependencies":[{"issue_id":"rff-wisp-nie2","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.032149+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-njoq","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-zf5w).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-zf5w\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.828579+01:00","updated_at":"2026-01-25T18:52:22.133588+01:00","closed_at":"2026-01-25T18:52:22.133588+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-njoq","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:20.938568+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-njoq","depends_on_id":"rff-wisp-51sc","type":"blocks","created_at":"2026-01-25T18:49:21.353459+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nkwl","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.874885+01:00","updated_at":"2026-01-25T16:54:25.874885+01:00","dependencies":[{"issue_id":"rff-wisp-nkwl","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.920128+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nkwl","depends_on_id":"rff-wisp-n2aj","type":"blocks","created_at":"2026-01-25T16:54:25.991762+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nlhq","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.541861+01:00","updated_at":"2026-01-25T14:19:48.541861+01:00","dependencies":[{"issue_id":"rff-wisp-nlhq","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.563084+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nm5s","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:13:35.150426+01:00","updated_at":"2026-01-25T19:26:37.178605+01:00","closed_at":"2026-01-25T19:26:37.178605+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-nqi1","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ze6v should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.92641+01:00","updated_at":"2026-01-25T19:23:19.926411+01:00","dependencies":[{"issue_id":"rff-wisp-nqi1","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.288429+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nqi1","depends_on_id":"rff-wisp-n3om","type":"blocks","created_at":"2026-01-25T19:23:20.955864+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nr8","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-vnt           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-vnt\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.008674+01:00","updated_at":"2026-01-25T13:24:39.83822+01:00","closed_at":"2026-01-25T13:24:39.83822+01:00","close_reason":"Context loaded and assignment verified","ephemeral":true}
{"id":"rff-wisp-nslw","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-66nd should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.184802+01:00","updated_at":"2026-01-25T17:35:27.184802+01:00","dependencies":[{"issue_id":"rff-wisp-nslw","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.269815+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nslw","depends_on_id":"rff-wisp-q4no","type":"blocks","created_at":"2026-01-25T17:35:27.467942+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ntb1","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-7xu7).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-7xu7\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.028378+01:00","updated_at":"2026-01-25T19:03:56.028379+01:00","dependencies":[{"issue_id":"rff-wisp-ntb1","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.154223+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ntb1","depends_on_id":"rff-wisp-6w2l","type":"blocks","created_at":"2026-01-25T19:03:56.807996+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ntjg","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.532423+01:00","updated_at":"2026-01-25T17:47:23.532423+01:00","dependencies":[{"issue_id":"rff-wisp-ntjg","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.648837+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ntjg","depends_on_id":"rff-wisp-24rh","type":"blocks","created_at":"2026-01-25T17:47:23.803931+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nvhc","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-n2ly\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-n2ly --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.963301+01:00","updated_at":"2026-01-25T18:22:13.522471+01:00","closed_at":"2026-01-25T18:22:13.522471+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-nvhc","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.229585+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nvhc","depends_on_id":"rff-wisp-fi5y","type":"blocks","created_at":"2026-01-25T18:16:31.521422+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nx87","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.883999+01:00","updated_at":"2026-01-25T20:32:13.883999+01:00","dependencies":[{"issue_id":"rff-wisp-nx87","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.498269+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nx87","depends_on_id":"rff-wisp-3x90","type":"blocks","created_at":"2026-01-25T20:32:15.332197+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-nzf3","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.155674+01:00","updated_at":"2026-01-25T16:52:20.155674+01:00","dependencies":[{"issue_id":"rff-wisp-nzf3","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.185079+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-nzf3","depends_on_id":"rff-wisp-8qri","type":"blocks","created_at":"2026-01-25T16:52:20.258438+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o1wk","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-nmq84).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-nmq84\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.588865+01:00","updated_at":"2026-01-25T19:48:32.288546+01:00","closed_at":"2026-01-25T19:48:32.288546+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-o1wk","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:12.766182+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o1wk","depends_on_id":"rff-wisp-ndmv","type":"blocks","created_at":"2026-01-25T19:37:13.527911+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o3f9","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-6910)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-6910\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.637584+01:00","updated_at":"2026-01-25T18:55:43.250507+01:00","closed_at":"2026-01-25T18:55:43.250507+01:00","close_reason":"Added onChange(of: document.id) to reinitialize ConfirmationFormView fields when document selection changes","dependencies":[{"issue_id":"rff-wisp-o3f9","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.816741+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o3f9","depends_on_id":"rff-wisp-oemn","type":"blocks","created_at":"2026-01-25T18:52:08.283831+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o458","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-m1v5\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.425729+01:00","updated_at":"2026-01-25T18:57:30.425729+01:00","dependencies":[{"issue_id":"rff-wisp-o458","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.486755+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o458","depends_on_id":"rff-wisp-g1dl","type":"blocks","created_at":"2026-01-25T18:57:30.94041+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o6jo","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-tpoz\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.1745+01:00","updated_at":"2026-01-25T19:09:23.174501+01:00","dependencies":[{"issue_id":"rff-wisp-o6jo","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.247639+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o6jo","depends_on_id":"rff-wisp-cyge","type":"blocks","created_at":"2026-01-25T19:09:23.792718+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o7yv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.737463+01:00","updated_at":"2026-01-25T18:12:16.573581+01:00","closed_at":"2026-01-25T18:12:16.573581+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-o7yv","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.875512+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o7yv","depends_on_id":"rff-wisp-62ri","type":"blocks","created_at":"2026-01-25T18:04:54.104592+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o88r","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.059384+01:00","updated_at":"2026-01-25T18:35:22.334596+01:00","closed_at":"2026-01-25T18:35:22.334598+01:00","dependencies":[{"issue_id":"rff-wisp-o88r","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.278533+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o88r","depends_on_id":"rff-wisp-pyze","type":"blocks","created_at":"2026-01-25T18:31:35.625119+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o8t","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-7za           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-7za\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.718865+01:00","updated_at":"2026-01-25T13:30:32.718865+01:00","dependencies":[{"issue_id":"rff-wisp-o8t","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.729323+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o9e","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:13:48.929931+01:00","updated_at":"2026-01-25T14:01:39.12321+01:00","closed_at":"2026-01-25T14:01:39.12321+01:00","close_reason":"No timer gates found","dependencies":[{"issue_id":"rff-wisp-o9e","depends_on_id":"rff-wisp-2dz","type":"blocks","created_at":"2026-01-25T13:13:48.947831+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-o9e9","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-0no1h).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-0no1h\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.881994+01:00","updated_at":"2026-01-25T20:36:41.058009+01:00","closed_at":"2026-01-25T20:36:41.058009+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-o9e9","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.089264+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o9e9","depends_on_id":"rff-wisp-4wc4","type":"blocks","created_at":"2026-01-25T20:32:14.918942+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o9r","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.212273+01:00","updated_at":"2026-01-25T13:54:15.088451+01:00","closed_at":"2026-01-25T13:54:15.088451+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-o9r","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.225925+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o9r","depends_on_id":"rff-wisp-877","type":"blocks","created_at":"2026-01-25T13:49:00.24589+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-o9sct","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.121621+01:00","updated_at":"2026-01-25T20:36:51.121622+01:00","dependencies":[{"issue_id":"rff-wisp-o9sct","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.867498+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-o9sct","depends_on_id":"rff-wisp-bvnjm","type":"blocks","created_at":"2026-01-25T20:36:52.796178+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oa20","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-a8ny\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.527158+01:00","updated_at":"2026-01-25T19:19:33.527158+01:00","dependencies":[{"issue_id":"rff-wisp-oa20","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.607731+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-oa20","depends_on_id":"rff-wisp-ptn2","type":"blocks","created_at":"2026-01-25T19:19:34.221362+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oe8","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-dew).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-dew\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.089783+01:00","updated_at":"2026-01-25T13:33:29.318559+01:00","closed_at":"2026-01-25T13:33:29.318568+01:00","dependencies":[{"issue_id":"rff-wisp-oe8","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.100958+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-oe8","depends_on_id":"rff-wisp-q2c","type":"blocks","created_at":"2026-01-25T13:31:05.129638+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oek2","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.830919+01:00","updated_at":"2026-01-25T18:53:28.315223+01:00","closed_at":"2026-01-25T18:53:28.315223+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-oek2","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:21.145824+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-oek2","depends_on_id":"rff-wisp-auey","type":"blocks","created_at":"2026-01-25T18:49:21.565001+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oemn","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-6910).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-6910\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.636934+01:00","updated_at":"2026-01-25T18:54:27.734824+01:00","closed_at":"2026-01-25T18:54:27.734824+01:00","close_reason":"Project builds successfully, no tests defined in project","dependencies":[{"issue_id":"rff-wisp-oemn","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.758565+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-oemn","depends_on_id":"rff-wisp-c9tp","type":"blocks","created_at":"2026-01-25T18:52:08.225348+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ofkt","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.926892+01:00","updated_at":"2026-01-25T19:23:19.926892+01:00","dependencies":[{"issue_id":"rff-wisp-ofkt","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.368912+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ofkt","depends_on_id":"rff-wisp-nqi1","type":"blocks","created_at":"2026-01-25T19:23:21.036312+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oigk","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:34.993739+01:00","updated_at":"2026-01-25T16:30:34.993739+01:00","dependencies":[{"issue_id":"rff-wisp-oigk","depends_on_id":"rff-wisp-5428","type":"parent-child","created_at":"2026-01-25T16:30:35.014247+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-om5g","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Write handoff summary\n- Prepare for burn/respawn\n\nIf context is LOW:\n- Can continue processing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.373673+01:00","updated_at":"2026-01-25T20:29:51.373673+01:00","dependencies":[{"issue_id":"rff-wisp-om5g","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:52.137733+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-om5g","depends_on_id":"rff-wisp-dskp","type":"blocks","created_at":"2026-01-25T20:29:53.078015+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-om9p","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:59:54.202931+01:00","updated_at":"2026-01-25T18:08:33.56119+01:00","closed_at":"2026-01-25T18:08:33.56119+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-omg8","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.20975+01:00","updated_at":"2026-01-25T16:35:31.20975+01:00","dependencies":[{"issue_id":"rff-wisp-omg8","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.219173+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-oogg","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-zf5w)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-zf5w\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:49:20.829171+01:00","updated_at":"2026-01-25T18:52:47.804806+01:00","closed_at":"2026-01-25T18:52:47.804806+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-oogg","depends_on_id":"rff-wisp-u3di","type":"parent-child","created_at":"2026-01-25T18:49:20.990088+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-oogg","depends_on_id":"rff-wisp-njoq","type":"blocks","created_at":"2026-01-25T18:49:21.40628+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-op9g","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should contain ONLY:\n- Unprocessed MERGE_READY messages (will process next cycle)\n- Active work items\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- PATROL: Wake up that was acknowledged → archive\n- HELP/Blocked that was handled → archive\n- MERGE_READY where merge completed but archive was missed → archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Check for orphaned MR beads**\n\nLook for open MR beads with no corresponding branch:\n```bash\nbd list --type=merge-request --status=open\n```\n\nFor each open MR bead:\n1. Check if branch exists: `git ls-remote origin refs/heads/\u003cbranch\u003e`\n2. If branch gone, verify work is on main: `git log origin/main --oneline | grep \"\u003csource_issue\u003e\"`\n3. If work on main → close MR with reason \"Merged (verified on main)\"\n4. If work NOT on main → investigate before closing:\n   - Check source_issue validity (should be gt-xxxxx, not branch name)\n   - Search reflog/dangling commits if possible\n   - If unverifiable, close with reason \"Unverifiable - no audit trail\"\n   - File bead if this indicates lost work\n\n**NEVER close an MR bead without verifying the work landed or is unrecoverable.**\n\n**Goal**: Inbox should have ≤3 active messages at end of cycle.\nKeep only: pending MRs in queue.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.374181+01:00","updated_at":"2026-01-25T20:29:51.374181+01:00","dependencies":[{"issue_id":"rff-wisp-op9g","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:52.233587+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-op9g","depends_on_id":"rff-wisp-om5g","type":"blocks","created_at":"2026-01-25T20:29:53.172262+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-opbs","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:40:46.325666+01:00","updated_at":"2026-01-25T16:40:46.325666+01:00","ephemeral":true}
{"id":"rff-wisp-opvg","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-u18g\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-u18g --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.663032+01:00","updated_at":"2026-01-25T17:03:37.663032+01:00","dependencies":[{"issue_id":"rff-wisp-opvg","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.749796+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-opvg","depends_on_id":"rff-wisp-kef9","type":"blocks","created_at":"2026-01-25T17:03:37.851809+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-orxf","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:35:06.426791+01:00","updated_at":"2026-01-25T19:35:06.426791+01:00","ephemeral":true}
{"id":"rff-wisp-osxh","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cjpl).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cjpl\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.604907+01:00","updated_at":"2026-01-25T18:43:05.459068+01:00","closed_at":"2026-01-25T18:43:05.45907+01:00","dependencies":[{"issue_id":"rff-wisp-osxh","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.699199+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-osxh","depends_on_id":"rff-wisp-vht5","type":"blocks","created_at":"2026-01-25T18:39:33.058153+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-otcl","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-0gnv\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.427595+01:00","updated_at":"2026-01-25T16:33:44.884721+01:00","dependencies":[{"issue_id":"rff-wisp-otcl","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.462264+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-otcl","depends_on_id":"rff-wisp-g38b","type":"blocks","created_at":"2026-01-25T16:29:17.497621+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ovjv","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.110893+01:00","updated_at":"2026-01-25T20:30:20.110893+01:00","dependencies":[{"issue_id":"rff-wisp-ovjv","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.673159+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ovjv","depends_on_id":"rff-wisp-x3g3","type":"blocks","created_at":"2026-01-25T20:30:21.421625+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-owze","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-oxc6).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-oxc6\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.058064+01:00","updated_at":"2026-01-25T18:35:31.738181+01:00","closed_at":"2026-01-25T18:35:31.738183+01:00","dependencies":[{"issue_id":"rff-wisp-owze","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.148892+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-owze","depends_on_id":"rff-wisp-3en9","type":"blocks","created_at":"2026-01-25T18:31:35.49413+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ox4","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-air)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-air\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.931137+01:00","updated_at":"2026-01-25T13:00:27.931137+01:00","dependencies":[{"issue_id":"rff-wisp-ox4","depends_on_id":"rff-wisp-z2l","type":"blocks","created_at":"2026-01-25T13:00:27.947087+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ozi0","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-iq3z           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-iq3z\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.31005+01:00","updated_at":"2026-01-25T16:29:40.31005+01:00","dependencies":[{"issue_id":"rff-wisp-ozi0","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.313826+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ozwo","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-9wrf).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-9wrf\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.204898+01:00","updated_at":"2026-01-25T18:02:35.500521+01:00","closed_at":"2026-01-25T18:02:35.500521+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ozwo","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.258183+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ozwo","depends_on_id":"rff-wisp-pb9y","type":"blocks","created_at":"2026-01-25T17:59:54.490137+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p1m","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-qids\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-qids --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.125231+01:00","updated_at":"2026-01-25T14:27:01.367097+01:00","closed_at":"2026-01-25T14:27:01.367101+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-p1m","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.144649+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p1rc","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:32:18.90221+01:00","updated_at":"2026-01-25T18:38:32.445778+01:00","closed_at":"2026-01-25T18:38:32.445778+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-p22f","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-nmq84\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-nmq84 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.591627+01:00","updated_at":"2026-01-25T19:37:12.591627+01:00","dependencies":[{"issue_id":"rff-wisp-p22f","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:13.262906+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-p22f","depends_on_id":"rff-wisp-9cok","type":"blocks","created_at":"2026-01-25T19:37:13.973939+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p2gl","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-8iy7\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-8iy7 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.484954+01:00","updated_at":"2026-01-25T16:32:56.484954+01:00","dependencies":[{"issue_id":"rff-wisp-p2gl","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.525771+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-p2gl","depends_on_id":"rff-wisp-rh5k","type":"blocks","created_at":"2026-01-25T16:32:56.572531+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p3kq","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-qids           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-qids\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.539353+01:00","updated_at":"2026-01-25T14:19:48.539353+01:00","dependencies":[{"issue_id":"rff-wisp-p3kq","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.543123+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p4r9","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-wair\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.539857+01:00","updated_at":"2026-01-25T18:15:33.802969+01:00","closed_at":"2026-01-25T18:15:33.802971+01:00","dependencies":[{"issue_id":"rff-wisp-p4r9","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.577465+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-p4r9","depends_on_id":"rff-wisp-18fo","type":"blocks","created_at":"2026-01-25T18:12:54.843552+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p5sn","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cn7l).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cn7l\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.970028+01:00","updated_at":"2026-01-25T18:16:03.363779+01:00","closed_at":"2026-01-25T18:16:03.363779+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-p5sn","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.042453+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-p5sn","depends_on_id":"rff-wisp-jxu1","type":"blocks","created_at":"2026-01-25T18:13:32.322212+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-p8k","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.124536+01:00","updated_at":"2026-01-25T14:19:49.625196+01:00","closed_at":"2026-01-25T14:19:49.625196+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-p8k","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.139344+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-p8k","depends_on_id":"rff-wisp-gn9","type":"blocks","created_at":"2026-01-25T14:14:51.16147+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pauc","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ohdj\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.934613+01:00","updated_at":"2026-01-25T19:08:19.934613+01:00","dependencies":[{"issue_id":"rff-wisp-pauc","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.495333+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pauc","depends_on_id":"rff-wisp-20uq","type":"blocks","created_at":"2026-01-25T19:08:21.03515+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pb9y","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-9wrf\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.204436+01:00","updated_at":"2026-01-25T18:01:49.831497+01:00","closed_at":"2026-01-25T18:01:49.831497+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-pb9y","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.23333+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pb9y","depends_on_id":"rff-wisp-f7en","type":"blocks","created_at":"2026-01-25T17:59:54.460735+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pcdm","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:57:30.424105+01:00","updated_at":"2026-01-25T18:57:30.424105+01:00","ephemeral":true}
{"id":"rff-wisp-pcqb","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-3xr6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-3xr6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.907634+01:00","updated_at":"2026-01-25T19:16:30.907634+01:00","dependencies":[{"issue_id":"rff-wisp-pcqb","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.129121+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pcqb","depends_on_id":"rff-wisp-3ufd","type":"blocks","created_at":"2026-01-25T19:16:31.712991+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pd5c","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-twmya           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-twmya\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.238733+01:00","updated_at":"2026-01-25T20:36:54.295145+01:00","dependencies":[{"issue_id":"rff-wisp-pd5c","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.243964+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pdl","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-vnt\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.011172+01:00","updated_at":"2026-01-25T13:34:28.643966+01:00","dependencies":[{"issue_id":"rff-wisp-pdl","depends_on_id":"rff-wisp-25f","type":"blocks","created_at":"2026-01-25T13:23:46.069971+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pef8","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:01:40.106449+01:00","updated_at":"2026-01-25T17:01:40.106449+01:00","dependencies":[{"issue_id":"rff-wisp-pef8","depends_on_id":"rff-wisp-2j5m","type":"parent-child","created_at":"2026-01-25T17:01:40.179521+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pef8","depends_on_id":"rff-wisp-jn4j","type":"blocks","created_at":"2026-01-25T17:01:40.29039+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pgdc","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.948998+01:00","updated_at":"2026-01-25T16:59:35.948998+01:00","dependencies":[{"issue_id":"rff-wisp-pgdc","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:36.011123+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pgdc","depends_on_id":"rff-wisp-vc6d","type":"blocks","created_at":"2026-01-25T16:59:36.097458+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pgmgy","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-twmya).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-twmya\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.119347+01:00","updated_at":"2026-01-25T20:36:51.119347+01:00","dependencies":[{"issue_id":"rff-wisp-pgmgy","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.36235+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pgmgy","depends_on_id":"rff-wisp-38c7a","type":"blocks","created_at":"2026-01-25T20:36:52.327122+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pk70","title":"mol-witness-patrol","description":"Per-rig worker monitor patrol loop.\n\nThe Witness is the Pit Boss for your rig. You watch polecats, nudge them toward\ncompletion, verify clean git state before kills, and escalate stuck workers.\n\n**You do NOT do implementation work.** Your job is oversight, not coding.\n\n## Ephemeral Polecat Model\n\nPolecats are truly ephemeral - done at MR submission, recyclable immediately:\n\n```\nPolecat lifecycle: spawning → working → mr_submitted → nuked\nMR lifecycle:      created → queued → processed → merged (Refinery handles)\n```\n\nOnce a polecat's branch is pushed (cleanup_status=clean), the polecat can be\nnuked immediately. The MR continues independently in the Refinery. If conflicts\narise, Refinery creates a NEW conflict-resolution task for a NEW polecat.\n\n**Key principle**: Polecat lifecycle is separate from MR lifecycle.\n\n## Design Philosophy\n\nThis patrol follows Gas Town principles:\n- **Discovery over tracking**: Observe reality each cycle, don't maintain state\n- **Events over state**: POLECAT_DONE mail triggers immediate cleanup\n- **Ephemeral by default**: Clean polecats are nuked immediately, no waiting\n- **Cleanup wisps for exceptions**: Only created when intervention needed\n- **Task tool for parallelism**: Subagents inspect polecats, not molecule arms\n\n## Patrol Shape (Linear, Deacon-style)\n\n```\ninbox-check ─► process-cleanups ─► check-refinery ─► survey-workers\n                                                            │\n         ┌──────────────────────────────────────────────────┘\n         ▼\n  check-timer-gates ─► check-swarm ─► ping-deacon ─► patrol-cleanup ─► context-check ─► loop-or-exit\n```\n\nNo dynamic arms. No fanout gates. No persistent nudge counters.\nState is discovered each cycle from reality (tmux, beads, mail).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:23:52.579797+01:00","updated_at":"2026-01-25T20:23:52.579797+01:00","ephemeral":true}
{"id":"rff-wisp-plvg","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ylt5\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.783469+01:00","updated_at":"2026-01-25T17:58:40.783469+01:00","dependencies":[{"issue_id":"rff-wisp-plvg","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.969928+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-plvg","depends_on_id":"rff-wisp-1w9x","type":"blocks","created_at":"2026-01-25T17:58:41.168895+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pmop","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-0gnv)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-0gnv\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:35.023071+01:00","updated_at":"2026-01-25T16:23:35.023071+01:00","dependencies":[{"issue_id":"rff-wisp-pmop","depends_on_id":"rff-wisp-5vx9","type":"parent-child","created_at":"2026-01-25T16:23:35.034516+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pmop","depends_on_id":"rff-wisp-hjxx","type":"blocks","created_at":"2026-01-25T16:23:35.058343+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pmu8","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-1iq7).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-1iq7\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:32:29.247986+01:00","updated_at":"2026-01-25T17:32:29.247986+01:00","dependencies":[{"issue_id":"rff-wisp-pmu8","depends_on_id":"rff-wisp-94u9","type":"parent-child","created_at":"2026-01-25T17:32:29.284758+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pmu8","depends_on_id":"rff-wisp-ffe0","type":"blocks","created_at":"2026-01-25T17:32:29.41615+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pmvb","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.455085+01:00","updated_at":"2026-01-25T19:53:05.455085+01:00","dependencies":[{"issue_id":"rff-wisp-pmvb","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.917729+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pmvb","depends_on_id":"rff-wisp-rosa","type":"blocks","created_at":"2026-01-25T19:53:06.572384+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-po4j","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-la8j)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-la8j\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.224543+01:00","updated_at":"2026-01-25T19:05:19.176951+01:00","closed_at":"2026-01-25T19:05:19.176951+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-po4j","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.400782+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-po4j","depends_on_id":"rff-wisp-l41j","type":"blocks","created_at":"2026-01-25T19:02:06.866949+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pocn","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-u18g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.899824+01:00","updated_at":"2026-01-25T17:05:04.899824+01:00","dependencies":[{"issue_id":"rff-wisp-pocn","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:05.017616+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pocn","depends_on_id":"rff-wisp-g0g1","type":"blocks","created_at":"2026-01-25T17:05:05.12706+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pohd","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-s0qo           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-s0qo\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.172463+01:00","updated_at":"2026-01-25T17:33:11.172463+01:00","dependencies":[{"issue_id":"rff-wisp-pohd","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.175968+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pqk","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-1jzo\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.21325+01:00","updated_at":"2026-01-25T13:55:33.453742+01:00","dependencies":[{"issue_id":"rff-wisp-pqk","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.233482+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pqk","depends_on_id":"rff-wisp-wmi","type":"blocks","created_at":"2026-01-25T13:49:00.253235+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pqoi","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.369189+01:00","updated_at":"2026-01-25T20:29:51.369189+01:00","dependencies":[{"issue_id":"rff-wisp-pqoi","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.375402+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-pr86","title":"Check if active swarm is complete","description":"If Mayor started a batch (SWARM_START), check if all polecats have completed.\n\n**Step 1: Find active swarm tracking wisps**\n```bash\nbd list --wisp --labels=swarm --status=open\n```\nIf no active swarm, skip this step.\n\n**Step 2: Count completed polecats for this swarm**\n\nExtract from wisp labels: swarm_id, total, completed, start timestamp.\nCheck how many cleanup wisps have been closed for this swarm's polecats.\n\n**Step 3: If all complete, notify Mayor**\n```bash\ngt mail send mayor/ -s \"SWARM_COMPLETE: \u003cswarm_id\u003e\" -m \"All \u003ctotal\u003e polecats merged.\nDuration: \u003cminutes\u003e minutes\nSwarm: \u003cswarm_id\u003e\"\n\n# Close the swarm tracking wisp\nbd close \u003cswarm-wisp-id\u003e --reason \"All polecats merged\"\n```\n\nNote: Runs every patrol cycle. Notification sent exactly once when all complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.908349+01:00","updated_at":"2026-01-25T20:29:36.908349+01:00","dependencies":[{"issue_id":"rff-wisp-pr86","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.361653+01:00","created_by":"witness"},{"issue_id":"rff-wisp-pr86","depends_on_id":"rff-wisp-z0gs","type":"blocks","created_at":"2026-01-25T20:29:38.167495+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-pr8r","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-1pz6 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.905696+01:00","updated_at":"2026-01-25T18:37:03.486731+01:00","closed_at":"2026-01-25T18:37:03.486731+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-pr8r","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.084468+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pr8r","depends_on_id":"rff-wisp-ibqt","type":"blocks","created_at":"2026-01-25T18:32:19.515018+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ps1o","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.639396+01:00","updated_at":"2026-01-25T18:57:10.88082+01:00","closed_at":"2026-01-25T18:57:10.88082+01:00","close_reason":"Workspace clean, branch pushed to origin","dependencies":[{"issue_id":"rff-wisp-ps1o","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.990504+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ps1o","depends_on_id":"rff-wisp-rznj","type":"blocks","created_at":"2026-01-25T18:52:08.459403+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-psd","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-dew\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:03.260466+01:00","updated_at":"2026-01-25T13:22:03.260466+01:00","dependencies":[{"issue_id":"rff-wisp-psd","depends_on_id":"rff-wisp-9fo","type":"blocks","created_at":"2026-01-25T13:22:03.282329+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ptn2","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-a8ny           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-a8ny\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.526052+01:00","updated_at":"2026-01-25T19:19:33.526052+01:00","dependencies":[{"issue_id":"rff-wisp-ptn2","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.532243+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pu65","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-s0qo\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.175406+01:00","updated_at":"2026-01-25T17:33:11.175406+01:00","dependencies":[{"issue_id":"rff-wisp-pu65","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.313519+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pu65","depends_on_id":"rff-wisp-gpsc","type":"blocks","created_at":"2026-01-25T17:33:11.453907+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pv5j","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-dngrh\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.736874+01:00","updated_at":"2026-01-25T20:31:40.736874+01:00","dependencies":[{"issue_id":"rff-wisp-pv5j","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.54107+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pv5j","depends_on_id":"rff-wisp-2789","type":"blocks","created_at":"2026-01-25T20:31:42.350005+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pvbd","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cfh0\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cfh0 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.0827+01:00","updated_at":"2026-01-25T16:51:09.0827+01:00","dependencies":[{"issue_id":"rff-wisp-pvbd","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.13811+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pvbd","depends_on_id":"rff-wisp-w0tn","type":"blocks","created_at":"2026-01-25T16:51:09.202874+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pvdb","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:29:17.424392+01:00","updated_at":"2026-01-25T16:34:10.001854+01:00","closed_at":"2026-01-25T16:34:10.001854+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-pxr5","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-7xu7\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.031448+01:00","updated_at":"2026-01-25T19:03:56.031448+01:00","dependencies":[{"issue_id":"rff-wisp-pxr5","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.649054+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pxr5","depends_on_id":"rff-wisp-z4gc","type":"blocks","created_at":"2026-01-25T19:03:57.237836+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pyvm","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ev2g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ev2g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.923607+01:00","updated_at":"2026-01-25T18:15:49.923607+01:00","dependencies":[{"issue_id":"rff-wisp-pyvm","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:49.996543+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pyvm","depends_on_id":"rff-wisp-kn0c","type":"blocks","created_at":"2026-01-25T18:15:50.28238+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pyze","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-oxc6 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.058953+01:00","updated_at":"2026-01-25T18:35:49.620014+01:00","closed_at":"2026-01-25T18:35:49.620017+01:00","dependencies":[{"issue_id":"rff-wisp-pyze","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.235706+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pyze","depends_on_id":"rff-wisp-e3i0","type":"blocks","created_at":"2026-01-25T18:31:35.580888+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-pz9u","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cn7l\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.97239+01:00","updated_at":"2026-01-25T18:18:53.675751+01:00","closed_at":"2026-01-25T18:18:53.675751+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-pz9u","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.250486+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-pz9u","depends_on_id":"rff-wisp-12gv","type":"blocks","created_at":"2026-01-25T18:13:32.532055+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q19x","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-oxc6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-oxc6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.060196+01:00","updated_at":"2026-01-25T18:36:13.311519+01:00","closed_at":"2026-01-25T18:36:13.311521+01:00","dependencies":[{"issue_id":"rff-wisp-q19x","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.364393+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q19x","depends_on_id":"rff-wisp-lwg7","type":"blocks","created_at":"2026-01-25T18:31:35.712996+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q1xh","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.93353+01:00","updated_at":"2026-01-25T19:08:19.93353+01:00","dependencies":[{"issue_id":"rff-wisp-q1xh","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.326895+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q1xh","depends_on_id":"rff-wisp-6end","type":"blocks","created_at":"2026-01-25T19:08:20.897038+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q2c","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-dew\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.08931+01:00","updated_at":"2026-01-25T13:33:06.091046+01:00","closed_at":"2026-01-25T13:33:06.091047+01:00","dependencies":[{"issue_id":"rff-wisp-q2c","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.097116+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q2c","depends_on_id":"rff-wisp-4vq","type":"blocks","created_at":"2026-01-25T13:31:05.125977+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q3gp","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:24:21.606116+01:00","updated_at":"2026-01-25T16:29:40.779209+01:00","closed_at":"2026-01-25T16:29:40.779209+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-q4no","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-66nd)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-66nd\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.184449+01:00","updated_at":"2026-01-25T17:35:27.18445+01:00","dependencies":[{"issue_id":"rff-wisp-q4no","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.242978+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q4no","depends_on_id":"rff-wisp-zrwu","type":"blocks","created_at":"2026-01-25T17:35:27.438995+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q4v","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-7za).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-7za\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:30:32.721632+01:00","updated_at":"2026-01-25T13:30:32.721632+01:00","dependencies":[{"issue_id":"rff-wisp-q4v","depends_on_id":"rff-wisp-003","type":"parent-child","created_at":"2026-01-25T13:30:32.737508+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q4v","depends_on_id":"rff-wisp-4dl","type":"blocks","created_at":"2026-01-25T13:30:32.789298+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q7c","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-nlu)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-nlu\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.563158+01:00","updated_at":"2026-01-25T13:30:25.386848+01:00","closed_at":"2026-01-25T13:30:25.386848+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-q7c","depends_on_id":"rff-wisp-imw","type":"blocks","created_at":"2026-01-25T13:25:57.607701+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-q8nmq","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-twmya\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-twmya --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.122127+01:00","updated_at":"2026-01-25T20:36:51.122127+01:00","dependencies":[{"issue_id":"rff-wisp-q8nmq","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.98128+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-q8nmq","depends_on_id":"rff-wisp-o9sct","type":"blocks","created_at":"2026-01-25T20:36:52.915343+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qb20","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:31:27.269466+01:00","updated_at":"2026-01-25T17:31:27.269466+01:00","ephemeral":true}
{"id":"rff-wisp-qcdt","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-0no1h\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.884989+01:00","updated_at":"2026-01-25T20:32:13.88499+01:00","dependencies":[{"issue_id":"rff-wisp-qcdt","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.709184+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qcdt","depends_on_id":"rff-wisp-u3ne","type":"blocks","created_at":"2026-01-25T20:32:15.541806+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qcy1","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-3emw           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-3emw\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.607097+01:00","updated_at":"2026-01-25T16:25:35.265372+01:00","closed_at":"2026-01-25T16:25:35.265372+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-qcy1","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.612025+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qgf6","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-9wrf)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-9wrf\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.205321+01:00","updated_at":"2026-01-25T18:06:12.233462+01:00","closed_at":"2026-01-25T18:06:12.233462+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-qgf6","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.283079+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qgf6","depends_on_id":"rff-wisp-ozwo","type":"blocks","created_at":"2026-01-25T17:59:54.515464+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qhph","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.971218+01:00","updated_at":"2026-01-25T18:18:18.726479+01:00","closed_at":"2026-01-25T18:18:18.726479+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-qhph","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.144224+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qhph","depends_on_id":"rff-wisp-8l7f","type":"blocks","created_at":"2026-01-25T18:13:32.427988+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qi9","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-b5h           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-b5h\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.030951+01:00","updated_at":"2026-01-25T13:24:21.378961+01:00","closed_at":"2026-01-25T13:24:21.378961+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-qkwq","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.684178+01:00","updated_at":"2026-01-25T19:03:44.541493+01:00","closed_at":"2026-01-25T19:03:44.541495+01:00","dependencies":[{"issue_id":"rff-wisp-qkwq","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:33.116871+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qkwq","depends_on_id":"rff-wisp-m62f","type":"blocks","created_at":"2026-01-25T18:59:33.645049+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qljn","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-6910\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-6910 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.639907+01:00","updated_at":"2026-01-25T18:57:40.762657+01:00","closed_at":"2026-01-25T18:57:40.762657+01:00","close_reason":"Issue updated with completion notes","dependencies":[{"issue_id":"rff-wisp-qljn","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:08.048618+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qljn","depends_on_id":"rff-wisp-ps1o","type":"blocks","created_at":"2026-01-25T18:52:08.518053+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qn4g","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.329637+01:00","updated_at":"2026-01-25T20:22:39.329637+01:00","ephemeral":true}
{"id":"rff-wisp-qngo","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-d1cc\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.273135+01:00","updated_at":"2026-01-25T17:31:27.273135+01:00","dependencies":[{"issue_id":"rff-wisp-qngo","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.390865+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qngo","depends_on_id":"rff-wisp-srme","type":"blocks","created_at":"2026-01-25T17:31:27.511585+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qpv4","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-wair)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-wair\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:05:34.80404+01:00","updated_at":"2026-01-25T18:05:34.80404+01:00","dependencies":[{"issue_id":"rff-wisp-qpv4","depends_on_id":"rff-wisp-tl2d","type":"parent-child","created_at":"2026-01-25T18:05:34.891097+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qpv4","depends_on_id":"rff-wisp-xynw","type":"blocks","created_at":"2026-01-25T18:05:35.120587+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qqn3","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-6io6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-6io6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.501335+01:00","updated_at":"2026-01-25T18:04:38.929743+01:00","closed_at":"2026-01-25T18:04:38.929745+01:00","dependencies":[{"issue_id":"rff-wisp-qqn3","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.833893+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qqn3","depends_on_id":"rff-wisp-iina","type":"blocks","created_at":"2026-01-25T17:59:27.214075+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qt48","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:52:07.634544+01:00","updated_at":"2026-01-25T18:58:04.20459+01:00","closed_at":"2026-01-25T18:58:04.20459+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-qtu1","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-14ed           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-14ed\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.427851+01:00","updated_at":"2026-01-25T19:35:06.427851+01:00","dependencies":[{"issue_id":"rff-wisp-qtu1","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.433063+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qy8r","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-tuso should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.56794+01:00","updated_at":"2026-01-25T16:40:08.56794+01:00","dependencies":[{"issue_id":"rff-wisp-qy8r","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.594746+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-qzkb","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-m1v5\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-m1v5 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.428851+01:00","updated_at":"2026-01-25T18:57:30.428851+01:00","dependencies":[{"issue_id":"rff-wisp-qzkb","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.826128+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-qzkb","depends_on_id":"rff-wisp-1jkj","type":"blocks","created_at":"2026-01-25T18:57:31.289258+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-r046","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:05:34.805196+01:00","updated_at":"2026-01-25T18:05:34.805196+01:00","dependencies":[{"issue_id":"rff-wisp-r046","depends_on_id":"rff-wisp-tl2d","type":"parent-child","created_at":"2026-01-25T18:05:34.975101+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-r046","depends_on_id":"rff-wisp-laiv","type":"blocks","created_at":"2026-01-25T18:05:35.210419+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-r1ev","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-19ll           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-19ll\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.326698+01:00","updated_at":"2026-01-25T18:34:46.326698+01:00","dependencies":[{"issue_id":"rff-wisp-r1ev","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.330938+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-r1ku","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-3xr6\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-3xr6 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.910204+01:00","updated_at":"2026-01-25T19:16:30.910204+01:00","dependencies":[{"issue_id":"rff-wisp-r1ku","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.421697+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-r1ku","depends_on_id":"rff-wisp-1s1n","type":"blocks","created_at":"2026-01-25T19:16:32.010367+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-r25f","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:35:52.588406+01:00","updated_at":"2026-01-25T19:35:52.588406+01:00","ephemeral":true}
{"id":"rff-wisp-r47k","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cn7l           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cn7l\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.969182+01:00","updated_at":"2026-01-25T18:15:07.964348+01:00","closed_at":"2026-01-25T18:15:07.964348+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-r47k","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:31.972951+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-r6sb","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.211241+01:00","updated_at":"2026-01-25T16:35:31.211241+01:00","dependencies":[{"issue_id":"rff-wisp-r6sb","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.244346+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-r6sb","depends_on_id":"rff-wisp-y5oa","type":"blocks","created_at":"2026-01-25T16:35:31.294993+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-re1m","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ohdj should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.932416+01:00","updated_at":"2026-01-25T19:08:19.932416+01:00","dependencies":[{"issue_id":"rff-wisp-re1m","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.194291+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-re1m","depends_on_id":"rff-wisp-kagz","type":"blocks","created_at":"2026-01-25T19:08:20.762057+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-resh","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-y83pz\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.594312+01:00","updated_at":"2026-01-25T19:35:52.594312+01:00","dependencies":[{"issue_id":"rff-wisp-resh","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:53.325026+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-resh","depends_on_id":"rff-wisp-4jlh","type":"blocks","created_at":"2026-01-25T19:35:54.018666+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rh5k","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.484634+01:00","updated_at":"2026-01-25T16:32:56.484634+01:00","dependencies":[{"issue_id":"rff-wisp-rh5k","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.520087+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rh5k","depends_on_id":"rff-wisp-630r","type":"blocks","created_at":"2026-01-25T16:32:56.566557+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rha8","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-twmya\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:47.243152+01:00","updated_at":"2026-01-25T20:29:47.243152+01:00","dependencies":[{"issue_id":"rff-wisp-rha8","depends_on_id":"rff-wisp-hpvk","type":"parent-child","created_at":"2026-01-25T20:29:47.978944+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rha8","depends_on_id":"rff-wisp-dm1t","type":"blocks","created_at":"2026-01-25T20:29:48.71377+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rhfs","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:28:37.418994+01:00","updated_at":"2026-01-25T18:28:37.418994+01:00","ephemeral":true}
{"id":"rff-wisp-rinb","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.431155+01:00","updated_at":"2026-01-25T19:35:06.431155+01:00","dependencies":[{"issue_id":"rff-wisp-rinb","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.950634+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rinb","depends_on_id":"rff-wisp-1bb6","type":"blocks","created_at":"2026-01-25T19:35:07.62089+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rlo","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-dew\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-dew --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.091855+01:00","updated_at":"2026-01-25T13:39:28.491507+01:00","closed_at":"2026-01-25T13:39:28.491509+01:00","dependencies":[{"issue_id":"rff-wisp-rlo","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.118882+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rncr","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:06:56.321015+01:00","updated_at":"2026-01-25T18:06:56.321015+01:00","ephemeral":true}
{"id":"rff-wisp-ro3p","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cn7l)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cn7l\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:31.97045+01:00","updated_at":"2026-01-25T18:17:38.539573+01:00","closed_at":"2026-01-25T18:17:38.539573+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ro3p","depends_on_id":"rff-wisp-gc5z","type":"parent-child","created_at":"2026-01-25T18:13:32.075723+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ro3p","depends_on_id":"rff-wisp-p5sn","type":"blocks","created_at":"2026-01-25T18:13:32.358161+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rosa","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.454585+01:00","updated_at":"2026-01-25T19:53:05.454585+01:00","dependencies":[{"issue_id":"rff-wisp-rosa","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:05.840241+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rosa","depends_on_id":"rff-wisp-cf7m","type":"blocks","created_at":"2026-01-25T19:53:06.494008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rp0g","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-v9ykq).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-v9ykq\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.107603+01:00","updated_at":"2026-01-25T20:34:03.432611+01:00","closed_at":"2026-01-25T20:34:03.432613+01:00","dependencies":[{"issue_id":"rff-wisp-rp0g","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.300921+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rp0g","depends_on_id":"rff-wisp-0be5","type":"blocks","created_at":"2026-01-25T20:30:21.044571+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rp7a","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.582552+01:00","updated_at":"2026-01-25T20:23:52.582552+01:00","dependencies":[{"issue_id":"rff-wisp-rp7a","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:52.835116+01:00","created_by":"witness"},{"issue_id":"rff-wisp-rp7a","depends_on_id":"rff-wisp-6hgp","type":"blocks","created_at":"2026-01-25T20:23:53.579362+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-rvc6","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-b7jm should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.648455+01:00","updated_at":"2026-01-25T18:41:43.779984+01:00","closed_at":"2026-01-25T18:41:43.779984+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-rvc6","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.822568+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rvc6","depends_on_id":"rff-wisp-j65o","type":"blocks","created_at":"2026-01-25T18:30:50.159211+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ryxh","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-oxc6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:31:35.060966+01:00","updated_at":"2026-01-25T18:31:35.060967+01:00","dependencies":[{"issue_id":"rff-wisp-ryxh","depends_on_id":"rff-wisp-sld0","type":"parent-child","created_at":"2026-01-25T18:31:35.407223+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ryxh","depends_on_id":"rff-wisp-q19x","type":"blocks","created_at":"2026-01-25T18:31:35.757207+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rznj","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.638875+01:00","updated_at":"2026-01-25T18:56:49.708892+01:00","closed_at":"2026-01-25T18:56:49.708892+01:00","close_reason":"Build verified, no test target defined in project","dependencies":[{"issue_id":"rff-wisp-rznj","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.932138+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rznj","depends_on_id":"rff-wisp-d35r","type":"blocks","created_at":"2026-01-25T18:52:08.401034+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-rzrq","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-jbyu\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.955758+01:00","updated_at":"2026-01-25T17:55:18.955758+01:00","dependencies":[{"issue_id":"rff-wisp-rzrq","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.130132+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-rzrq","depends_on_id":"rff-wisp-ufbd","type":"blocks","created_at":"2026-01-25T17:55:19.305651+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-s2ux","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:50:11.545237+01:00","updated_at":"2026-01-25T18:56:31.748013+01:00","closed_at":"2026-01-25T18:56:31.748013+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-s42w","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.907355+01:00","updated_at":"2026-01-25T20:29:36.907355+01:00","dependencies":[{"issue_id":"rff-wisp-s42w","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.183922+01:00","created_by":"witness"},{"issue_id":"rff-wisp-s42w","depends_on_id":"rff-wisp-8uj0","type":"blocks","created_at":"2026-01-25T20:29:37.988881+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-s4nv","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.548649+01:00","updated_at":"2026-01-25T18:55:35.84684+01:00","closed_at":"2026-01-25T18:55:35.84684+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-s4nv","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.820069+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-s4nv","depends_on_id":"rff-wisp-3odx","type":"blocks","created_at":"2026-01-25T18:50:12.266578+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-s4y4","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-o18n\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.701844+01:00","updated_at":"2026-01-25T19:03:23.701844+01:00","dependencies":[{"issue_id":"rff-wisp-s4y4","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:23.768367+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-s4y4","depends_on_id":"rff-wisp-ms3t","type":"blocks","created_at":"2026-01-25T19:03:24.254005+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-s9yv","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.83856+01:00","updated_at":"2026-01-25T18:31:37.648978+01:00","closed_at":"2026-01-25T18:31:37.648981+01:00","dependencies":[{"issue_id":"rff-wisp-s9yv","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:50.074639+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-s9yv","depends_on_id":"rff-wisp-vqku","type":"blocks","created_at":"2026-01-25T18:26:50.391343+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-saob","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-tpoz)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-tpoz\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.175726+01:00","updated_at":"2026-01-25T19:09:23.175726+01:00","dependencies":[{"issue_id":"rff-wisp-saob","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.383349+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-saob","depends_on_id":"rff-wisp-22lc","type":"blocks","created_at":"2026-01-25T19:09:23.930432+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-saqb","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-u18g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.898351+01:00","updated_at":"2026-01-25T17:05:04.898351+01:00","dependencies":[{"issue_id":"rff-wisp-saqb","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.958945+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-saqb","depends_on_id":"rff-wisp-yq7i","type":"blocks","created_at":"2026-01-25T17:05:05.07341+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sbmx","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-o18n\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-o18n --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.704995+01:00","updated_at":"2026-01-25T19:03:23.704995+01:00","dependencies":[{"issue_id":"rff-wisp-sbmx","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:24.132305+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sbmx","depends_on_id":"rff-wisp-malz","type":"blocks","created_at":"2026-01-25T19:03:24.627021+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sen5","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-s0qo).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-s0qo\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:33:11.173239+01:00","updated_at":"2026-01-25T17:33:11.17324+01:00","dependencies":[{"issue_id":"rff-wisp-sen5","depends_on_id":"rff-wisp-4cwv","type":"parent-child","created_at":"2026-01-25T17:33:11.21165+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sen5","depends_on_id":"rff-wisp-i9m1","type":"blocks","created_at":"2026-01-25T17:33:11.347957+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sg69","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:24:59.640923+01:00","updated_at":"2026-01-25T20:24:59.640923+01:00","dependencies":[{"issue_id":"rff-wisp-sg69","depends_on_id":"rff-wisp-ngy7","type":"parent-child","created_at":"2026-01-25T20:25:00.011849+01:00","created_by":"rff/witness"},{"issue_id":"rff-wisp-sg69","depends_on_id":"rff-wisp-gkfm","type":"blocks","created_at":"2026-01-25T20:25:00.822801+01:00","created_by":"rff/witness"}],"ephemeral":true}
{"id":"rff-wisp-si3r","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-ohdj           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-ohdj\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.930192+01:00","updated_at":"2026-01-25T19:08:19.930192+01:00","dependencies":[{"issue_id":"rff-wisp-si3r","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:19.935401+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sijf","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-14ed\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.432261+01:00","updated_at":"2026-01-25T19:35:06.432262+01:00","dependencies":[{"issue_id":"rff-wisp-sijf","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:07.117089+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sijf","depends_on_id":"rff-wisp-l5ig","type":"blocks","created_at":"2026-01-25T19:35:07.787608+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sjg0","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-ze6v\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-ze6v --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.9279+01:00","updated_at":"2026-01-25T19:23:19.9279+01:00","dependencies":[{"issue_id":"rff-wisp-sjg0","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.526994+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sjg0","depends_on_id":"rff-wisp-1tr5","type":"blocks","created_at":"2026-01-25T19:23:21.198207+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sld0","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:31:35.056228+01:00","updated_at":"2026-01-25T18:36:29.801907+01:00","closed_at":"2026-01-25T18:36:29.801907+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-slp","title":"Inspect all active polecats","description":"Survey all polecats using agent beads (ZFC: trust what agents report).\n\n**Step 1: List polecat agent beads**\n\n```bash\nbd list --type=agent --json\n```\n\nFilter the JSON output for entries where description contains `role_type: polecat`.\nEach polecat agent bead has fields in its description:\n- `role_type: polecat`\n- `rig: \u003crig-name\u003e`\n- `agent_state: running|idle|stuck|done`\n- `hook_bead: \u003ccurrent-work-id\u003e`\n\n**Step 2: For each polecat, check agent_state**\n\n| agent_state | Meaning | Action |\n|-------------|---------|--------|\n| running | Actively working | Check progress (Step 3) |\n| idle | No work assigned | Auto-nuke if clean (Step 3a) |\n| stuck | Self-reported stuck | Handle stuck protocol |\n| done | Work complete | Verify cleanup triggered (see Step 4a) |\n\n**Step 3: For running polecats, assess progress**\n\nCheck the hook_bead field to see what they're working on:\n```bash\nbd show \u003chook_bead\u003e  # See current step/issue\n```\n\nYou can also verify they're responsive:\n```bash\ntmux capture-pane -t gt-\u003crig\u003e-\u003cname\u003e -p | tail -20\n```\n\nLook for:\n- Recent tool activity → making progress\n- Idle at prompt → may need nudge\n- Error messages → may need help\n\n**Step 3a: For idle polecats, auto-nuke if clean**\n\nWhen agent_state=idle, the polecat has no work assigned. Check if it's safe to nuke:\n\n```bash\n# Check git status in the polecat's worktree\ncd polecats/\u003cname\u003e\ngit status --porcelain         # Should be empty (clean)\ngit log origin/main..HEAD      # Should have no unpushed commits\n```\n\n**If clean** (no uncommitted changes, no unpushed commits):\n```bash\n# Safe to nuke - no work to lose\ngt polecat nuke \u003cname\u003e\n```\nLog the auto-nuke for audit purposes. No escalation needed.\n\n**If dirty** (uncommitted or unpushed work):\n```bash\n# Escalate to Mayor - polecat has work that might be valuable\ngt mail send mayor/ -s \\\"IDLE_DIRTY: \u003cpolecat\u003e has uncommitted work\\\" \\\n  -m \\\"Polecat: \u003cname\u003e\nState: idle (no hook_bead)\nGit status: \u003cuncommitted-files\u003e\nUnpushed commits: \u003ccount\u003e\n\nPlease advise: recover work or discard?\\\"\n```\n\n**Rationale**: Idle polecats with clean git state are pure overhead. They have\nno work and no state worth preserving. Nuking them immediately frees resources\nand reduces noise. Only escalate when there's actual work at risk.\n\n**Step 4: Decide action**\n\n| Observation | Action |\n|-------------|--------|\n| agent_state=running, recent activity | None |\n| agent_state=running, idle 5-15 min | Gentle nudge |\n| agent_state=running, idle 15+ min | Direct nudge with deadline |\n| agent_state=stuck | Assess and help or escalate |\n| agent_state=done | Verify cleanup triggered (see Step 4a) |\n\n**Step 4a: Handle agent_state=done**\n\nIn the ephemeral model, polecats with agent_state=done and cleanup_status=clean\nshould already be nuked by HandlePolecatDone. Finding one here indicates:\n\n1. **Stale agent bead** - polecat was nuked but bead remains\n   ```bash\n   # Verify polecat doesn't exist anymore\n   ls polecats/\u003cname\u003e 2\u003e/dev/null || echo \"Already nuked\"\n   ```\n   If nuked, the agent bead is stale. Clean it up or ignore.\n\n2. **Cleanup wisp exists** - polecat has dirty state needing intervention\n   ```bash\n   bd list --wisp --labels=polecat:\u003cname\u003e --status=open\n   ```\n   Process in process-cleanups step.\n\n3. **No wisp, polecat exists** - POLECAT_DONE mail was missed\n   Try auto-nuke directly (ephemeral model):\n   ```bash\n   # Check cleanup_status and nuke if clean\n   gt polecat nuke \u003cname\u003e  # Will fail if dirty\n   ```\n   If nuke fails (dirty state), create cleanup wisp for investigation.\n\n**Step 5: Execute nudges**\n```bash\ngt nudge \u003crig\u003e/polecats/\u003cname\u003e \"How's progress? Need help?\"\n```\n\n**Step 6: Escalate if needed**\n```bash\ngt mail send mayor/ -s \"Escalation: \u003cpolecat\u003e stuck\" \\\n  -m \"Polecat \u003cname\u003e reports stuck. Please intervene.\"\n```\n\n**Parallelism**: Use Task tool subagents to inspect multiple polecats concurrently.\n\n**ZFC Principle**: Trust agent_state from beads. Don't infer state from PID/tmux.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:29.559815+01:00","updated_at":"2026-01-25T13:21:29.559815+01:00","dependencies":[{"issue_id":"rff-wisp-slp","depends_on_id":"rff-wisp-drv","type":"parent-child","created_at":"2026-01-25T13:21:29.566576+01:00","created_by":"witness"},{"issue_id":"rff-wisp-slp","depends_on_id":"rff-wisp-2yo","type":"blocks","created_at":"2026-01-25T13:21:29.579648+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-snqf","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cfh0           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cfh0\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.946864+01:00","updated_at":"2026-01-25T16:59:35.946864+01:00","dependencies":[{"issue_id":"rff-wisp-snqf","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:35.95052+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-spoe","title":"Check if active swarm is complete","description":"If Mayor started a batch (SWARM_START), check if all polecats have completed.\n\n**Step 1: Find active swarm tracking wisps**\n```bash\nbd list --wisp --labels=swarm --status=open\n```\nIf no active swarm, skip this step.\n\n**Step 2: Count completed polecats for this swarm**\n\nExtract from wisp labels: swarm_id, total, completed, start timestamp.\nCheck how many cleanup wisps have been closed for this swarm's polecats.\n\n**Step 3: If all complete, notify Mayor**\n```bash\ngt mail send mayor/ -s \"SWARM_COMPLETE: \u003cswarm_id\u003e\" -m \"All \u003ctotal\u003e polecats merged.\nDuration: \u003cminutes\u003e minutes\nSwarm: \u003cswarm_id\u003e\"\n\n# Close the swarm tracking wisp\nbd close \u003cswarm-wisp-id\u003e --reason \"All polecats merged\"\n```\n\nNote: Runs every patrol cycle. Notification sent exactly once when all complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:52.583559+01:00","updated_at":"2026-01-25T20:23:52.58356+01:00","dependencies":[{"issue_id":"rff-wisp-spoe","depends_on_id":"rff-wisp-pk70","type":"parent-child","created_at":"2026-01-25T20:23:52.999276+01:00","created_by":"witness"},{"issue_id":"rff-wisp-spoe","depends_on_id":"rff-wisp-kxrq","type":"blocks","created_at":"2026-01-25T20:23:53.746718+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-sq6lj","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-8n36m\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.475477+01:00","updated_at":"2026-01-25T20:33:34.475477+01:00","dependencies":[{"issue_id":"rff-wisp-sq6lj","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:35.36611+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sq6lj","depends_on_id":"rff-wisp-kw6mo","type":"blocks","created_at":"2026-01-25T20:33:36.260194+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sr8s","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-u18g           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-u18g\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.660367+01:00","updated_at":"2026-01-25T17:03:37.660367+01:00","dependencies":[{"issue_id":"rff-wisp-sr8s","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.663906+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-srk3","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-5u9g\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:52:20.154971+01:00","updated_at":"2026-01-25T16:52:20.154971+01:00","dependencies":[{"issue_id":"rff-wisp-srk3","depends_on_id":"rff-wisp-cme3","type":"parent-child","created_at":"2026-01-25T16:52:20.16691+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-srk3","depends_on_id":"rff-wisp-nfhf","type":"blocks","created_at":"2026-01-25T16:52:20.240517+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-srme","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-d1cc\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-d1cc --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.27279+01:00","updated_at":"2026-01-25T17:31:27.27279+01:00","dependencies":[{"issue_id":"rff-wisp-srme","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.376117+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-srme","depends_on_id":"rff-wisp-kzob","type":"blocks","created_at":"2026-01-25T17:31:27.496014+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-stel","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-0enz\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.533175+01:00","updated_at":"2026-01-25T17:47:23.533175+01:00","dependencies":[{"issue_id":"rff-wisp-stel","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.686735+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-stel","depends_on_id":"rff-wisp-y2m6","type":"blocks","created_at":"2026-01-25T17:47:23.843273+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sudu","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-gcja)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-gcja\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.55857+01:00","updated_at":"2026-01-25T18:23:49.55857+01:00","dependencies":[{"issue_id":"rff-wisp-sudu","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.676186+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-sudu","depends_on_id":"rff-wisp-zt9a","type":"blocks","created_at":"2026-01-25T18:23:50.021673+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sv1k","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-cjpl           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-cjpl\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.603986+01:00","updated_at":"2026-01-25T18:42:19.593185+01:00","closed_at":"2026-01-25T18:42:19.593187+01:00","dependencies":[{"issue_id":"rff-wisp-sv1k","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.608451+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-svfu","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-ev2g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-ev2g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.924012+01:00","updated_at":"2026-01-25T18:15:49.924012+01:00","dependencies":[{"issue_id":"rff-wisp-svfu","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.031452+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-svfu","depends_on_id":"rff-wisp-pyvm","type":"blocks","created_at":"2026-01-25T18:15:50.317245+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-svja","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-u18g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-u18g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.897654+01:00","updated_at":"2026-01-25T17:05:04.897654+01:00","dependencies":[{"issue_id":"rff-wisp-svja","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.929168+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-svja","depends_on_id":"rff-wisp-ndeq","type":"blocks","created_at":"2026-01-25T17:05:05.043459+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-swf9","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-gcja\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.560573+01:00","updated_at":"2026-01-25T18:23:49.560573+01:00","dependencies":[{"issue_id":"rff-wisp-swf9","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.910034+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-swf9","depends_on_id":"rff-wisp-x261","type":"blocks","created_at":"2026-01-25T18:23:50.211336+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-sx8v","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-fxke           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-fxke\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.735436+01:00","updated_at":"2026-01-25T18:06:22.886221+01:00","closed_at":"2026-01-25T18:06:22.886221+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-sx8v","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.739273+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-symz","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.211775+01:00","updated_at":"2026-01-25T18:09:21.211775+01:00","dependencies":[{"issue_id":"rff-wisp-symz","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.396888+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-symz","depends_on_id":"rff-wisp-jmws","type":"blocks","created_at":"2026-01-25T18:09:21.644822+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-szx","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-vnt should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.009965+01:00","updated_at":"2026-01-25T13:31:11.382164+01:00","closed_at":"2026-01-25T13:31:11.382164+01:00","close_reason":"Self-review complete - fixed accuracy calculation bug in training script","dependencies":[{"issue_id":"rff-wisp-szx","depends_on_id":"rff-wisp-v8w","type":"blocks","created_at":"2026-01-25T13:23:46.054585+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-t1uu","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.590534+01:00","updated_at":"2026-01-25T19:56:34.689545+01:00","closed_at":"2026-01-25T19:56:34.689545+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-t1uu","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:13.033981+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-t1uu","depends_on_id":"rff-wisp-0quy","type":"blocks","created_at":"2026-01-25T19:37:13.794972+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-t3y9","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.225562+01:00","updated_at":"2026-01-25T19:05:29.202297+01:00","closed_at":"2026-01-25T19:05:29.202297+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-t3y9","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.517204+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-t3y9","depends_on_id":"rff-wisp-xqo6","type":"blocks","created_at":"2026-01-25T19:02:06.984463+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-t5of","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-y83pz should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.592126+01:00","updated_at":"2026-01-25T19:35:52.592126+01:00","dependencies":[{"issue_id":"rff-wisp-t5of","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:52.983222+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-t5of","depends_on_id":"rff-wisp-cm22","type":"blocks","created_at":"2026-01-25T19:35:53.670324+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-t8nm","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-5u9g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.707691+01:00","updated_at":"2026-01-25T17:00:52.707691+01:00","dependencies":[{"issue_id":"rff-wisp-t8nm","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.792926+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-t8nm","depends_on_id":"rff-wisp-cph0","type":"blocks","created_at":"2026-01-25T17:00:52.882282+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-t8wm","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ev2g\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.926701+01:00","updated_at":"2026-01-25T18:15:49.926701+01:00","dependencies":[{"issue_id":"rff-wisp-t8wm","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.209773+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-t8wm","depends_on_id":"rff-wisp-0q0f","type":"blocks","created_at":"2026-01-25T18:15:50.494368+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tdht","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.563288+01:00","updated_at":"2026-01-25T16:33:20.563288+01:00","dependencies":[{"issue_id":"rff-wisp-tdht","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.595086+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tdht","depends_on_id":"rff-wisp-kgtd","type":"blocks","created_at":"2026-01-25T16:33:20.643708+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tdok","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-8iy7 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.48397+01:00","updated_at":"2026-01-25T16:32:56.48397+01:00","dependencies":[{"issue_id":"rff-wisp-tdok","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.508765+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tdok","depends_on_id":"rff-wisp-ywkl","type":"blocks","created_at":"2026-01-25T16:32:56.554617+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tf41","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T19:02:06.221886+01:00","updated_at":"2026-01-25T19:06:22.324463+01:00","closed_at":"2026-01-25T19:06:22.324463+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-tirv","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-m1v5).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-m1v5\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:57:30.426328+01:00","updated_at":"2026-01-25T18:57:30.426328+01:00","dependencies":[{"issue_id":"rff-wisp-tirv","depends_on_id":"rff-wisp-pcdm","type":"parent-child","created_at":"2026-01-25T18:57:30.542807+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tirv","depends_on_id":"rff-wisp-o458","type":"blocks","created_at":"2026-01-25T18:57:30.998974+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tj2m","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:34:44.012169+01:00","updated_at":"2026-01-25T16:34:44.012169+01:00","dependencies":[{"issue_id":"rff-wisp-tj2m","depends_on_id":"rff-wisp-ug0m","type":"parent-child","created_at":"2026-01-25T16:34:44.045057+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tj2m","depends_on_id":"rff-wisp-g21m","type":"blocks","created_at":"2026-01-25T16:34:44.095752+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tj8o","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:15:49.924785+01:00","updated_at":"2026-01-25T18:15:49.924785+01:00","dependencies":[{"issue_id":"rff-wisp-tj8o","depends_on_id":"rff-wisp-1ejs","type":"parent-child","created_at":"2026-01-25T18:15:50.104059+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tj8o","depends_on_id":"rff-wisp-2ykd","type":"blocks","created_at":"2026-01-25T18:15:50.387571+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tknn","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-d1cc\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:31:27.270602+01:00","updated_at":"2026-01-25T17:31:27.270602+01:00","dependencies":[{"issue_id":"rff-wisp-tknn","depends_on_id":"rff-wisp-qb20","type":"parent-child","created_at":"2026-01-25T17:31:27.288773+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tknn","depends_on_id":"rff-wisp-f15o","type":"blocks","created_at":"2026-01-25T17:31:27.405558+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tl2d","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:05:34.802051+01:00","updated_at":"2026-01-25T18:05:34.802051+01:00","ephemeral":true}
{"id":"rff-wisp-tlnu","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-ylt5 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:58:40.781634+01:00","updated_at":"2026-01-25T17:58:40.781634+01:00","dependencies":[{"issue_id":"rff-wisp-tlnu","depends_on_id":"rff-wisp-vy6j","type":"parent-child","created_at":"2026-01-25T17:58:40.876139+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tlnu","depends_on_id":"rff-wisp-hu1a","type":"blocks","created_at":"2026-01-25T17:58:41.068804+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tlth","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-t43h)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-t43h\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:17:56.751368+01:00","updated_at":"2026-01-25T18:17:56.751368+01:00","dependencies":[{"issue_id":"rff-wisp-tlth","depends_on_id":"rff-wisp-98do","type":"parent-child","created_at":"2026-01-25T18:17:56.865635+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tlth","depends_on_id":"rff-wisp-9phe","type":"blocks","created_at":"2026-01-25T18:17:57.163611+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tnjk","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-qids\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-qids --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.542198+01:00","updated_at":"2026-01-25T14:19:48.542198+01:00","dependencies":[{"issue_id":"rff-wisp-tnjk","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.566139+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tnjk","depends_on_id":"rff-wisp-nlhq","type":"blocks","created_at":"2026-01-25T14:19:48.593012+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tr0w","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:32:56.480949+01:00","updated_at":"2026-01-25T16:32:56.480949+01:00","ephemeral":true}
{"id":"rff-wisp-tr1","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-bvp).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-bvp\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.739761+01:00","updated_at":"2026-01-25T13:24:48.546919+01:00","closed_at":"2026-01-25T13:24:48.546919+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-tr1","depends_on_id":"rff-wisp-dpb","type":"blocks","created_at":"2026-01-25T13:22:26.764008+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tr5","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-1jzo)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-1jzo\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.211647+01:00","updated_at":"2026-01-25T13:53:20.569911+01:00","closed_at":"2026-01-25T13:53:20.569911+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-tr5","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.221319+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tr5","depends_on_id":"rff-wisp-frw","type":"blocks","created_at":"2026-01-25T13:49:00.240898+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-trfq","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-70k6           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-70k6\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.209287+01:00","updated_at":"2026-01-25T18:09:21.209287+01:00","dependencies":[{"issue_id":"rff-wisp-trfq","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.213565+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-twfq","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.328988+01:00","updated_at":"2026-01-25T16:40:46.328988+01:00","dependencies":[{"issue_id":"rff-wisp-twfq","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.377771+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-twfq","depends_on_id":"rff-wisp-uxp0","type":"blocks","created_at":"2026-01-25T16:40:46.438861+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-tws6","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-3emw\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.607584+01:00","updated_at":"2026-01-25T16:25:59.253567+01:00","closed_at":"2026-01-25T16:25:59.253567+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-tws6","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.618364+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-tws6","depends_on_id":"rff-wisp-qcy1","type":"blocks","created_at":"2026-01-25T16:24:21.673029+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u0x","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-b5h should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.032453+01:00","updated_at":"2026-01-25T13:27:12.413486+01:00","closed_at":"2026-01-25T13:27:12.413486+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-u0x","depends_on_id":"rff-wisp-8mc","type":"blocks","created_at":"2026-01-25T13:23:15.070963+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u1kc","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-35ho should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.774719+01:00","updated_at":"2026-01-25T14:19:23.774719+01:00","dependencies":[{"issue_id":"rff-wisp-u1kc","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.791312+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u1kc","depends_on_id":"rff-wisp-y0i","type":"blocks","created_at":"2026-01-25T14:19:23.81598+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u3di","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:49:20.826601+01:00","updated_at":"2026-01-25T18:54:46.349386+01:00","closed_at":"2026-01-25T18:54:46.349386+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-u3ne","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-0no1h\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-0no1h --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:13.884487+01:00","updated_at":"2026-01-25T20:32:13.884487+01:00","dependencies":[{"issue_id":"rff-wisp-u3ne","depends_on_id":"rff-wisp-vmh9","type":"parent-child","created_at":"2026-01-25T20:32:14.600954+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u3ne","depends_on_id":"rff-wisp-nx87","type":"blocks","created_at":"2026-01-25T20:32:15.436454+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u4hs","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-70k6)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-70k6\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.210568+01:00","updated_at":"2026-01-25T18:09:21.210568+01:00","dependencies":[{"issue_id":"rff-wisp-u4hs","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.305189+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u4hs","depends_on_id":"rff-wisp-8uwh","type":"blocks","created_at":"2026-01-25T18:09:21.551518+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u6c5","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:54.206455+01:00","updated_at":"2026-01-25T18:07:40.631138+01:00","closed_at":"2026-01-25T18:07:40.631138+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-u6c5","depends_on_id":"rff-wisp-om9p","type":"parent-child","created_at":"2026-01-25T17:59:54.362522+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u6c5","depends_on_id":"rff-wisp-5uzm","type":"blocks","created_at":"2026-01-25T17:59:54.592422+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u7s","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-qids\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.125554+01:00","updated_at":"2026-01-25T14:27:01.551525+01:00","dependencies":[{"issue_id":"rff-wisp-u7s","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.147262+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u7s","depends_on_id":"rff-wisp-p1m","type":"blocks","created_at":"2026-01-25T14:14:51.169779+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-u7tr","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ktnq\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.807443+01:00","updated_at":"2026-01-25T19:37:41.397701+01:00","dependencies":[{"issue_id":"rff-wisp-u7tr","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:04.442631+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-u7tr","depends_on_id":"rff-wisp-d4lf","type":"blocks","created_at":"2026-01-25T19:28:05.084367+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uaks","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:33:20.56258+01:00","updated_at":"2026-01-25T16:33:20.56258+01:00","dependencies":[{"issue_id":"rff-wisp-uaks","depends_on_id":"rff-wisp-yjgj","type":"parent-child","created_at":"2026-01-25T16:33:20.582909+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uaks","depends_on_id":"rff-wisp-g8j0","type":"blocks","created_at":"2026-01-25T16:33:20.631166+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-udgh","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.529769+01:00","updated_at":"2026-01-25T19:19:33.529769+01:00","dependencies":[{"issue_id":"rff-wisp-udgh","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.914279+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-udgh","depends_on_id":"rff-wisp-zl7x","type":"blocks","created_at":"2026-01-25T19:19:34.531852+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uer6","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ohdj).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ohdj\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:08:19.931277+01:00","updated_at":"2026-01-25T19:08:19.931277+01:00","dependencies":[{"issue_id":"rff-wisp-uer6","depends_on_id":"rff-wisp-97dz","type":"parent-child","created_at":"2026-01-25T19:08:20.065548+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uer6","depends_on_id":"rff-wisp-n2ur","type":"blocks","created_at":"2026-01-25T19:08:20.628653+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uf37","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-wair)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-wair\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:12:54.540844+01:00","updated_at":"2026-01-25T18:20:31.924748+01:00","closed_at":"2026-01-25T18:20:31.924749+01:00","dependencies":[{"issue_id":"rff-wisp-uf37","depends_on_id":"rff-wisp-1fqs","type":"parent-child","created_at":"2026-01-25T18:12:54.643022+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uf37","depends_on_id":"rff-wisp-c1rz","type":"blocks","created_at":"2026-01-25T18:12:54.911024+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ufbd","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-jbyu\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-jbyu --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.955394+01:00","updated_at":"2026-01-25T17:55:18.955394+01:00","dependencies":[{"issue_id":"rff-wisp-ufbd","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.108365+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ufbd","depends_on_id":"rff-wisp-wd65","type":"blocks","created_at":"2026-01-25T17:55:19.282973+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ufii","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.775377+01:00","updated_at":"2026-01-25T14:19:23.775377+01:00","dependencies":[{"issue_id":"rff-wisp-ufii","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.797601+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ug0m","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:34:44.009663+01:00","updated_at":"2026-01-25T16:39:39.094097+01:00","closed_at":"2026-01-25T16:39:39.094097+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-ugv","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-nlu).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-nlu\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:50.739907+01:00","updated_at":"2026-01-25T13:22:50.739907+01:00","dependencies":[{"issue_id":"rff-wisp-ugv","depends_on_id":"rff-wisp-9ep","type":"blocks","created_at":"2026-01-25T13:22:50.767996+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ui2d","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.029899+01:00","updated_at":"2026-01-25T19:03:56.029899+01:00","dependencies":[{"issue_id":"rff-wisp-ui2d","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.435455+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ui2d","depends_on_id":"rff-wisp-5vxl","type":"blocks","created_at":"2026-01-25T19:03:57.006148+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uisf","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-bcix4\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:53:05.456361+01:00","updated_at":"2026-01-25T19:53:05.456361+01:00","dependencies":[{"issue_id":"rff-wisp-uisf","depends_on_id":"rff-wisp-lvg5","type":"parent-child","created_at":"2026-01-25T19:53:06.073162+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uisf","depends_on_id":"rff-wisp-3cov","type":"blocks","created_at":"2026-01-25T19:53:06.776285+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uiw","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-dew should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:31:05.090541+01:00","updated_at":"2026-01-25T13:38:39.159303+01:00","closed_at":"2026-01-25T13:38:39.159305+01:00","dependencies":[{"issue_id":"rff-wisp-uiw","depends_on_id":"rff-wisp-vod","type":"parent-child","created_at":"2026-01-25T13:31:05.107883+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uiw","depends_on_id":"rff-wisp-54k","type":"blocks","created_at":"2026-01-25T13:31:05.13726+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ujlo","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.735392+01:00","updated_at":"2026-01-25T20:31:40.735392+01:00","dependencies":[{"issue_id":"rff-wisp-ujlo","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.243396+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ujlo","depends_on_id":"rff-wisp-x5vc","type":"blocks","created_at":"2026-01-25T20:31:42.045634+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ujo4","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.9625+01:00","updated_at":"2026-01-25T18:21:11.235114+01:00","closed_at":"2026-01-25T18:21:11.235114+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ujo4","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.149175+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ujo4","depends_on_id":"rff-wisp-dhuj","type":"blocks","created_at":"2026-01-25T18:16:31.447658+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-upfe","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:57.595303+01:00","updated_at":"2026-01-25T16:31:36.275107+01:00","closed_at":"2026-01-25T16:31:36.275109+01:00","dependencies":[{"issue_id":"rff-wisp-upfe","depends_on_id":"rff-wisp-e4ma","type":"blocks","created_at":"2026-01-25T16:23:57.641431+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uqgl","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-n2ly\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:16:30.960794+01:00","updated_at":"2026-01-25T18:17:52.784914+01:00","closed_at":"2026-01-25T18:17:52.784914+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-uqgl","depends_on_id":"rff-wisp-vqse","type":"parent-child","created_at":"2026-01-25T18:16:31.00218+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uqgl","depends_on_id":"rff-wisp-6l9j","type":"blocks","created_at":"2026-01-25T18:16:31.303603+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ut66","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ktnq).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ktnq\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:28:03.803714+01:00","updated_at":"2026-01-25T19:30:49.502741+01:00","closed_at":"2026-01-25T19:30:49.502741+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-ut66","depends_on_id":"rff-wisp-49xk","type":"parent-child","created_at":"2026-01-25T19:28:03.967697+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ut66","depends_on_id":"rff-wisp-a9je","type":"blocks","created_at":"2026-01-25T19:28:04.601685+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uvfu","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cn7l\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cn7l --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:06:56.324745+01:00","updated_at":"2026-01-25T18:06:56.324745+01:00","dependencies":[{"issue_id":"rff-wisp-uvfu","depends_on_id":"rff-wisp-rncr","type":"parent-child","created_at":"2026-01-25T18:06:56.530532+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uvfu","depends_on_id":"rff-wisp-3vi8","type":"blocks","created_at":"2026-01-25T18:06:56.785103+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-uxp0","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.328485+01:00","updated_at":"2026-01-25T16:40:46.328485+01:00","dependencies":[{"issue_id":"rff-wisp-uxp0","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.370165+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-uxp0","depends_on_id":"rff-wisp-93qu","type":"blocks","created_at":"2026-01-25T16:40:46.430817+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-v1r5","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:31:40.731548+01:00","updated_at":"2026-01-25T20:31:40.731548+01:00","ephemeral":true}
{"id":"rff-wisp-v2ep","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cn7l\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:42.458161+01:00","updated_at":"2026-01-25T18:10:42.458161+01:00","dependencies":[{"issue_id":"rff-wisp-v2ep","depends_on_id":"rff-wisp-9gep","type":"parent-child","created_at":"2026-01-25T18:10:42.493634+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-v2ep","depends_on_id":"rff-wisp-k9bt","type":"blocks","created_at":"2026-01-25T18:10:42.750285+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-v666","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-v9ykq should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.109087+01:00","updated_at":"2026-01-25T20:30:20.109087+01:00","dependencies":[{"issue_id":"rff-wisp-v666","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.486922+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-v666","depends_on_id":"rff-wisp-xjd8","type":"blocks","created_at":"2026-01-25T20:30:21.232321+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-v8w","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-vnt)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-vnt\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.009661+01:00","updated_at":"2026-01-25T13:30:18.152547+01:00","closed_at":"2026-01-25T13:30:18.152547+01:00","close_reason":"Implementation complete - document classifier with CreateML, training tool, and async API","dependencies":[{"issue_id":"rff-wisp-v8w","depends_on_id":"rff-wisp-xo5","type":"blocks","created_at":"2026-01-25T13:23:46.051034+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vag0","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-8n36m           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-8n36m\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.470772+01:00","updated_at":"2026-01-25T20:35:42.66731+01:00","closed_at":"2026-01-25T20:35:42.66731+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-vag0","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:34.476367+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-valx","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.327371+01:00","updated_at":"2026-01-25T16:40:46.327371+01:00","dependencies":[{"issue_id":"rff-wisp-valx","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.345757+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-valx","depends_on_id":"rff-wisp-mbj0","type":"blocks","created_at":"2026-01-25T16:40:46.408334+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vc6d","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.948658+01:00","updated_at":"2026-01-25T16:59:35.948658+01:00","dependencies":[{"issue_id":"rff-wisp-vc6d","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:36.00108+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vc6d","depends_on_id":"rff-wisp-g74s","type":"blocks","created_at":"2026-01-25T16:59:36.085734+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-veyk","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-u18g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:03:37.66197+01:00","updated_at":"2026-01-25T17:03:37.66197+01:00","dependencies":[{"issue_id":"rff-wisp-veyk","depends_on_id":"rff-wisp-8lcr","type":"parent-child","created_at":"2026-01-25T17:03:37.712824+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-veyk","depends_on_id":"rff-wisp-89sc","type":"blocks","created_at":"2026-01-25T17:03:37.813163+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vht5","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cjpl\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.604459+01:00","updated_at":"2026-01-25T18:42:29.318718+01:00","closed_at":"2026-01-25T18:42:29.318719+01:00","dependencies":[{"issue_id":"rff-wisp-vht5","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.654542+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vht5","depends_on_id":"rff-wisp-sv1k","type":"blocks","created_at":"2026-01-25T18:39:33.013309+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vifp","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:00:52.706796+01:00","updated_at":"2026-01-25T17:00:52.706796+01:00","dependencies":[{"issue_id":"rff-wisp-vifp","depends_on_id":"rff-wisp-kwbq","type":"parent-child","created_at":"2026-01-25T17:00:52.771227+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vifp","depends_on_id":"rff-wisp-115s","type":"blocks","created_at":"2026-01-25T17:00:52.859729+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vk1v","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.559788+01:00","updated_at":"2026-01-25T18:23:49.559788+01:00","dependencies":[{"issue_id":"rff-wisp-vk1v","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.831549+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vk1v","depends_on_id":"rff-wisp-fzqv","type":"blocks","created_at":"2026-01-25T18:23:50.134424+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vmh9","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:32:13.880015+01:00","updated_at":"2026-01-25T20:32:13.880015+01:00","ephemeral":true}
{"id":"rff-wisp-vnsd","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:34.994946+01:00","updated_at":"2026-01-25T16:30:34.994946+01:00","dependencies":[{"issue_id":"rff-wisp-vnsd","depends_on_id":"rff-wisp-5428","type":"parent-child","created_at":"2026-01-25T16:30:35.038636+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vnsd","depends_on_id":"rff-wisp-zvlz","type":"blocks","created_at":"2026-01-25T16:30:35.08228+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vod","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T13:31:05.087594+01:00","updated_at":"2026-01-25T13:40:23.084013+01:00","closed_at":"2026-01-25T13:40:23.084013+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-vod6","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:29:40.309163+01:00","updated_at":"2026-01-25T16:29:40.309163+01:00","ephemeral":true}
{"id":"rff-wisp-vov5","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-cfh0\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.875852+01:00","updated_at":"2026-01-25T16:54:25.875852+01:00","dependencies":[{"issue_id":"rff-wisp-vov5","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.946411+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vov5","depends_on_id":"rff-wisp-id7b","type":"blocks","created_at":"2026-01-25T16:54:26.019889+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vq01","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.685067+01:00","updated_at":"2026-01-25T19:05:54.47344+01:00","closed_at":"2026-01-25T19:05:54.473443+01:00","dependencies":[{"issue_id":"rff-wisp-vq01","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:33.192289+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vq01","depends_on_id":"rff-wisp-qkwq","type":"blocks","created_at":"2026-01-25T18:59:33.708986+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vqku","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.838073+01:00","updated_at":"2026-01-25T18:31:21.859097+01:00","closed_at":"2026-01-25T18:31:21.859099+01:00","dependencies":[{"issue_id":"rff-wisp-vqku","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:50.036112+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vqku","depends_on_id":"rff-wisp-1guv","type":"blocks","created_at":"2026-01-25T18:26:50.352049+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vqob","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cjh5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cjh5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.791985+01:00","updated_at":"2026-01-25T20:30:52.791986+01:00","dependencies":[{"issue_id":"rff-wisp-vqob","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:53.083773+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vqob","depends_on_id":"rff-wisp-f1vx","type":"blocks","created_at":"2026-01-25T20:30:53.848792+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vqse","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:16:30.959326+01:00","updated_at":"2026-01-25T18:22:35.909125+01:00","closed_at":"2026-01-25T18:22:35.909125+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-vt7","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-35ho           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-35ho\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.77332+01:00","updated_at":"2026-01-25T14:19:23.77332+01:00","dependencies":[{"issue_id":"rff-wisp-vt7","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.776553+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vvt","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-air           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-air\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.93005+01:00","updated_at":"2026-01-25T13:00:27.93005+01:00","ephemeral":true}
{"id":"rff-wisp-vwhg","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cfh0\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:54:25.873548+01:00","updated_at":"2026-01-25T16:54:25.873548+01:00","dependencies":[{"issue_id":"rff-wisp-vwhg","depends_on_id":"rff-wisp-jfio","type":"parent-child","created_at":"2026-01-25T16:54:25.885362+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vwhg","depends_on_id":"rff-wisp-enqh","type":"blocks","created_at":"2026-01-25T16:54:25.955337+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vy6j","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T17:58:40.779141+01:00","updated_at":"2026-01-25T17:58:40.779141+01:00","ephemeral":true}
{"id":"rff-wisp-vyal","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-m3m1)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-m3m1\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.15369+01:00","updated_at":"2026-01-25T19:24:28.783816+01:00","closed_at":"2026-01-25T19:24:28.783818+01:00","dependencies":[{"issue_id":"rff-wisp-vyal","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.365914+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-vyal","depends_on_id":"rff-wisp-whde","type":"blocks","created_at":"2026-01-25T19:13:35.929161+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vyg","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-air\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.930441+01:00","updated_at":"2026-01-25T13:00:27.930441+01:00","dependencies":[{"issue_id":"rff-wisp-vyg","depends_on_id":"rff-wisp-vvt","type":"blocks","created_at":"2026-01-25T13:00:27.945264+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vz86","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.312713+01:00","updated_at":"2026-01-25T16:29:40.312713+01:00","dependencies":[{"issue_id":"rff-wisp-vz86","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.34189+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-vzf","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-bvp should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:22:26.740624+01:00","updated_at":"2026-01-25T13:27:41.296033+01:00","closed_at":"2026-01-25T13:27:41.296033+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-vzf","depends_on_id":"rff-wisp-e8j","type":"blocks","created_at":"2026-01-25T13:22:26.768969+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-w0qd","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-b7jm\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:30:49.650105+01:00","updated_at":"2026-01-25T18:43:40.080557+01:00","dependencies":[{"issue_id":"rff-wisp-w0qd","depends_on_id":"rff-wisp-a546","type":"parent-child","created_at":"2026-01-25T18:30:49.993686+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-w0qd","depends_on_id":"rff-wisp-53ol","type":"blocks","created_at":"2026-01-25T18:30:50.327264+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-w0tn","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.08237+01:00","updated_at":"2026-01-25T16:51:09.08237+01:00","dependencies":[{"issue_id":"rff-wisp-w0tn","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.13033+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-w0tn","depends_on_id":"rff-wisp-cbpp","type":"blocks","created_at":"2026-01-25T16:51:09.19455+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-w6jd","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.185719+01:00","updated_at":"2026-01-25T17:35:27.185719+01:00","dependencies":[{"issue_id":"rff-wisp-w6jd","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.307686+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-w6jd","depends_on_id":"rff-wisp-dcc8","type":"blocks","created_at":"2026-01-25T17:35:27.512585+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-w6oq","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T18:39:32.603157+01:00","updated_at":"2026-01-25T18:43:40.898259+01:00","closed_at":"2026-01-25T18:43:40.898259+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-w9wy","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.568575+01:00","updated_at":"2026-01-25T16:40:08.568575+01:00","dependencies":[{"issue_id":"rff-wisp-w9wy","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.607874+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-w9wy","depends_on_id":"rff-wisp-x7jc","type":"blocks","created_at":"2026-01-25T16:40:08.660839+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wd65","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:55:18.955013+01:00","updated_at":"2026-01-25T17:55:18.955013+01:00","dependencies":[{"issue_id":"rff-wisp-wd65","depends_on_id":"rff-wisp-ijsa","type":"parent-child","created_at":"2026-01-25T17:55:19.086245+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wd65","depends_on_id":"rff-wisp-j1rr","type":"blocks","created_at":"2026-01-25T17:55:19.26099+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wfti","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.326225+01:00","updated_at":"2026-01-25T20:22:39.326225+01:00","dependencies":[{"issue_id":"rff-wisp-wfti","depends_on_id":"rff-wisp-5ijx","type":"blocks","created_at":"2026-01-25T20:22:40.252966+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-wgj9","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-558uj\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-558uj --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:23:58.348707+01:00","updated_at":"2026-01-25T20:23:58.348707+01:00","dependencies":[{"issue_id":"rff-wisp-wgj9","depends_on_id":"rff-wisp-6swd","type":"parent-child","created_at":"2026-01-25T20:23:58.958176+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wgj9","depends_on_id":"rff-wisp-lpxr","type":"blocks","created_at":"2026-01-25T20:23:59.648112+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wgzx","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-1pz6\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.903498+01:00","updated_at":"2026-01-25T18:34:17.624146+01:00","closed_at":"2026-01-25T18:34:17.624146+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-wgzx","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:18.952543+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wgzx","depends_on_id":"rff-wisp-cf8v","type":"blocks","created_at":"2026-01-25T18:32:19.376134+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-whcy","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:04:53.737875+01:00","updated_at":"2026-01-25T18:12:36.869274+01:00","closed_at":"2026-01-25T18:12:36.869274+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-whcy","depends_on_id":"rff-wisp-1mto","type":"parent-child","created_at":"2026-01-25T18:04:53.9033+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-whcy","depends_on_id":"rff-wisp-o7yv","type":"blocks","created_at":"2026-01-25T18:04:54.152335+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-whde","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-m3m1).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-m3m1\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.153138+01:00","updated_at":"2026-01-25T19:25:53.642972+01:00","closed_at":"2026-01-25T19:25:53.642974+01:00","dependencies":[{"issue_id":"rff-wisp-whde","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.29532+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-whde","depends_on_id":"rff-wisp-1f0t","type":"blocks","created_at":"2026-01-25T19:13:35.858649+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wlatz","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-twmya)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-twmya\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:36:51.11989+01:00","updated_at":"2026-01-25T20:36:51.119891+01:00","dependencies":[{"issue_id":"rff-wisp-wlatz","depends_on_id":"rff-wisp-zu6r9","type":"parent-child","created_at":"2026-01-25T20:36:51.487022+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wlatz","depends_on_id":"rff-wisp-pgmgy","type":"blocks","created_at":"2026-01-25T20:36:52.441296+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wm1g","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-3xr6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:16:30.910744+01:00","updated_at":"2026-01-25T19:16:30.910744+01:00","dependencies":[{"issue_id":"rff-wisp-wm1g","depends_on_id":"rff-wisp-d10i","type":"parent-child","created_at":"2026-01-25T19:16:31.494376+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wm1g","depends_on_id":"rff-wisp-r1ku","type":"blocks","created_at":"2026-01-25T19:16:32.084823+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wm68","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-19ll).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-19ll\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.327662+01:00","updated_at":"2026-01-25T18:34:46.327662+01:00","dependencies":[{"issue_id":"rff-wisp-wm68","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.422036+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wm68","depends_on_id":"rff-wisp-y8wm","type":"blocks","created_at":"2026-01-25T18:34:46.822093+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wmi","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-1jzo\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-1jzo --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:49:00.212942+01:00","updated_at":"2026-01-25T13:55:22.152141+01:00","closed_at":"2026-01-25T13:55:22.152141+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-wmi","depends_on_id":"rff-wisp-g2k","type":"parent-child","created_at":"2026-01-25T13:49:00.230827+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wolk","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.31927+01:00","updated_at":"2026-01-25T16:44:55.31927+01:00","dependencies":[{"issue_id":"rff-wisp-wolk","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.372264+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wolk","depends_on_id":"rff-wisp-bv9a","type":"blocks","created_at":"2026-01-25T16:44:55.43926+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wox","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   │                          │                           │\n   │ MERGE_READY              │                           │\n   │─────────────────────────\u003e│                           │\n   │                          │                           │\n   │                    (verify branch)                   │\n   │                          │ fetch \u0026 rebase            │\n   │                          │──────────────────────────\u003e│\n   │                          │                           │\n   │                    (run tests)                       │\n   │                          │                           │\n   │                    (if pass)                         │\n   │                          │ merge \u0026 push              │\n   │                          │──────────────────────────\u003e│\n   │                          │                           │\n   │ MERGED                   │                           │\n   │\u003c─────────────────────────│                           │\n   │                          │                           │\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"closed","priority":2,"issue_type":"epic","assignee":"rff/refinery","created_at":"2026-01-25T13:00:32.51623+01:00","updated_at":"2026-01-25T20:27:15.968354+01:00","closed_at":"2026-01-25T20:27:15.968356+01:00","ephemeral":true}
{"id":"rff-wisp-wt8s","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-la8j\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-la8j --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.226766+01:00","updated_at":"2026-01-25T19:05:52.248762+01:00","closed_at":"2026-01-25T19:05:52.248762+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-wt8s","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.632973+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wt8s","depends_on_id":"rff-wisp-4yae","type":"blocks","created_at":"2026-01-25T19:02:07.105639+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wucx","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-cfh0).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-cfh0\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:59:35.947583+01:00","updated_at":"2026-01-25T16:59:35.947583+01:00","dependencies":[{"issue_id":"rff-wisp-wucx","depends_on_id":"rff-wisp-9b7h","type":"parent-child","created_at":"2026-01-25T16:59:35.97099+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wucx","depends_on_id":"rff-wisp-9s0u","type":"blocks","created_at":"2026-01-25T16:59:36.052787+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wvn0","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-0gnv\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:23:35.024779+01:00","updated_at":"2026-01-25T16:23:35.024779+01:00","dependencies":[{"issue_id":"rff-wisp-wvn0","depends_on_id":"rff-wisp-5vx9","type":"parent-child","created_at":"2026-01-25T16:23:35.049013+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wvx","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-qids)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-qids\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:14:51.123896+01:00","updated_at":"2026-01-25T14:19:00.962289+01:00","closed_at":"2026-01-25T14:19:00.962289+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-wvx","depends_on_id":"rff-wisp-5za","type":"parent-child","created_at":"2026-01-25T14:14:51.134168+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wvx","depends_on_id":"rff-wisp-eri","type":"blocks","created_at":"2026-01-25T14:14:51.155453+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wwb1","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-6io6).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-6io6\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T17:59:26.499455+01:00","updated_at":"2026-01-25T18:01:23.491542+01:00","closed_at":"2026-01-25T18:01:23.491544+01:00","dependencies":[{"issue_id":"rff-wisp-wwb1","depends_on_id":"rff-wisp-judc","type":"parent-child","created_at":"2026-01-25T17:59:26.562785+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wwb1","depends_on_id":"rff-wisp-dp71","type":"blocks","created_at":"2026-01-25T17:59:26.968528+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-wzus","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-qids\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:48.542532+01:00","updated_at":"2026-01-25T14:19:48.542532+01:00","dependencies":[{"issue_id":"rff-wisp-wzus","depends_on_id":"rff-wisp-z92h","type":"parent-child","created_at":"2026-01-25T14:19:48.56913+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-wzus","depends_on_id":"rff-wisp-tnjk","type":"blocks","created_at":"2026-01-25T14:19:48.596499+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x11x","title":"Ping Deacon for health check","description":"Send WITNESS_PING to Deacon for second-order monitoring.\n\nThe Witness fleet collectively monitors Deacon health - this prevents the\n\"who watches the watchers\" problem. If Deacon dies, Witnesses detect it.\n\n**Step 1: Send ping**\n```bash\ngt mail send deacon/ -s \"WITNESS_PING \u003crig\u003e\" -m \"Rig: \u003crig\u003e\nTimestamp: $(date -u +%Y-%m-%dT%H:%M:%SZ)\nPatrol: \u003ccycle-number\u003e\"\n```\n\n**Step 2: Check Deacon health**\n```bash\n# Check Deacon agent bead for last_activity\nbd list --type=agent --json | jq '.[] | select(.description | contains(\"deacon\"))'\n```\n\nLook at the `last_activity` timestamp. If stale (\u003e5 minutes since last update):\n- Deacon may be dead or stuck\n\n**Step 3: Escalate if needed**\n```bash\n# If Deacon appears down\ngt mail send mayor/ -s \"ALERT: Deacon appears unresponsive\" -m \"No Deacon activity for \u003e5 minutes.\nLast seen: \u003ctimestamp\u003e\nWitness: \u003crig\u003e/witness\"\n```\n\nNote: Multiple Witnesses may send this alert. Mayor should handle deduplication.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.908844+01:00","updated_at":"2026-01-25T20:29:36.908844+01:00","dependencies":[{"issue_id":"rff-wisp-x11x","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.450777+01:00","created_by":"witness"},{"issue_id":"rff-wisp-x11x","depends_on_id":"rff-wisp-pr86","type":"blocks","created_at":"2026-01-25T20:29:38.256859+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-x1e8","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-6910\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.640406+01:00","updated_at":"2026-01-25T18:57:50.600295+01:00","dependencies":[{"issue_id":"rff-wisp-x1e8","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:08.106898+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-x1e8","depends_on_id":"rff-wisp-qljn","type":"blocks","created_at":"2026-01-25T18:52:08.577518+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x261","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-gcja\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-gcja --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.560179+01:00","updated_at":"2026-01-25T18:23:49.560179+01:00","dependencies":[{"issue_id":"rff-wisp-x261","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.87131+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-x261","depends_on_id":"rff-wisp-vk1v","type":"blocks","created_at":"2026-01-25T18:23:50.173152+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x2fq","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:51.370524+01:00","updated_at":"2026-01-25T20:29:51.370524+01:00","dependencies":[{"issue_id":"rff-wisp-x2fq","depends_on_id":"rff-wisp-3p32","type":"parent-child","created_at":"2026-01-25T20:29:51.566257+01:00","created_by":"refinery"},{"issue_id":"rff-wisp-x2fq","depends_on_id":"rff-wisp-4f5p","type":"blocks","created_at":"2026-01-25T20:29:52.515157+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-x3g3","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.109928+01:00","updated_at":"2026-01-25T20:30:20.109928+01:00","dependencies":[{"issue_id":"rff-wisp-x3g3","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.579438+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-x3g3","depends_on_id":"rff-wisp-v666","type":"blocks","created_at":"2026-01-25T20:30:21.326476+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x40","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-3mq           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-3mq\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.284486+01:00","updated_at":"2026-01-25T13:45:15.284486+01:00","dependencies":[{"issue_id":"rff-wisp-x40","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.288662+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x41","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-35ho)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-35ho\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T14:13:33.210085+01:00","updated_at":"2026-01-25T14:25:36.624285+01:00","closed_at":"2026-01-25T14:25:36.624287+01:00","dependencies":[{"issue_id":"rff-wisp-x41","depends_on_id":"rff-wisp-3tj","type":"parent-child","created_at":"2026-01-25T14:13:33.219992+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x5vc","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-dngrh should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.734858+01:00","updated_at":"2026-01-25T20:31:40.734858+01:00","dependencies":[{"issue_id":"rff-wisp-x5vc","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:41.143563+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-x5vc","depends_on_id":"rff-wisp-3kl5","type":"blocks","created_at":"2026-01-25T20:31:41.94395+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x7jc","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.568267+01:00","updated_at":"2026-01-25T16:40:08.568267+01:00","dependencies":[{"issue_id":"rff-wisp-x7jc","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.601346+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-x7jc","depends_on_id":"rff-wisp-qy8r","type":"blocks","created_at":"2026-01-25T16:40:08.654023+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-x9ly","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:22:39.328316+01:00","updated_at":"2026-01-25T20:22:39.328316+01:00","dependencies":[{"issue_id":"rff-wisp-x9ly","depends_on_id":"rff-wisp-iqbo","type":"blocks","created_at":"2026-01-25T20:22:40.502154+01:00","created_by":"refinery"}],"ephemeral":true}
{"id":"rff-wisp-xa2d","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-nmvc)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-nmvc\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.708908+01:00","updated_at":"2026-01-25T19:04:28.708908+01:00","dependencies":[{"issue_id":"rff-wisp-xa2d","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:28.905232+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xa2d","depends_on_id":"rff-wisp-i4q1","type":"blocks","created_at":"2026-01-25T19:04:29.451556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xedw","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-wair)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-wair\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:10:15.827421+01:00","updated_at":"2026-01-25T18:10:15.827421+01:00","dependencies":[{"issue_id":"rff-wisp-xedw","depends_on_id":"rff-wisp-dpys","type":"parent-child","created_at":"2026-01-25T18:10:15.96766+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xedw","depends_on_id":"rff-wisp-2n66","type":"blocks","created_at":"2026-01-25T18:10:16.224445+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xep5","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-6910           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-6910\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:52:07.635774+01:00","updated_at":"2026-01-25T18:52:58.257583+01:00","closed_at":"2026-01-25T18:52:58.257583+01:00","close_reason":"Context loaded, assignment understood","dependencies":[{"issue_id":"rff-wisp-xep5","depends_on_id":"rff-wisp-qt48","type":"parent-child","created_at":"2026-01-25T18:52:07.641176+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xfog","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-o18n)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-o18n\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:23.702938+01:00","updated_at":"2026-01-25T19:03:23.702939+01:00","dependencies":[{"issue_id":"rff-wisp-xfog","depends_on_id":"rff-wisp-i9pn","type":"parent-child","created_at":"2026-01-25T19:03:23.892571+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xfog","depends_on_id":"rff-wisp-220a","type":"blocks","created_at":"2026-01-25T19:03:24.379365+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xi1","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-b5h\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:15.033742+01:00","updated_at":"2026-01-25T13:28:41.152671+01:00","dependencies":[{"issue_id":"rff-wisp-xi1","depends_on_id":"rff-wisp-94t","type":"blocks","created_at":"2026-01-25T13:23:15.083556+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xjd8","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-v9ykq)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-v9ykq\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:20.108498+01:00","updated_at":"2026-01-25T20:34:15.976834+01:00","dependencies":[{"issue_id":"rff-wisp-xjd8","depends_on_id":"rff-wisp-kobd","type":"parent-child","created_at":"2026-01-25T20:30:20.393738+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xjd8","depends_on_id":"rff-wisp-rp0g","type":"blocks","created_at":"2026-01-25T20:30:21.138477+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xjvy","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.176865+01:00","updated_at":"2026-01-25T19:09:23.176865+01:00","dependencies":[{"issue_id":"rff-wisp-xjvy","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.520842+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xjvy","depends_on_id":"rff-wisp-10ej","type":"blocks","created_at":"2026-01-25T19:09:24.067832+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xkfu","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-skta           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-skta\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:50:11.546112+01:00","updated_at":"2026-01-25T18:52:21.948449+01:00","closed_at":"2026-01-25T18:52:21.948449+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-xkfu","depends_on_id":"rff-wisp-s2ux","type":"parent-child","created_at":"2026-01-25T18:50:11.550793+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xo5","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-vnt).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-vnt\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:23:46.009346+01:00","updated_at":"2026-01-25T13:25:59.768925+01:00","closed_at":"2026-01-25T13:25:59.768925+01:00","close_reason":"No tests exist yet - project in early development, no Xcode project committed","dependencies":[{"issue_id":"rff-wisp-xo5","depends_on_id":"rff-wisp-ctl","type":"blocks","created_at":"2026-01-25T13:23:46.047469+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xoye","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-cjh5\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:30:52.79091+01:00","updated_at":"2026-01-25T20:30:52.79091+01:00","dependencies":[{"issue_id":"rff-wisp-xoye","depends_on_id":"rff-wisp-auwg","type":"parent-child","created_at":"2026-01-25T20:30:52.892964+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xoye","depends_on_id":"rff-wisp-j3cj","type":"blocks","created_at":"2026-01-25T20:30:53.65565+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xqo6","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-la8j should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.225068+01:00","updated_at":"2026-01-25T19:05:40.120262+01:00","closed_at":"2026-01-25T19:05:40.120262+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-xqo6","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.458701+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xqo6","depends_on_id":"rff-wisp-po4j","type":"blocks","created_at":"2026-01-25T19:02:06.925565+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xrux","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.710471+01:00","updated_at":"2026-01-25T19:04:28.710471+01:00","dependencies":[{"issue_id":"rff-wisp-xrux","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:29.100854+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xrux","depends_on_id":"rff-wisp-htyv","type":"blocks","created_at":"2026-01-25T19:04:29.651724+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xrv","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-9q4).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-9q4\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:21:40.393398+01:00","updated_at":"2026-01-25T13:21:40.393398+01:00","dependencies":[{"issue_id":"rff-wisp-xrv","depends_on_id":"rff-wisp-e74","type":"blocks","created_at":"2026-01-25T13:21:40.413393+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xvlc","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:18.90616+01:00","updated_at":"2026-01-25T18:37:18.957278+01:00","closed_at":"2026-01-25T18:37:18.957278+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-xvlc","depends_on_id":"rff-wisp-p1rc","type":"parent-child","created_at":"2026-01-25T18:32:19.129415+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xvlc","depends_on_id":"rff-wisp-pr8r","type":"blocks","created_at":"2026-01-25T18:32:19.566833+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xy6r","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-la8j           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-la8j\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:02:06.222892+01:00","updated_at":"2026-01-25T19:03:43.821808+01:00","closed_at":"2026-01-25T19:03:43.821808+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-xy6r","depends_on_id":"rff-wisp-tf41","type":"parent-child","created_at":"2026-01-25T19:02:06.228012+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-xynw","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-wair).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-wair\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:05:34.803652+01:00","updated_at":"2026-01-25T18:05:34.803652+01:00","dependencies":[{"issue_id":"rff-wisp-xynw","depends_on_id":"rff-wisp-tl2d","type":"parent-child","created_at":"2026-01-25T18:05:34.862956+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-xynw","depends_on_id":"rff-wisp-3py0","type":"blocks","created_at":"2026-01-25T18:05:35.091007+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-y0i","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-35ho)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-35ho\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T14:19:23.774381+01:00","updated_at":"2026-01-25T14:19:23.774381+01:00","dependencies":[{"issue_id":"rff-wisp-y0i","depends_on_id":"rff-wisp-56s","type":"parent-child","created_at":"2026-01-25T14:19:23.788216+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-y0i","depends_on_id":"rff-wisp-4f9","type":"blocks","created_at":"2026-01-25T14:19:23.812881+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-y2m6","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-0enz\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-0enz --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:47:23.532791+01:00","updated_at":"2026-01-25T17:47:23.532791+01:00","dependencies":[{"issue_id":"rff-wisp-y2m6","depends_on_id":"rff-wisp-1ek5","type":"parent-child","created_at":"2026-01-25T17:47:23.66784+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-y2m6","depends_on_id":"rff-wisp-ntjg","type":"blocks","created_at":"2026-01-25T17:47:23.823699+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-y35c","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:35:31.208412+01:00","updated_at":"2026-01-25T16:35:31.208412+01:00","ephemeral":true}
{"id":"rff-wisp-y45f","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-h2r7o\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-h2r7o --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.459362+01:00","updated_at":"2026-01-25T20:32:47.459362+01:00","dependencies":[{"issue_id":"rff-wisp-y45f","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:48.186973+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-y45f","depends_on_id":"rff-wisp-l1hm","type":"blocks","created_at":"2026-01-25T20:32:49.028612+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-y5oa","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-5u9g should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.210883+01:00","updated_at":"2026-01-25T16:35:31.210883+01:00","dependencies":[{"issue_id":"rff-wisp-y5oa","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.238067+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-y5oa","depends_on_id":"rff-wisp-z52x","type":"blocks","created_at":"2026-01-25T16:35:31.288596+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-y8wm","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-19ll\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.327194+01:00","updated_at":"2026-01-25T18:34:46.327194+01:00","dependencies":[{"issue_id":"rff-wisp-y8wm","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.377354+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-y8wm","depends_on_id":"rff-wisp-r1ev","type":"blocks","created_at":"2026-01-25T18:34:46.775666+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ycxi","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-nmvc\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.707786+01:00","updated_at":"2026-01-25T19:04:28.707786+01:00","dependencies":[{"issue_id":"rff-wisp-ycxi","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:28.776277+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ycxi","depends_on_id":"rff-wisp-yjyk","type":"blocks","created_at":"2026-01-25T19:04:29.315463+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yjgj","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T16:33:20.560524+01:00","updated_at":"2026-01-25T16:33:20.560524+01:00","ephemeral":true}
{"id":"rff-wisp-yjyk","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-nmvc           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-nmvc\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:04:28.707199+01:00","updated_at":"2026-01-25T19:04:28.707199+01:00","dependencies":[{"issue_id":"rff-wisp-yjyk","depends_on_id":"rff-wisp-b76y","type":"parent-child","created_at":"2026-01-25T19:04:28.712254+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ykey","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-66nd\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.186508+01:00","updated_at":"2026-01-25T17:35:27.186508+01:00","dependencies":[{"issue_id":"rff-wisp-ykey","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.350923+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ykey","depends_on_id":"rff-wisp-4ah4","type":"blocks","created_at":"2026-01-25T17:35:27.553936+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ymlc","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-70k6\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:09:21.212869+01:00","updated_at":"2026-01-25T18:09:21.21287+01:00","dependencies":[{"issue_id":"rff-wisp-ymlc","depends_on_id":"rff-wisp-bps1","type":"parent-child","created_at":"2026-01-25T18:09:21.45774+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ymlc","depends_on_id":"rff-wisp-kf56","type":"blocks","created_at":"2026-01-25T18:09:21.707241+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ynky","title":"Set up working branch","description":"Ensure you're on a clean feature branch ready for work.\n\n**1. Check current branch state:**\n```bash\ngit status\ngit branch --show-current\n```\n\n**2. If not on a feature branch, create one:**\n```bash\n# Standard naming: polecat/\u003cyour-name\u003e or feature/\u003cissue-id\u003e\ngit checkout -b polecat/\u003cname\u003e\n```\n\n**3. Ensure clean working state:**\n```bash\ngit status                  # Should show \"working tree clean\"\ngit stash list              # Should be empty\n```\n\nIf dirty state from previous work:\n```bash\n# If changes are relevant to this issue:\ngit add -A \u0026\u0026 git commit -m \"WIP: \u003cdescription\u003e\"\n\n# If changes are unrelated cruft:\ngit stash push -m \"unrelated changes before rff-tuso\"\n# Or discard if truly garbage:\ngit checkout -- .\n```\n\n**4. Sync with main:**\n```bash\ngit fetch origin\ngit rebase origin/main      # Get latest, rebase your branch\n```\n\nIf rebase conflicts:\n- Resolve them carefully\n- Test after resolution\n- If stuck, mail Witness\n\n**Exit criteria:** You're on a clean feature branch, rebased on latest main.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:08.566946+01:00","updated_at":"2026-01-25T16:40:08.566946+01:00","dependencies":[{"issue_id":"rff-wisp-ynky","depends_on_id":"rff-wisp-1tua","type":"parent-child","created_at":"2026-01-25T16:40:08.576452+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ynky","depends_on_id":"rff-wisp-2rej","type":"blocks","created_at":"2026-01-25T16:40:08.627442+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ynq7","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:40:46.327716+01:00","updated_at":"2026-01-25T16:40:46.327716+01:00","dependencies":[{"issue_id":"rff-wisp-ynq7","depends_on_id":"rff-wisp-opbs","type":"parent-child","created_at":"2026-01-25T16:40:46.354072+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ynq7","depends_on_id":"rff-wisp-valx","type":"blocks","created_at":"2026-01-25T16:40:46.415839+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ypoq","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-cjpl)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-cjpl\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:39:32.605343+01:00","updated_at":"2026-01-25T18:42:38.024334+01:00","closed_at":"2026-01-25T18:42:38.024354+01:00","dependencies":[{"issue_id":"rff-wisp-ypoq","depends_on_id":"rff-wisp-w6oq","type":"parent-child","created_at":"2026-01-25T18:39:32.744517+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ypoq","depends_on_id":"rff-wisp-osxh","type":"blocks","created_at":"2026-01-25T18:39:33.103758+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yq7i","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-u18g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-u18g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:05:04.898004+01:00","updated_at":"2026-01-25T17:05:04.898004+01:00","dependencies":[{"issue_id":"rff-wisp-yq7i","depends_on_id":"rff-wisp-4yzd","type":"parent-child","created_at":"2026-01-25T17:05:04.942619+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yq7i","depends_on_id":"rff-wisp-svja","type":"blocks","created_at":"2026-01-25T17:05:05.060098+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yrck","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-iq3z).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-iq3z\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:40.311203+01:00","updated_at":"2026-01-25T16:29:40.311203+01:00","dependencies":[{"issue_id":"rff-wisp-yrck","depends_on_id":"rff-wisp-vod6","type":"parent-child","created_at":"2026-01-25T16:29:40.323351+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yrck","depends_on_id":"rff-wisp-fl7v","type":"blocks","created_at":"2026-01-25T16:29:40.362806+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yrl0","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:44:55.318223+01:00","updated_at":"2026-01-25T16:44:55.318223+01:00","dependencies":[{"issue_id":"rff-wisp-yrl0","depends_on_id":"rff-wisp-ep9x","type":"parent-child","created_at":"2026-01-25T16:44:55.345802+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yrl0","depends_on_id":"rff-wisp-23y5","type":"blocks","created_at":"2026-01-25T16:44:55.413201+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ysn1","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-ugec\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:26:49.839541+01:00","updated_at":"2026-01-25T18:26:49.839541+01:00","dependencies":[{"issue_id":"rff-wisp-ysn1","depends_on_id":"rff-wisp-2iba","type":"parent-child","created_at":"2026-01-25T18:26:50.154036+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ysn1","depends_on_id":"rff-wisp-cvzq","type":"blocks","created_at":"2026-01-25T18:26:50.470733+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ythy","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-14ed)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-14ed\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:06.429557+01:00","updated_at":"2026-01-25T19:35:06.429557+01:00","dependencies":[{"issue_id":"rff-wisp-ythy","depends_on_id":"rff-wisp-orxf","type":"parent-child","created_at":"2026-01-25T19:35:06.684667+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-ythy","depends_on_id":"rff-wisp-bfgg","type":"blocks","created_at":"2026-01-25T19:35:07.369516+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-ywkl","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-8iy7)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-8iy7\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:32:56.483623+01:00","updated_at":"2026-01-25T16:32:56.483623+01:00","dependencies":[{"issue_id":"rff-wisp-ywkl","depends_on_id":"rff-wisp-tr0w","type":"parent-child","created_at":"2026-01-25T16:32:56.503172+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yy8","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-3mq).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-3mq\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:45:15.285254+01:00","updated_at":"2026-01-25T13:45:15.285254+01:00","dependencies":[{"issue_id":"rff-wisp-yy8","depends_on_id":"rff-wisp-4jk","type":"parent-child","created_at":"2026-01-25T13:45:15.293529+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yy8","depends_on_id":"rff-wisp-b7a","type":"blocks","created_at":"2026-01-25T13:45:15.311649+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yyfr","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-h2r7o should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:32:47.45779+01:00","updated_at":"2026-01-25T20:32:47.457791+01:00","dependencies":[{"issue_id":"rff-wisp-yyfr","depends_on_id":"rff-wisp-g16m","type":"parent-child","created_at":"2026-01-25T20:32:47.876123+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yyfr","depends_on_id":"rff-wisp-dj19","type":"blocks","created_at":"2026-01-25T20:32:48.708639+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-yzza","title":"Clean up workspace","description":"Ensure workspace is pristine before handoff.\n\n**1. Check for uncommitted changes:**\n```bash\ngit status\n```\nMust show \"working tree clean\". If not:\n- Commit legitimate changes\n- Discard garbage: `git checkout -- .`\n\n**2. Check for untracked files:**\n```bash\ngit status --porcelain\n```\nShould be empty. If not:\n- Add to .gitignore if appropriate\n- Remove if temporary: `rm \u003cfile\u003e`\n- Commit if needed\n\n**3. Check stash:**\n```bash\ngit stash list\n```\nShould be empty. If not:\n- Pop and commit: `git stash pop \u0026\u0026 git add -A \u0026\u0026 git commit`\n- Or drop if garbage: `git stash drop`\n\n**4. Push your branch:**\n```bash\ngit push -u origin $(git branch --show-current)\n```\n\n**5. Verify nothing left behind:**\n```bash\ngit status                  # Clean\ngit stash list              # Empty\ngit log origin/main..HEAD   # Your commits\ngit diff origin/main...HEAD # Your changes (expected)\n```\n\n**Exit criteria:** Branch pushed, workspace clean, no cruft.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.037829+01:00","updated_at":"2026-01-25T16:56:58.037829+01:00","dependencies":[{"issue_id":"rff-wisp-yzza","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.095433+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-yzza","depends_on_id":"rff-wisp-zcwk","type":"blocks","created_at":"2026-01-25T16:56:58.172682+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z0gs","title":"Check timer gates for expiration","description":"Check for expired timer gates and escalate as needed.\n\nTimer gates are async wait conditions with a timeout. When the timeout expires,\nthe gate should be escalated to the overseer for human intervention.\n\n**Step 1: Run timer gate check**\n```bash\nbd gate check --type=timer --escalate\n```\n\nThis command:\n1. Finds all open gate issues with await_type=timer\n2. Checks if `now \u003e created_at + timeout`\n3. Escalates expired gates via `gt escalate` (HIGH severity)\n4. Reports summary of gate status\n\n**Step 2: Review output**\n\nIf expired gates were found and escalated:\n- The escalation creates an audit trail bead\n- Overseer will be notified via mail\n- Gate remains open until manually resolved\n\nIf no expired gates:\n- Continue patrol normally\n\n**Note**: Timer gates do NOT auto-close on expiration. They escalate.\nThis ensures human oversight of timeout conditions.\n\n**Parallelism**: This is a single command, no parallel execution needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:29:36.907849+01:00","updated_at":"2026-01-25T20:29:36.907849+01:00","dependencies":[{"issue_id":"rff-wisp-z0gs","depends_on_id":"rff-wisp-jgv8","type":"parent-child","created_at":"2026-01-25T20:29:37.272416+01:00","created_by":"witness"},{"issue_id":"rff-wisp-z0gs","depends_on_id":"rff-wisp-s42w","type":"blocks","created_at":"2026-01-25T20:29:38.078372+01:00","created_by":"witness"}],"ephemeral":true}
{"id":"rff-wisp-z2da","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-dngrh).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-dngrh\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:31:40.733475+01:00","updated_at":"2026-01-25T20:31:40.733475+01:00","dependencies":[{"issue_id":"rff-wisp-z2da","depends_on_id":"rff-wisp-v1r5","type":"parent-child","created_at":"2026-01-25T20:31:40.943328+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z2da","depends_on_id":"rff-wisp-hdir","type":"blocks","created_at":"2026-01-25T20:31:41.740719+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z2l","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-air).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-air\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T13:00:27.930853+01:00","updated_at":"2026-01-25T13:00:27.930854+01:00","dependencies":[{"issue_id":"rff-wisp-z2l","depends_on_id":"rff-wisp-vyg","type":"blocks","created_at":"2026-01-25T13:00:27.946187+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z3og","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-ze6v).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-ze6v\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:23:19.925382+01:00","updated_at":"2026-01-25T19:23:19.925382+01:00","dependencies":[{"issue_id":"rff-wisp-z3og","depends_on_id":"rff-wisp-bll3","type":"parent-child","created_at":"2026-01-25T19:23:20.108988+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z3og","depends_on_id":"rff-wisp-jtkq","type":"blocks","created_at":"2026-01-25T19:23:20.783911+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z4gc","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-7xu7\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-7xu7 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:03:56.030949+01:00","updated_at":"2026-01-25T19:03:56.030949+01:00","dependencies":[{"issue_id":"rff-wisp-z4gc","depends_on_id":"rff-wisp-g9g0","type":"parent-child","created_at":"2026-01-25T19:03:56.583539+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z4gc","depends_on_id":"rff-wisp-kfco","type":"blocks","created_at":"2026-01-25T19:03:57.173108+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z52x","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-5u9g)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-5u9g\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.210518+01:00","updated_at":"2026-01-25T16:35:31.210518+01:00","dependencies":[{"issue_id":"rff-wisp-z52x","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.231981+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z52x","depends_on_id":"rff-wisp-znbs","type":"blocks","created_at":"2026-01-25T16:35:31.282236+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z5z0","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-gn2v\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.036897+01:00","updated_at":"2026-01-25T18:51:27.036897+01:00","dependencies":[{"issue_id":"rff-wisp-z5z0","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.482455+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z5z0","depends_on_id":"rff-wisp-zjke","type":"blocks","created_at":"2026-01-25T18:51:27.933694+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-z92h","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T14:19:48.538622+01:00","updated_at":"2026-01-25T14:21:20.793975+01:00","closed_at":"2026-01-25T14:21:20.793975+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-z9v3","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-cmikt\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-cmikt --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.101275+01:00","updated_at":"2026-01-25T19:55:37.101275+01:00","dependencies":[{"issue_id":"rff-wisp-z9v3","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.670102+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-z9v3","depends_on_id":"rff-wisp-3yy4","type":"blocks","created_at":"2026-01-25T19:55:38.316843+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zbfo","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-gn2v).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-gn2v\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.033956+01:00","updated_at":"2026-01-25T18:51:27.033956+01:00","dependencies":[{"issue_id":"rff-wisp-zbfo","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.149056+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zbfo","depends_on_id":"rff-wisp-0w5p","type":"blocks","created_at":"2026-01-25T18:51:27.593846+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zcez","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-19ll)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-19ll\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:34:46.328138+01:00","updated_at":"2026-01-25T18:34:46.328138+01:00","dependencies":[{"issue_id":"rff-wisp-zcez","depends_on_id":"rff-wisp-2dmv","type":"parent-child","created_at":"2026-01-25T18:34:46.467621+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zcez","depends_on_id":"rff-wisp-wm68","type":"blocks","created_at":"2026-01-25T18:34:46.867349+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zcwk","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:56:58.037501+01:00","updated_at":"2026-01-25T16:56:58.037501+01:00","dependencies":[{"issue_id":"rff-wisp-zcwk","depends_on_id":"rff-wisp-5aq5","type":"parent-child","created_at":"2026-01-25T16:56:58.085833+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zcwk","depends_on_id":"rff-wisp-n3h9","type":"blocks","created_at":"2026-01-25T16:56:58.162777+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zem7","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.592693+01:00","updated_at":"2026-01-25T19:35:52.592693+01:00","dependencies":[{"issue_id":"rff-wisp-zem7","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:53.068513+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zem7","depends_on_id":"rff-wisp-t5of","type":"blocks","created_at":"2026-01-25T19:35:53.757361+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zgu6","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-8n36m)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-8n36m\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T20:33:34.472799+01:00","updated_at":"2026-01-25T20:33:34.472799+01:00","dependencies":[{"issue_id":"rff-wisp-zgu6","depends_on_id":"rff-wisp-mpir","type":"parent-child","created_at":"2026-01-25T20:33:34.815758+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zgu6","depends_on_id":"rff-wisp-ch40","type":"blocks","created_at":"2026-01-25T20:33:35.707493+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zhuu","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-tpoz\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:09:23.178824+01:00","updated_at":"2026-01-25T19:09:23.178825+01:00","dependencies":[{"issue_id":"rff-wisp-zhuu","depends_on_id":"rff-wisp-9z62","type":"parent-child","created_at":"2026-01-25T19:09:23.724665+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zhuu","depends_on_id":"rff-wisp-1an9","type":"blocks","created_at":"2026-01-25T19:09:24.276128+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zjke","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-gn2v\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-gn2v --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:51:27.036416+01:00","updated_at":"2026-01-25T18:51:27.036417+01:00","dependencies":[{"issue_id":"rff-wisp-zjke","depends_on_id":"rff-wisp-3d8z","type":"parent-child","created_at":"2026-01-25T18:51:27.427039+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zjke","depends_on_id":"rff-wisp-1kwj","type":"blocks","created_at":"2026-01-25T18:51:27.876914+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zkbr","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-m1v5\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-m1v5 --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:59:32.685609+01:00","updated_at":"2026-01-25T19:06:21.063605+01:00","closed_at":"2026-01-25T19:06:21.063607+01:00","dependencies":[{"issue_id":"rff-wisp-zkbr","depends_on_id":"rff-wisp-l73o","type":"parent-child","created_at":"2026-01-25T18:59:33.254343+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zkbr","depends_on_id":"rff-wisp-vq01","type":"blocks","created_at":"2026-01-25T18:59:33.769454+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zkpk","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-cfh0 should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:51:09.081719+01:00","updated_at":"2026-01-25T16:51:09.081719+01:00","dependencies":[{"issue_id":"rff-wisp-zkpk","depends_on_id":"rff-wisp-1gxz","type":"parent-child","created_at":"2026-01-25T16:51:09.114545+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zl7x","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-a8ny should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:19:33.529185+01:00","updated_at":"2026-01-25T19:19:33.529185+01:00","dependencies":[{"issue_id":"rff-wisp-zl7x","depends_on_id":"rff-wisp-c0ya","type":"parent-child","created_at":"2026-01-25T19:19:33.837102+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zl7x","depends_on_id":"rff-wisp-5slp","type":"blocks","created_at":"2026-01-25T19:19:34.453569+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zlch","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-m1v5)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-m1v5\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:28:37.421449+01:00","updated_at":"2026-01-25T19:01:23.920166+01:00","closed_at":"2026-01-25T19:01:23.920166+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-zlch","depends_on_id":"rff-wisp-rhfs","type":"parent-child","created_at":"2026-01-25T18:28:37.542731+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zlch","depends_on_id":"rff-wisp-h3f5","type":"blocks","created_at":"2026-01-25T18:28:37.85957+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-znbs","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-5u9g).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-5u9g\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:35:31.210089+01:00","updated_at":"2026-01-25T16:35:31.210089+01:00","dependencies":[{"issue_id":"rff-wisp-znbs","depends_on_id":"rff-wisp-y35c","type":"parent-child","created_at":"2026-01-25T16:35:31.225403+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-znbs","depends_on_id":"rff-wisp-omg8","type":"blocks","created_at":"2026-01-25T16:35:31.275936+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zq55","title":"Implement the solution","description":"Do the actual implementation work.\n\n**Working principles:**\n- Follow existing codebase conventions\n- Make atomic, focused commits\n- Keep changes scoped to the assigned issue\n- Don't gold-plate or scope-creep\n\n**Commit frequently:**\n```bash\n# After each logical unit of work:\ngit add \u003cfiles\u003e\ngit commit -m \"\u003ctype\u003e: \u003cdescription\u003e (rff-0gnv)\"\n```\n\nCommit types: feat, fix, refactor, test, docs, chore\n\n**Discovered work:**\nIf you find bugs or improvements outside your scope:\n```bash\nbd create --title \"Found: \u003cdescription\u003e\" --type bug --priority 2\n# Note the ID, continue with your work\n```\n\nDo NOT fix unrelated issues in this branch.\n\n**If stuck:**\nDon't spin for more than 15 minutes. Mail Witness:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Stuck on implementation\" -m \"Issue: rff-0gnv\nTrying to: \u003cwhat you're attempting\u003e\nProblem: \u003cwhat's blocking you\u003e\nTried: \u003cwhat you've attempted\u003e\"\n```\n\n**Exit criteria:** Implementation complete, all changes committed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:29:17.426029+01:00","updated_at":"2026-01-25T16:34:14.670042+01:00","closed_at":"2026-01-25T16:34:14.670043+01:00","dependencies":[{"issue_id":"rff-wisp-zq55","depends_on_id":"rff-wisp-pvdb","type":"parent-child","created_at":"2026-01-25T16:29:17.441175+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zq55","depends_on_id":"rff-wisp-hzbg","type":"blocks","created_at":"2026-01-25T16:29:17.475202+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zrwu","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-66nd).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-66nd\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T17:35:27.184096+01:00","updated_at":"2026-01-25T17:35:27.184096+01:00","dependencies":[{"issue_id":"rff-wisp-zrwu","depends_on_id":"rff-wisp-dgr0","type":"parent-child","created_at":"2026-01-25T17:35:27.224555+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zrwu","depends_on_id":"rff-wisp-g5b4","type":"blocks","created_at":"2026-01-25T17:35:27.388022+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zryl","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:55:37.099979+01:00","updated_at":"2026-01-25T19:55:37.099979+01:00","dependencies":[{"issue_id":"rff-wisp-zryl","depends_on_id":"rff-wisp-e1ik","type":"parent-child","created_at":"2026-01-25T19:55:37.506158+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zryl","depends_on_id":"rff-wisp-blkt","type":"blocks","created_at":"2026-01-25T19:55:38.155435+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zs2h","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-y83pz           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-y83pz\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T19:35:52.589784+01:00","updated_at":"2026-01-25T19:35:52.589784+01:00","dependencies":[{"issue_id":"rff-wisp-zs2h","depends_on_id":"rff-wisp-r25f","type":"parent-child","created_at":"2026-01-25T19:35:52.595077+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zt9a","title":"Verify tests pass on main","description":"Check if the codebase is healthy BEFORE starting your work.\n\n**The Scotty Principle:** Don't walk past a broken warp core. But also don't\nlet someone else's mess consume your entire mission.\n\n**1. Check tests on main:**\n```bash\ngit stash                   # Save your branch state\ngit checkout origin/main\ngo test ./...               # Or appropriate test command\n```\n\n**2. If tests PASS:**\n```bash\ngit checkout -              # Back to your branch\ngit stash pop               # Restore state\n```\nContinue to implement step.\n\n**3. If tests FAIL on main:**\n\nMake a judgment call:\n\n| Situation | Action |\n|-----------|--------|\n| Quick fix (\u003c15 min) | Fix it, commit to main, then continue |\n| Medium fix (15-60 min) | Fix if it blocks your work, else file bead |\n| Big fix (\u003e1 hour) | File bead, notify Witness, proceed with your work |\n\n**Quick fix path:**\n```bash\n# Fix the issue\ngit add \u003cfiles\u003e\ngit commit -m \"fix: \u003cdescription\u003e (pre-existing failure)\"\ngit push origin main\ngit checkout -\ngit stash pop\ngit rebase origin/main      # Get your fix\n```\n\n**File and proceed path:**\n```bash\nbd create --title \"Pre-existing test failure: \u003cdescription\u003e\" --type bug --priority 1\n\ngt mail send \u003crig\u003e/witness -s \"NOTICE: Main has failing tests\" -m \"Found pre-existing test failures on main.\nFiled: \u003cbead-id\u003e\nProceeding with my assigned work (rff-gcja).\"\n\ngit checkout -\ngit stash pop\n```\n\n**Context consideration:**\nIf fixing pre-existing failures consumed significant context:\n```bash\ngt handoff -s \"Fixed pre-existing failures, ready for assigned work\" -m \"Issue: rff-gcja\nFixed: \u003cwhat you fixed\u003e\nReady to start: implement step\"\n```\nFresh session continues from implement.\n\n**Exit criteria:** Tests pass on main (or issue filed), ready to implement.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T18:23:49.558163+01:00","updated_at":"2026-01-25T18:23:49.558163+01:00","dependencies":[{"issue_id":"rff-wisp-zt9a","depends_on_id":"rff-wisp-jcgu","type":"parent-child","created_at":"2026-01-25T18:23:49.63928+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zt9a","depends_on_id":"rff-wisp-dmwh","type":"blocks","created_at":"2026-01-25T18:23:49.984297+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zu6r9","title":"mol-polecat-work","description":"Full polecat work lifecycle from assignment through MR submission.\n\nThis molecule guides a polecat through a complete work assignment. Each step\nhas clear entry/exit criteria and specific commands to run. A polecat can\ncrash after any step and resume from the last completed step.\n\n## Polecat Contract (Ephemeral Model)\n\nYou are an ephemeral worker. You:\n1. Receive work via your hook (pinned molecule + issue)\n2. Work through molecule steps using `bd ready` / `bd close \u003cstep\u003e`\n3. Submit to merge queue via `gt done`\n4. Become recyclable - Refinery handles the rest\n\n**Important:** This formula defines the template. Your molecule already has step\nbeads created from it. Use `bd ready` to find them - do NOT read this file directly.\n\n**You do NOT:**\n- Push directly to main (Refinery merges)\n- Close your own issue (Refinery closes after merge)\n- Wait for merge (you're done at MR submission)\n- Handle rebase conflicts (Refinery dispatches fresh polecats for that)\n\n## Variables\n\n| Variable | Source | Description |\n|----------|--------|-------------|\n| issue | hook_bead | The issue ID you're assigned to work on |\n\n## Failure Modes\n\n| Situation | Action |\n|-----------|--------|\n| Tests fail | Fix them. Do not proceed with failures. |\n| Blocked on external | Mail Witness for help, mark yourself stuck |\n| Context filling | Use gt handoff to cycle to fresh session |\n| Unsure what to do | Mail Witness, don't guess |","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-25T20:36:51.116809+01:00","updated_at":"2026-01-25T20:36:51.116809+01:00","ephemeral":true}
{"id":"rff-wisp-zvlz","title":"Run tests and verify coverage","description":"Verify your changes don't break anything and are properly tested.\n\n**1. Run the full test suite:**\n```bash\ngo test ./...               # For Go projects\n# Or appropriate command for your stack\n```\n\n**ALL TESTS MUST PASS.** Do not proceed with failures.\n\n**2. If tests fail:**\n- Read the failure output carefully\n- Determine if your change caused it:\n  - If yes: Fix it. Return to implement step if needed.\n  - If no (pre-existing): File a bead, but still must pass for your PR\n\n```bash\n# Check if failure exists on main:\ngit stash\ngit checkout main\ngo test ./...\ngit checkout -\ngit stash pop\n```\n\n**3. Verify test coverage for new code:**\n- New features should have tests\n- Bug fixes should have regression tests\n- If you added significant code without tests, add them now\n\n**4. Run any other quality checks:**\n```bash\n# Linting (if configured)\ngolangci-lint run ./...\n\n# Build check\ngo build ./...\n```\n\n**Exit criteria:** All tests pass, new code has appropriate test coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:34.99464+01:00","updated_at":"2026-01-25T16:30:34.99464+01:00","dependencies":[{"issue_id":"rff-wisp-zvlz","depends_on_id":"rff-wisp-5428","type":"parent-child","created_at":"2026-01-25T16:30:35.030927+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zw70","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-3emw\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-3emw --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:24:21.610778+01:00","updated_at":"2026-01-25T16:29:23.573052+01:00","closed_at":"2026-01-25T16:29:23.573052+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-zw70","depends_on_id":"rff-wisp-q3gp","type":"parent-child","created_at":"2026-01-25T16:24:21.659315+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zw70","depends_on_id":"rff-wisp-ktie","type":"blocks","created_at":"2026-01-25T16:24:21.715992+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zwrp","title":"Self-review changes","description":"Review your own changes before running tests.\n\n**1. Review the diff:**\n```bash\ngit diff origin/main...HEAD     # All changes vs main\ngit log --oneline origin/main..HEAD  # All commits\n```\n\n**2. Check for common issues:**\n\n| Category | Look For |\n|----------|----------|\n| Bugs | Off-by-one, null handling, edge cases |\n| Security | Injection, auth bypass, exposed secrets |\n| Style | Naming, formatting, code organization |\n| Completeness | Missing error handling, incomplete paths |\n| Cruft | Debug prints, commented code, TODOs |\n\n**3. Fix issues found:**\nDon't just note them - fix them now. Amend or add commits as needed.\n\n**4. Verify no unintended changes:**\n```bash\ngit diff --stat origin/main...HEAD\n# Only files relevant to rff-tuso should appear\n```\n\nIf you accidentally modified unrelated files, remove those changes.\n\n**Exit criteria:** Changes are clean, reviewed, and ready for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:42:20.29143+01:00","updated_at":"2026-01-25T16:49:10.642476+01:00","closed_at":"2026-01-25T16:49:10.642478+01:00","dependencies":[{"issue_id":"rff-wisp-zwrp","depends_on_id":"rff-wisp-3v1n","type":"parent-child","created_at":"2026-01-25T16:42:20.32562+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zwrp","depends_on_id":"rff-wisp-3asn","type":"blocks","created_at":"2026-01-25T16:42:20.401421+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zx0","title":"Prepare work for review","description":"Verify work is complete and ready for merge queue.\n\n**Note:** Do NOT close the issue. The Refinery will close it after successful merge.\nThis enables conflict-resolution retries without reopening closed issues.\n\n**1. Verify the issue shows your work:**\n```bash\nbd show rff-nlu\n# Status should still be 'in_progress' (you're working on it)\n```\n\n**2. Add completion notes:**\n```bash\nbd update rff-nlu --notes \"Implemented: \u003cbrief summary of what was done\u003e\"\n```\n\n**3. Sync beads:**\n```bash\nbd sync\n```\n\n**Exit criteria:** Issue updated with completion notes, beads synced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:25:57.564428+01:00","updated_at":"2026-01-25T13:31:47.635798+01:00","closed_at":"2026-01-25T13:31:47.635798+01:00","close_reason":"Closed","ephemeral":true}
{"id":"rff-wisp-zxm2","title":"Submit to merge queue and exit","description":"Submit your work to the merge queue. You become recyclable after this.\n\n**Ephemeral Polecat Model:**\nOnce you submit, you're done. The Refinery will:\n1. Process your merge request\n2. Handle rebasing (mechanical rebases done automatically)\n3. Close your issue after successful merge\n4. Create conflict-resolution tasks if needed (fresh polecat handles those)\n\n**1. Submit with gt done:**\n```bash\ngt done\n```\n\nThis single command:\n- Creates an MR bead in the merge queue\n- Notifies the Witness (POLECAT_DONE)\n- Updates your agent state to 'done'\n- Reports cleanup status (ZFC compliance)\n\n**2. Verify submission:**\nYou should see output like:\n```\n✓ Work submitted to merge queue\n  MR ID: gt-xxxxx\n  Source: polecat/\u003cname\u003e\n  Target: main\n  Issue: rff-m3m1\n```\n\n**3. You're recyclable:**\nYour work is in the queue. The Witness knows you're done.\nYour sandbox can be cleaned up - all work is pushed to origin.\n\nIf you have context remaining, you may:\n- Pick up new work from `bd ready`\n- Or use `gt handoff` to cycle to a fresh session\n\nIf the Refinery needs conflict resolution, it will dispatch a fresh polecat.\nYou do NOT need to wait around.\n\n**Exit criteria:** MR submitted, Witness notified, polecat recyclable.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-25T19:13:35.156246+01:00","updated_at":"2026-01-25T19:26:26.902461+01:00","dependencies":[{"issue_id":"rff-wisp-zxm2","depends_on_id":"rff-wisp-nm5s","type":"parent-child","created_at":"2026-01-25T19:13:35.717346+01:00","created_by":"mayor"},{"issue_id":"rff-wisp-zxm2","depends_on_id":"rff-wisp-fes6","type":"blocks","created_at":"2026-01-25T19:13:36.287391+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wisp-zzpf","title":"Load context and verify assignment","description":"Initialize your session and understand your assignment.\n\n**1. Prime your environment:**\n```bash\ngt prime                    # Load role context\nbd prime                    # Load beads context\n```\n\n**2. Check your hook:**\n```bash\ngt hook               # Shows your pinned molecule and hook_bead\n```\n\nThe hook_bead is your assigned issue. Read it carefully:\n```bash\nbd show rff-nmq84           # Full issue details\n```\n\n**3. Check inbox for additional context:**\n```bash\ngt mail inbox\n# Read any HANDOFF or assignment messages\n```\n\n**4. Understand the requirements:**\n- What exactly needs to be done?\n- What files are likely involved?\n- Are there dependencies or blockers?\n- What does \"done\" look like?\n\n**5. Verify you can proceed:**\n- No unresolved blockers on the issue\n- You understand what to do\n- Required resources are available\n\nIf blocked or unclear, mail Witness immediately:\n```bash\ngt mail send \u003crig\u003e/witness -s \"HELP: Unclear requirements\" -m \"Issue: rff-nmq84\nQuestion: \u003cwhat you need clarified\u003e\"\n```\n\n**Exit criteria:** You understand the work and can begin implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:37:12.587708+01:00","updated_at":"2026-01-25T19:46:59.929835+01:00","closed_at":"2026-01-25T19:46:59.929835+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-wisp-zzpf","depends_on_id":"rff-wisp-7p12","type":"parent-child","created_at":"2026-01-25T19:37:12.592965+01:00","created_by":"mayor"}],"ephemeral":true}
{"id":"rff-wo7l","title":"Merge: rff-m1v5","description":"branch: polecat/ace/rff-m1v5@mku1m3x7\ntarget: main\nsource_issue: rff-m1v5\nrig: rff\nworker: ace\nagent_bead: rff-rff-polecat-ace\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:06:48.682207+01:00","created_by":"rff/polecats/ace","updated_at":"2026-01-25T20:26:50.964491+01:00","closed_at":"2026-01-25T20:26:50.964492+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-x1ie","title":"Merge: rff-ohdj","description":"branch: polecat/keeper/rff-ohdj@mku1xe0o\ntarget: main\nsource_issue: rff-ohdj\nrig: rff\nworker: keeper\nagent_bead: rff-rff-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:14:31.179733+01:00","created_by":"rff/polecats/keeper","updated_at":"2026-01-25T20:26:51.853223+01:00","closed_at":"2026-01-25T20:26:51.853226+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-xa6c","title":"Merge: rff-la8j","description":"branch: polecat/imperator/rff-la8j@mku1pe0z\ntarget: main\nsource_issue: rff-la8j\nrig: rff\nworker: imperator\nagent_bead: rff-rff-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T19:06:18.804891+01:00","created_by":"rff/polecats/imperator","updated_at":"2026-01-25T20:26:50.084665+01:00","closed_at":"2026-01-25T20:26:50.084667+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-xezy","title":"Merge: rff-zf5w","description":"branch: polecat/ace/rff-zf5w@mku18z45\ntarget: main\nsource_issue: rff-zf5w\nrig: rff\nworker: ace\nagent_bead: rff-rff-polecat-ace\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:54:43.290658+01:00","created_by":"rff/polecats/ace","updated_at":"2026-01-25T20:26:47.892616+01:00","closed_at":"2026-01-25T20:26:47.892618+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-xg0y","title":"Merge: rff-b7jm","description":"branch: polecat/ace/rff-b7jm@mku0l68s\ntarget: main\nsource_issue: rff-b7jm\nrig: rff\nworker: ace\nagent_bead: rff-rff-polecat-ace\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:44:04.620316+01:00","created_by":"rff/polecats/ace","updated_at":"2026-01-25T20:26:47.451251+01:00","closed_at":"2026-01-25T20:26:47.451253+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-y83pz","title":"URGENT: Build broken - InvoiceFieldType has no member 'recipient'","description":"attached_molecule: rff-wisp-r25f\nattached_at: 2026-01-25T18:35:55Z\ndispatched_by: mayor\n\nCompilation error after recipient rename. Need to add 'recipient' case to InvoiceFieldType enum or fix references to use existing 'customerName' case.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/max","created_at":"2026-01-25T19:35:17.911236+01:00","created_by":"mayor","updated_at":"2026-01-25T19:38:51.467331+01:00","closed_at":"2026-01-25T19:38:51.467331+01:00","close_reason":"Fixed build by removing invalid .recipient enum references from 3 files","dependencies":[{"issue_id":"rff-y83pz","depends_on_id":"rff-wisp-r25f","type":"blocks","created_at":"2026-01-25T19:35:54.291719+01:00","created_by":"mayor"}]}
{"id":"rff-ydft","title":"Digest: mol-witness-patrol","description":"Patrol 7: slit implementing entitlements fix","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T13:52:04.85378+01:00","updated_at":"2026-01-25T13:52:04.85378+01:00","closed_at":"2026-01-25T13:52:04.853701+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"rff-ylt5","title":"Add CHF (Swiss Franc) to supported currencies","description":"attached_molecule: rff-wisp-vy6j\nattached_at: 2026-01-25T16:58:42Z\ndispatched_by: mayor\n\nAdd CHF to the Currency enum with proper symbol (CHF or Fr.) and formatting. Update currency selection throughout the app.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/cheedo","created_at":"2026-01-25T17:46:56.792858+01:00","created_by":"mayor","updated_at":"2026-01-25T18:01:01.985888+01:00","closed_at":"2026-01-25T18:01:01.985888+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ylt5","depends_on_id":"rff-wisp-1m1r","type":"blocks","created_at":"2026-01-25T17:51:51.344518+01:00","created_by":"mayor"},{"issue_id":"rff-ylt5","depends_on_id":"rff-wisp-vy6j","type":"blocks","created_at":"2026-01-25T17:58:41.329308+01:00","created_by":"mayor"}]}
{"id":"rff-ytq3","title":"Fix Schema Editor - integrate with Library document selection","description":"attached_molecule: rff-wisp-f0z8\nattached_at: 2026-01-25T17:11:31Z\ndispatched_by: mayor\n\nSchema Editor shows 'open a document to analyze its schema' but:\n1. File-\u003eOpen doesn't work with PDFs in this context\n2. Library document selection doesn't connect to Schema Editor\n\nFix by:\n1. Add 'Edit Schema' button in Library document detail view that opens SchemaEditorView WITH the current document\n2. SchemaEditorView should accept a document parameter and load its PDF/image\n3. Remove the useless 'open a document' prompt - always require document context\n4. OR add a document picker directly in SchemaEditorView that lists Library documents\n\nThe Schema Editor must work with documents from the Library, not just file-based documents.","notes":"Implemented: Added Edit Schema button in DocumentDetailView toolbar, SchemaEditorView now accepts documentURL parameter and auto-loads on appear. Build verified.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/warboy","created_at":"2026-01-25T18:11:01.445976+01:00","created_by":"mayor","updated_at":"2026-01-25T18:15:05.915973+01:00","closed_at":"2026-01-25T18:15:05.915973+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ytq3","depends_on_id":"rff-wisp-f0z8","type":"blocks","created_at":"2026-01-25T18:11:30.48512+01:00","created_by":"mayor"}]}
{"id":"rff-ze6v","title":"AI Analyze from context menu shows empty preview - no mapped fields displayed","description":"attached_molecule: rff-wisp-bll3\nattached_at: 2026-01-25T18:23:23Z\ndispatched_by: mayor\n\nWhen using AI Analyze from the right-click context menu in Library, the result preview appears empty with no mapped fields. The analysis may be running but results aren't being displayed in the UI.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/splendid","created_at":"2026-01-25T19:22:41.029532+01:00","created_by":"mayor","updated_at":"2026-01-25T19:28:21.606412+01:00","closed_at":"2026-01-25T19:28:21.606412+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-ze6v","depends_on_id":"rff-wisp-bll3","type":"blocks","created_at":"2026-01-25T19:23:21.550041+01:00","created_by":"mayor"}]}
{"id":"rff-zf5w","title":"AI extraction: Recognize 'Balance Due' as total amount - update prompt to handle synonyms (Amount Due, Grand Total, Balance Due)","description":"attached_molecule: rff-wisp-u3di\nattached_at: 2026-01-25T17:49:22Z\ndispatched_by: mayor\n\nInvoice at /Users/mandrigin/Downloads/invoices-01-2026/Invoice IM-2026-01.pdf has 'Balance Due: CHF 22,000.00' but no explicit 'Total:' line. The AI prompt should recognize these synonyms. Also add test cases for field mapping.","status":"closed","priority":2,"issue_type":"task","assignee":"rff/polecats/ace","created_at":"2026-01-25T18:48:50.073977+01:00","created_by":"mayor","updated_at":"2026-01-25T18:54:46.701362+01:00","closed_at":"2026-01-25T18:54:46.701362+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rff-zf5w","depends_on_id":"rff-wisp-u3di","type":"blocks","created_at":"2026-01-25T18:49:21.883371+01:00","created_by":"mayor"}]}
{"id":"rff-zm1w","title":"Merge: rff-ugec","description":"branch: polecat/morsov/rff-ugec@mku0g13d\ntarget: main\nsource_issue: rff-ugec\nrig: rff\nworker: morsov\nagent_bead: rff-rff-polecat-morsov\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:32:26.681315+01:00","created_by":"rff/polecats/morsov","updated_at":"2026-01-25T20:26:45.662733+01:00","closed_at":"2026-01-25T20:26:45.662735+01:00","labels":["gt:merge-request"],"ephemeral":true}
{"id":"rff-zxuz","title":"Merge: rff-fxke","description":"branch: polecat/morsov/rff-fxke@mktznt27\ntarget: main\nsource_issue: rff-fxke\nrig: rff\nworker: morsov\nagent_bead: rff-rff-polecat-morsov\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T18:13:43.459942+01:00","created_by":"rff/polecats/morsov","updated_at":"2026-01-25T20:26:42.594388+01:00","closed_at":"2026-01-25T20:26:42.594392+01:00","labels":["gt:merge-request"],"ephemeral":true}
