{"id":"in-075","title":"Digest: mol-witness-patrol","description":"Patrol 3: Furiosa creating InvoiceTemplateEditorView UI, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:39:34.652035+01:00","updated_at":"2026-01-18T18:39:34.652035+01:00","closed_at":"2026-01-18T18:39:34.651956+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-07i","title":"Digest: mol-witness-patrol","description":"Patrol 9: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:02.038067+01:00","updated_at":"2026-01-18T18:42:02.038067+01:00","closed_at":"2026-01-18T18:42:02.03801+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-07i","depends_on_id":"in-wisp-9ve","type":"parent-child","created_at":"2026-01-18T18:42:02.038694+01:00","created_by":"invoices/witness"}]}
{"id":"in-0rr","title":"Digest: mol-witness-patrol","description":"Patrol 1: Archived 9 stale POLECAT_DONE msgs, verified furiosa healthy (working on in-rir), no cleanup wisps, no timer gates, no swarms, pinged Deacon","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:37:52.541952+01:00","updated_at":"2026-01-18T18:37:52.541952+01:00","closed_at":"2026-01-18T18:37:52.541666+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-1vb","title":"CRASH: group.leave() in WorkingDayCalculator line 199","description":"dispatched_by: mayor\n\nApp crashes when generating an invoice.\n\nError: EXC_BREAKPOINT (code=1, subcode=0x100f94d78)\nLocation: WorkingDayCalculator.swift, isWorkingDay() function, line 199 - group.leave()\n\nThis is likely a DispatchGroup imbalance - calling leave() more times than enter(), or calling it after the group has already been notified.\n\nCheck the async flow in isWorkingDay() and ensure:\n1. Every enter() has exactly one matching leave()\n2. No double leave() calls\n3. Handle error cases properly","status":"hooked","priority":0,"issue_type":"bug","assignee":"invoices/polecats/rictus","created_at":"2026-01-18T21:24:34.655232+01:00","created_by":"mayor","updated_at":"2026-01-18T21:25:16.33395+01:00"}
{"id":"in-1wg","title":"Digest: mol-witness-patrol","description":"Patrol 9: No polecats active, inbox empty, no timer gates, no swarms, Deacon stopped, refinery quiet. Routine patrol - no incidents.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:08:44.177213+01:00","updated_at":"2026-01-18T21:08:44.177213+01:00","closed_at":"2026-01-18T21:08:44.177148+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-1wg","depends_on_id":"in-wisp-2mn","type":"parent-child","created_at":"2026-01-18T21:08:44.177955+01:00","created_by":"invoices/witness"}]}
{"id":"in-2k3","title":"Digest: mol-witness-patrol","description":"Patrol 10. EXTRAORDINARY: Escalated conflict (furiosa+rictus both on in-ut2). Refinery running, no MRs. slit working in-lig. nux stopped. Deacon still stopped.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:12:52.214014+01:00","updated_at":"2026-01-18T21:12:52.214014+01:00","closed_at":"2026-01-18T21:12:52.213949+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-2k3","depends_on_id":"in-wisp-g5h","type":"parent-child","created_at":"2026-01-18T21:12:52.214736+01:00","created_by":"invoices/witness"}]}
{"id":"in-58e","title":"Digest: mol-witness-patrol","description":"Patrol complete: processed lifecycle events, cleaned up nux/rictus polecats, escalated furiosa/rictus collision on in-ut2 to Mayor, verified refinery running, slit and furiosa working","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:14:34.750273+01:00","updated_at":"2026-01-18T21:14:34.750273+01:00","closed_at":"2026-01-18T21:14:34.750208+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-58e","depends_on_id":"in-wisp-2hb","type":"parent-child","created_at":"2026-01-18T21:14:34.751017+01:00","created_by":"invoices/witness"}]}
{"id":"in-7gh","title":"Digest: mol-witness-patrol","description":"Patrol 8: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:41:40.691436+01:00","updated_at":"2026-01-18T18:41:40.691436+01:00","closed_at":"2026-01-18T18:41:40.691376+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-7gh","depends_on_id":"in-wisp-1m9","type":"parent-child","created_at":"2026-01-18T18:41:40.6921+01:00","created_by":"invoices/witness"}]}
{"id":"in-7lk","title":"Add new Swift files to Xcode project","description":"dispatched_by: mayor\n\nThe new invoice generation files exist but weren't added to the Xcode project.pbxproj:\n\nFiles to add:\n- InvoiceFiler/Models/InvoiceModels.swift\n- InvoiceFiler/Services/BankHolidayService.swift\n- InvoiceFiler/Services/InvoiceScheduler.swift\n- InvoiceFiler/Services/WorkingDayCalculator.swift\n- InvoiceFiler/Views/DraftInvoiceEditorView.swift\n- InvoiceFiler/Views/InvoiceTemplateEditorView.swift\n- InvoiceFiler/Views/InvoicingView.swift\n\nUpdate InvoiceFiler.xcodeproj/project.pbxproj to include these files in the build.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:32:19.133472+01:00","created_by":"mayor","updated_at":"2026-01-18T20:35:45.207546+01:00","closed_at":"2026-01-18T20:35:45.207546+01:00","close_reason":"Merged - 7 Swift files added to project.pbxproj"}
{"id":"in-8zd","title":"Fix all compiler warnings","description":"dispatched_by: mayor\n\nFix all compiler warnings in the codebase. Build must complete with zero warnings and zero errors.\n\nKnown warnings from last build:\n- ConfigManager.swift:333 - nil coalescing with non-optional left side\n- Debouncer.swift:325 - unreachable catch block\n- CompanyMatcher.swift:268 - let vs var\n- InvoiceProcessor.swift:340 - unused value\n- ProcessingQueue.swift:251,253 - async context lock/unlock\n\nFix all of these and any others that appear.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/nux","created_at":"2026-01-18T21:00:54.646805+01:00","created_by":"mayor","updated_at":"2026-01-18T21:06:59.111061+01:00","closed_at":"2026-01-18T21:06:59.111061+01:00","close_reason":"Merged - all compiler warnings fixed"}
{"id":"in-9mw","title":"Add README and user guide documentation","description":"dispatched_by: mayor\n\nCreate comprehensive documentation:\n\n1. README.md with:\n   - All app functions explained\n   - New invoice generation features\n   - Bank holiday integration\n   - Template system\n   - Draft management\n   - Note: 'This app was vibe-coded with Claude'\n\n2. User guide covering:\n   - How to set up templates\n   - How billing day and due date calculation works\n   - How bank holidays affect scheduling\n   - How to export PDFs\n   - How to delete/discard drafts","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/slit","created_at":"2026-01-18T21:20:51.342833+01:00","created_by":"mayor","updated_at":"2026-01-18T21:24:48.667938+01:00","closed_at":"2026-01-18T21:24:48.667938+01:00","close_reason":"Merged - README and USERGUIDE added"}
{"id":"in-9t9","title":"Digest: mol-witness-patrol","description":"Patrol 12: Furiosa integrating scheduling into app, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:06.887054+01:00","updated_at":"2026-01-18T18:43:06.887054+01:00","closed_at":"2026-01-18T18:43:06.886882+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-9t9","depends_on_id":"in-wisp-6q4","type":"parent-child","created_at":"2026-01-18T18:43:06.887837+01:00","created_by":"invoices/witness"}]}
{"id":"in-aw2","title":"Digest: mol-witness-patrol","description":"Patrol 2: Furiosa creating InvoiceScheduler, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:38:58.284885+01:00","updated_at":"2026-01-18T18:38:58.284885+01:00","closed_at":"2026-01-18T18:38:58.284823+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-biu","title":"Fix Hashable conformance for invoice models","description":"dispatched_by: mayor\n\nInvoiceTemplate and DraftInvoice need to conform to Hashable for SwiftUI List selection.\n\nErrors:\n- InvoicingView.swift:74 - List init requires InvoiceTemplate conform to Hashable\n- InvoicingView.swift:76 - tag() requires InvoiceTemplate conform to Hashable\n\nFix: Add Hashable conformance to InvoiceTemplate and DraftInvoice in InvoiceModels.swift\n\nSince these structs contain nested types (LineItem, ContactDetails, PaymentTerms, Currency), ensure those also conform to Hashable.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/nux","created_at":"2026-01-18T20:37:16.29484+01:00","created_by":"mayor","updated_at":"2026-01-18T20:40:07.109755+01:00","closed_at":"2026-01-18T20:40:07.109755+01:00","close_reason":"Merged - added Hashable to InvoiceTemplate, DraftInvoice, LineItem, ContactDetails, PaymentTerms"}
{"id":"in-bu6","title":"Digest: mol-witness-patrol","description":"Patrol 11: Furiosa created DraftInvoiceEditorView (548 lines), integrating scheduling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:46.372082+01:00","updated_at":"2026-01-18T18:42:46.372082+01:00","closed_at":"2026-01-18T18:42:46.371914+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-bu6","depends_on_id":"in-wisp-2sr","type":"parent-child","created_at":"2026-01-18T18:42:46.373702+01:00","created_by":"invoices/witness"}]}
{"id":"in-dri","title":"PDF export: save to monitored folder and reveal in Finder","description":"dispatched_by: mayor\n\nWhen exporting an invoice to PDF:\n\n1. Save to the correct folder according to monitoring rules:\n   - Use the same folder organization as invoice filing (invoices-MM-YYYY)\n   - Use destinationRoot from config if set\n   \n2. After saving, reveal the file in Finder (NSWorkspace.shared.selectFile)\n\nCurrently the export PDF button has a TODO comment. Implement full functionality.","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/dementus","created_at":"2026-01-18T21:10:26.31378+01:00","created_by":"mayor","updated_at":"2026-01-18T21:13:26.955004+01:00","closed_at":"2026-01-18T21:13:26.955004+01:00","close_reason":"Merged - PDF export saves to folder and reveals in Finder"}
{"id":"in-dxp","title":"Digest: mol-witness-patrol","description":"Patrol 4: Furiosa adding scheduling config, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:07.371491+01:00","updated_at":"2026-01-18T18:40:07.371491+01:00","closed_at":"2026-01-18T18:40:07.371429+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-eap","title":"Digest: mol-witness-patrol","description":"Patrol 6: Furiosa creating template editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:55.626458+01:00","updated_at":"2026-01-18T18:40:55.626458+01:00","closed_at":"2026-01-18T18:40:55.626381+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-f07","title":"Preserve due date, calculate payment terms from it","description":"Current behavior: Due date is calculated from payment terms (issue date + payment terms = due date)\n\nDesired behavior: Due date should be the primary input, payment terms should be calculated backwards from it.\n\nADDITIONAL REQUIREMENT: Default due date should be billing day - 1 working day\n- User wants to receive payment BEFORE billing day so they can pay salaries\n- Example: If billing day is 15th, due date should be 14th (or previous working day if 14th is weekend/holiday)\n\nWhen user sets a due date:\n- Keep the due date as entered\n- Calculate payment terms = due date - issue date (in days)\n- Display the calculated payment terms\n\nThis preserves the user's intended due date rather than overwriting it based on default payment terms.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:56:50.827958+01:00","created_by":"mayor","updated_at":"2026-01-18T21:01:46.709296+01:00","closed_at":"2026-01-18T21:01:46.709296+01:00","close_reason":"Merged - due date preserved, payment terms calculated from it, billing day -1 working day default"}
{"id":"in-fj2","title":"Digest: mol-witness-patrol","description":"Patrol 13: Furiosa adding Invoice Management to status menu","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:28.981043+01:00","updated_at":"2026-01-18T18:43:28.981043+01:00","closed_at":"2026-01-18T18:43:28.980984+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-fj2","depends_on_id":"in-wisp-mai","type":"parent-child","created_at":"2026-01-18T18:43:28.981685+01:00","created_by":"invoices/witness"}]}
{"id":"in-fkb","title":"Digest: mol-witness-patrol","description":"Patrol 14: Furiosa integrating scheduler in AppDelegate, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:51.814468+01:00","updated_at":"2026-01-18T18:43:51.814468+01:00","closed_at":"2026-01-18T18:43:51.814395+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-gz2","title":"Digest: mol-witness-patrol","description":"Patrol 5: Furiosa creating template editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:32.858918+01:00","updated_at":"2026-01-18T18:40:32.858918+01:00","closed_at":"2026-01-18T18:40:32.858857+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-hno","title":"Digest: mol-witness-patrol","description":"Patrol 10: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:24.109206+01:00","updated_at":"2026-01-18T18:42:24.109206+01:00","closed_at":"2026-01-18T18:42:24.10914+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-hno","depends_on_id":"in-wisp-rhx","type":"parent-child","created_at":"2026-01-18T18:42:24.109914+01:00","created_by":"invoices/witness"}]}
{"id":"in-invoices-crew-mandrigin","title":"Crew worker mandrigin in invoices - human-managed persistent workspace.","description":"Crew worker mandrigin in invoices - human-managed persistent workspace.\n\nrole_type: crew\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:29:01.792944+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:29:01.909181+01:00","labels":["gt:agent"],"role_bead":"hq-crew-role"}
{"id":"in-invoices-polecat-dementus","title":"in-invoices-polecat-dementus","description":"in-invoices-polecat-dementus\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T21:10:34.072791+01:00","created_by":"mayor","updated_at":"2026-01-18T21:14:47.562737+01:00","closed_at":"2026-01-18T21:14:47.562737+01:00","close_reason":"polecat removed","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"in-invoices-polecat-furiosa","title":"in-invoices-polecat-furiosa","description":"in-invoices-polecat-furiosa\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:33:14.2143+01:00","created_by":"mayor","updated_at":"2026-01-18T21:25:05.932434+01:00","closed_at":"2026-01-18T21:25:05.932434+01:00","close_reason":"polecat removed","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"in-invoices-polecat-nux","title":"in-invoices-polecat-nux","description":"in-invoices-polecat-nux\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T20:37:24.37077+01:00","created_by":"mayor","updated_at":"2026-01-18T21:26:58.327713+01:00","closed_at":"2026-01-18T21:26:58.327713+01:00","close_reason":"polecat removed","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"in-invoices-polecat-rictus","title":"in-invoices-polecat-rictus","description":"in-invoices-polecat-rictus\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T21:04:07.38517+01:00","created_by":"mayor","updated_at":"2026-01-18T21:25:15.299123+01:00","closed_at":"2026-01-18T21:14:49.07594+01:00","close_reason":"polecat removed","labels":["gt:agent"],"hook_bead":"in-1vb","role_bead":"hq-polecat-role"}
{"id":"in-invoices-polecat-slit","title":"in-invoices-polecat-slit","description":"in-invoices-polecat-slit\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: clean\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T21:01:56.643395+01:00","created_by":"mayor","updated_at":"2026-01-18T21:25:28.783589+01:00","closed_at":"2026-01-18T21:13:35.457919+01:00","close_reason":"polecat removed","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"in-invoices-refinery","title":"Refinery for invoices - processes merge queue.","description":"Refinery for invoices - processes merge queue.\n\nrole_type: refinery\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:28:46.942634+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.063204+01:00","labels":["gt:agent"],"role_bead":"hq-refinery-role"}
{"id":"in-invoices-witness","title":"Witness for invoices - monitors polecat health and progress.","description":"Witness for invoices - monitors polecat health and progress.\n\nrole_type: witness\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:28:46.459436+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:46.657943+01:00","labels":["gt:agent"],"role_bead":"hq-witness-role"}
{"id":"in-lig","title":"Add delete/discard draft invoice UI","description":"dispatched_by: mayor\n\nThe InvoiceScheduler has deleteDraft() and cancelDraft() methods but they're not exposed in the UI.\n\nAdd:\n1. Delete button in DraftsListView (context menu or swipe to delete)\n2. Cancel/Discard button in DraftInvoiceEditorView for pending drafts\n3. Confirmation dialog before permanent deletion","status":"closed","priority":2,"issue_type":"feature","assignee":"invoices/polecats/slit","created_at":"2026-01-18T21:03:14.643542+01:00","created_by":"mayor","updated_at":"2026-01-18T21:12:37.009328+01:00","closed_at":"2026-01-18T21:12:37.009328+01:00","close_reason":"Merged - delete/discard UI added"}
{"id":"in-llb","title":"Use first monitored path for invoice output, not Documents","description":"When generating/exporting invoices, they're being saved to Documents folder instead of using the first monitored path.\n\nFix: \n1. Use the first entry from config.monitoredPaths as the base directory for invoice output\n2. If multiple monitored paths exist, show a picker in the UI to let user choose which folder\n\nUser's first monitored path is Downloads, but invoices go to Documents.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/nux","created_at":"2026-01-18T21:18:00.319206+01:00","created_by":"mayor","updated_at":"2026-01-18T21:22:52.923551+01:00","closed_at":"2026-01-18T21:22:52.923551+01:00","close_reason":"Implemented: use first monitored path for invoice export, with folder picker when multiple paths exist."}
{"id":"in-mfo","title":"Digest: mol-witness-patrol","description":"Patrol 7: Furiosa created InvoiceTemplateEditorView (535 lines), healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:41:18.448364+01:00","updated_at":"2026-01-18T18:41:18.448364+01:00","closed_at":"2026-01-18T18:41:18.448299+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-rig-invoices","title":"invoices","description":"Rig identity bead for invoices.\n\nrepo: git@github.com:mandrigin/invoice-monitor.git\nprefix: in\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T18:28:47.851328+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.851328+01:00","labels":["gt:rig"]}
{"id":"in-rir","title":"Calendar-based invoice generation with bank holiday awareness","description":"Add invoice generation scheduling that calculates when to generate an invoice based on:\n\n1. Invoice due date\n2. Minus 'days to pay' (payment terms)  \n3. Adjusted for bank holidays of BOTH sender and recipient countries\n\n**Design decisions:**\n- Bank holiday data: External API (e.g., Nager.Date API)\n- Auto-generation mode: Draft creation (auto-create draft invoice, user reviews/sends)\n\n**Components needed:**\n- Bank holiday service (fetch from external API, cache locally)\n- Working day calculator (skip weekends + holidays)\n- Invoice generation scheduler model\n- Configuration: payment terms per company, sender/recipient country\n- Draft invoice creation with notification to user\n\n**Invoice Template UI (recurring setup):**\n- UI for setting recurring invoice content (same each month):\n  - Line items (description, quantity, rate)\n  - Currency selection (support multiple currencies)\n  - Client/recipient details\n  - Payment terms\n  - Sender details\n- Templates saved per client/company\n- Assumption: invoice content is consistent month-to-month, template-based\n\n**Draft Invoice Editor UI:**\n- UI to edit generated draft invoices before finalizing\n- Modify any field (line items, amounts, dates, notes)\n- Preview rendered invoice\n- Approve/send or save for later\n\nThis is a proactive generation system (calendar → generate) separate from the existing reactive filing system (file arrives → organize).","status":"closed","priority":2,"issue_type":"feature","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T18:32:10.076843+01:00","created_by":"mayor","updated_at":"2026-01-18T18:45:53.361827+01:00","closed_at":"2026-01-18T18:45:53.361827+01:00","close_reason":"Closed"}
{"id":"in-s21","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.431464+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.431464+01:00"}
{"id":"in-sgc","title":"Improve first-run and settings UX","description":"dispatched_by: mayor\n\nSeveral UX improvements needed:\n\n1. First-run experience: When app starts with no config, show Settings dialog instead of revealing JSON file\n   - Remove the 'Show Config File' behavior on first run\n   - Open Settings/Preferences dialog instead\n\n2. Add 'Show Config in Finder' option in Settings dialog\n   - Button to reveal the config file location in Finder\n   - Useful for backup purposes\n\n3. Invoice generation settings should be saved to a persistent config file\n   - All invoice templates, settings should be in a discoverable location\n   - User should be able to back up this config\n   - Add option to reveal this file in Finder","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/slit","created_at":"2026-01-18T21:00:10.969413+01:00","created_by":"mayor","updated_at":"2026-01-18T21:06:20.142737+01:00","closed_at":"2026-01-18T21:06:20.142737+01:00","close_reason":"Merged - first-run shows settings, reveal config in Finder added"}
{"id":"in-su5","title":"Add missing UserNotifications import to InvoiceScheduler","description":"dispatched_by: mayor\n\nInvoiceScheduler.swift has a NotificationManager extension that uses UserNotifications types but missing the import.\n\nErrors:\n- cannot find 'UNMutableNotificationContent' in scope\n- cannot find 'UNNotificationRequest' in scope\n- cannot find 'UNUserNotificationCenter' in scope\n\nFix: Add 'import UserNotifications' at top of InvoiceScheduler.swift","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:43:13.524953+01:00","created_by":"mayor","updated_at":"2026-01-18T20:46:13.399592+01:00","closed_at":"2026-01-18T20:46:13.399592+01:00","close_reason":"Merged - added import UserNotifications, build succeeds"}
{"id":"in-ut2","title":"Adjust billing day for holidays and weekends","description":"dispatched_by: mayor\n\nIf the billing day of month falls on a bank holiday or weekend, it needs to be adjusted to the previous working day.\n\nIMPORTANT: Must actually USE the bank holiday API (BankHolidayService) when checking - currently it seems bank holidays are not being fetched/checked.\n\nExample: If billing day is set to 15th but that month the 15th is a Saturday:\n- Should adjust to Friday 14th (or earlier if that's also a holiday)\n- Use WorkingDayCalculator.shared to find the previous working day\n- WorkingDayCalculator uses BankHolidayService internally - ensure this is being called\n\nCheck InvoiceScheduler.checkAndGenerateDrafts() and ensure it:\n1. Fetches bank holidays via BankHolidayService\n2. Uses WorkingDayCalculator to adjust dates\n3. Considers both sender and recipient country holidays","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/rictus","created_at":"2026-01-18T21:05:40.845451+01:00","created_by":"mayor","updated_at":"2026-01-18T21:12:37.184318+01:00","closed_at":"2026-01-18T21:12:37.184318+01:00","close_reason":"Merged - billing day adjusted for holidays"}
{"id":"in-v5z","title":"Digest: mol-witness-patrol","description":"Patrol 8: Processed POLECAT_DONE (in-xo7 complete), nuked nux (idle), nudged furiosa to finish in-f07. Refinery running with 4 MRs. No active swarms or timer gates. Deacon stopped (noted).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T21:05:00.522954+01:00","updated_at":"2026-01-18T21:05:00.522954+01:00","closed_at":"2026-01-18T21:05:00.522854+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-v5z","depends_on_id":"in-wisp-7ff","type":"parent-child","created_at":"2026-01-18T21:05:00.523839+01:00","created_by":"invoices/witness"}]}
{"id":"in-vx2","title":"Digest: mol-witness-patrol","description":"Patrol 15: Furiosa verifying build compiles, nearing completion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:44:16.010679+01:00","updated_at":"2026-01-18T18:44:16.010679+01:00","closed_at":"2026-01-18T18:44:16.010609+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-vx2","depends_on_id":"in-wisp-dcy","type":"parent-child","created_at":"2026-01-18T18:44:16.011385+01:00","created_by":"invoices/witness"}]}
{"id":"in-xb6","title":"Fix due date calculation: nearest working billing day minus 1","description":"Current calculation is WRONG. Correct logic:\n\n1. Get billing day of month (e.g., 15th)\n2. Find the NEXT MONTH's billing day (not current month if already past)\n3. If that billing day falls on weekend/holiday → adjust to PREVIOUS working day\n4. Subtract 1 working day from adjusted billing day → THIS IS THE DUE DATE\n\nADDITIONAL UX REQUIREMENTS:\n- Show explanation in the UI for WHY the due date was adjusted\n- If multiple adjustments were made (e.g., weekend + holiday), list ALL of them\n- Example: 'Due date adjusted: Feb 15 (Sat) → Feb 14 (Fri) → Feb 13 (bank holiday Norway) → Feb 12'\n\nMust use WorkingDayCalculator with actual bank holiday lookups for both sender and recipient countries.","status":"closed","priority":0,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T21:15:27.167761+01:00","created_by":"mayor","updated_at":"2026-01-18T21:26:00.666823+01:00","closed_at":"2026-01-18T21:26:00.666823+01:00","close_reason":"Merged - due date calculation fix"}
{"id":"in-xht","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.263956+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.263956+01:00"}
{"id":"in-xo7","title":"Fix invoice template UI issues","description":"dispatched_by: mayor\n\nMultiple issues with invoice template editor:\n\n1. Norway (NO) missing from country picker - need to add it\n2. 'Select a client' dropdown shows nothing - the picker uses configManager.companies but this may be empty or not loading correctly. Need to either:\n   - Allow adding companies from the template editor, OR\n   - Show helpful message when no companies configured\n3. Can't save template - the Save button may be disabled due to validation (isValid check) or other issue\n\nInvestigate and fix all three issues.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:51:40.275176+01:00","created_by":"mayor","updated_at":"2026-01-18T20:56:25.56632+01:00","closed_at":"2026-01-18T20:56:25.56632+01:00","close_reason":"Fixed: Norway added, client now optional, message shown when no companies"}
{"id":"in-xp5","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.649112+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.649112+01:00"}
