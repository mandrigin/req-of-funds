{"id":"in-1t0","title":"Add build verification to AGENTS.md","description":"Add to AGENTS.md quality gates section:\n\nBuild command:\nDEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler -configuration Debug build\n\nAll code changes must pass build before pushing.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-13T16:34:31.164391+01:00","created_by":"mayor","updated_at":"2026-01-13T16:34:31.164391+01:00"}
{"id":"in-1th","title":"Fix: Add missing Swift files to Xcode project","description":"dispatched_by: mayor\n\nBuild failing because StatusMenuController.swift exists on disk but isn't in the Xcode project file.\n\nErrors:\n- cannot find type 'StatusMenuController' in scope\n- NSNotification.Name has no member 'openPreferences'\n\nFix: Add StatusMenuController.swift to InvoiceFiler.xcodeproj/project.pbxproj in both PBXFileReference and PBXBuildFile sections.\n\nAlso add any notification extension if needed.","status":"closed","priority":0,"issue_type":"bug","assignee":"invoices/polecats/rictus","created_at":"2026-01-13T16:32:41.561688+01:00","created_by":"mayor","updated_at":"2026-01-13T16:34:51.878396+01:00","closed_at":"2026-01-13T16:34:51.878396+01:00","close_reason":"Closed"}
{"id":"in-2kx","title":"Phase 7: OCRExtractor (Vision)","description":"dispatched_by: mayor\n\nImplement Vision OCR:\n- VNRecognizeTextRequest with .accurate level\n- Configurable recognitionLanguages\n- usesLanguageCorrection = true\n- Render PDF pages to CGImage at 150 DPI\n- Return text + average confidence score\n- 30 second timeout per file\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md sections 3.2, 6.1","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/slit","created_at":"2026-01-13T16:10:56.238542+01:00","created_by":"mayor","updated_at":"2026-01-13T16:36:15.619722+01:00","closed_at":"2026-01-13T16:36:15.619722+01:00","close_reason":"OCRExtractor implemented with Vision framework","dependencies":[{"issue_id":"in-2kx","depends_on_id":"in-2xj","type":"blocks","created_at":"2026-01-13T16:11:32.93032+01:00","created_by":"mayor"}]}
{"id":"in-2xj","title":"Phase 2: ConfigManager and data models","description":"dispatched_by: mayor\n\nImplement configuration system:\n- ConfigManager: load/save JSON config from ~/Library/Application Support/InvoiceFiler/\n- CompanyConfig struct (name, aliases, taxIds, domains)\n- All config parameters from spec section 2.1-2.2\n- UserDefaults for simple settings\n- Config validation\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 2, 5.2","status":"closed","priority":1,"issue_type":"task","assignee":"invoices/polecats/furiosa","created_at":"2026-01-13T16:10:55.156719+01:00","created_by":"mayor","updated_at":"2026-01-13T16:29:43.579333+01:00","closed_at":"2026-01-13T16:29:43.579333+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-2xj","depends_on_id":"in-8f8","type":"blocks","created_at":"2026-01-13T16:11:32.348048+01:00","created_by":"mayor"}]}
{"id":"in-3to","title":"Phase 10: CompanyMatcher","description":"dispatched_by: mayor\n\nImplement company matching:\n- Multi-signal: exact name, alias, fuzzy, tax ID, domain/email\n- Text normalization (lowercase, remove suffixes like Inc/LLC/Ltd)\n- Levenshtein fuzzy matching with sliding window\n- Configurable companyMatchThreshold (default 0.8)\n- Handle multiple matches (highest confidence wins)\n- Optional filename hint boost\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.4","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/dag","created_at":"2026-01-13T16:11:19.002983+01:00","created_by":"mayor","updated_at":"2026-01-13T17:06:42.17358+01:00","closed_at":"2026-01-13T17:06:42.17358+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-3to","depends_on_id":"in-qg3","type":"blocks","created_at":"2026-01-13T16:11:33.317977+01:00","created_by":"mayor"}]}
{"id":"in-4n4","title":"Add log viewer UI","description":"branch: polecat/morsov-mkctz2cm","status":"open","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T17:59:52.550736+01:00","created_by":"invoices/polecats/morsov","updated_at":"2026-01-13T17:59:52.550736+01:00"}
{"id":"in-787","title":"Phase 5: Debouncer","description":"dispatched_by: mayor\n\nImplement debounce and stability:\n- Per-file timers (configurable debounceInterval, default 3s)\n- Cancel/reset timer on new events for same file\n- Deduplication via Set\u003cString\u003e of canonical paths\n- Stability check: compare file size across 500ms\n- Max 5 stability checks then skip as unstable\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.1","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/dementus","created_at":"2026-01-13T16:10:55.80558+01:00","created_by":"mayor","updated_at":"2026-01-13T16:49:23.459764+01:00","closed_at":"2026-01-13T16:49:23.459764+01:00","close_reason":"Implemented Debouncer with per-file timers, canonical path deduplication, stability checks (500ms intervals, max 5 retries), and Logger integration for skipped files","dependencies":[{"issue_id":"in-787","depends_on_id":"in-edr","type":"blocks","created_at":"2026-01-13T16:11:32.681932+01:00","created_by":"mayor"}]}
{"id":"in-7kk","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-13T15:58:49.441064+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:49.441064+01:00"}
{"id":"in-88m","title":"Feature: Implement config/preferences dialog","description":"dispatched_by: mayor\n\nAdd preferences window accessible from menu bar:\n\nSettings to configure:\n- Monitored paths (add/remove directories)\n- Destination root folder\n- Company list (add/edit/remove with aliases, tax IDs, domains)\n- Supported extensions\n- Exclusion patterns\n- Debounce interval\n- OCR languages\n- Confidence thresholds\n- Launch at login toggle\n\nUse SwiftUI for the preferences window. Open via menu item or Cmd+, shortcut.\n\nBuild: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/ace","created_at":"2026-01-13T17:38:50.859541+01:00","created_by":"mayor","updated_at":"2026-01-13T17:44:18.821917+01:00","closed_at":"2026-01-13T17:44:18.821917+01:00","close_reason":"Closed"}
{"id":"in-8d6","title":"Merge: capable-mkcrj5vz","description":"branch: polecat/capable-mkcrj5vz\ntarget: main\nsource_issue: in-qg3\nrig: invoices","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T17:00:08.719462+01:00","created_by":"mayor","updated_at":"2026-01-13T17:01:20.602441+01:00","closed_at":"2026-01-13T17:01:20.602441+01:00","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"in-8f8","title":"Phase 1: Xcode project setup","description":"dispatched_by: mayor\n\nCreate macOS menu bar app project:\n- Swift 5.9+, macOS 13.0+ target\n- LSUIElement=true in Info.plist (no dock icon)\n- Non-sandboxed entitlements\n- Basic NSStatusItem menu bar icon\n- App delegate structure\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md sections 1, 6.3, 6.4","status":"closed","priority":1,"issue_type":"task","assignee":"invoices/polecats/furiosa","created_at":"2026-01-13T16:10:54.949929+01:00","created_by":"mayor","updated_at":"2026-01-13T16:16:47.760007+01:00","closed_at":"2026-01-13T16:16:47.760007+01:00","close_reason":"Closed"}
{"id":"in-8x9","title":"Invoice Filer macOS App","description":"Content-aware macOS menu bar app that monitors directories for invoice files, uses OCR/PDF text extraction to identify invoices and match company names, and auto-files to monthly folders. See /Users/mandrigin/Desktop/invoices-spec.md for full specification.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-13T16:10:28.704206+01:00","created_by":"mayor","updated_at":"2026-01-13T16:10:28.704206+01:00"}
{"id":"in-agv","title":"Phase 6: PDFExtractor (PDFKit)","description":"dispatched_by: mayor\n\nImplement PDF text extraction:\n- PDFKit PDFDocument/PDFPage.string\n- Respect maxOCRPages limit\n- Detect scanned PDFs (\u003c 50 words = needs OCR)\n- Return ExtractionResult with method, confidence, pageCount\n- Handle corrupted/password-protected PDFs gracefully\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md sections 3.2, 6.2","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/nux","created_at":"2026-01-13T16:10:56.021304+01:00","created_by":"mayor","updated_at":"2026-01-13T16:35:43.907958+01:00","closed_at":"2026-01-13T16:35:43.907958+01:00","close_reason":"Completed","dependencies":[{"issue_id":"in-agv","depends_on_id":"in-2xj","type":"blocks","created_at":"2026-01-13T16:11:32.857805+01:00","created_by":"mayor"}]}
{"id":"in-amh","title":"Feature: Show notification when file is moved","description":"dispatched_by: mayor\n\nShow macOS notification (NSUserNotification or UNUserNotificationCenter) each time an invoice is successfully filed.\n\nNotification should include:\n- Title: 'Invoice Filed'\n- Body: filename + destination folder\n- Optional: company name matched\n\nUse UNUserNotificationCenter for macOS 13+.\n\nBuild: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/keeper","created_at":"2026-01-13T17:38:50.463192+01:00","created_by":"mayor","updated_at":"2026-01-13T17:42:25.80849+01:00","closed_at":"2026-01-13T17:42:25.80849+01:00","close_reason":"Implemented macOS notification when invoice is filed using UNUserNotificationCenter"}
{"id":"in-b80","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-13T15:58:49.279689+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:49.279689+01:00"}
{"id":"in-blb","title":"Phase 12: Organizer and Mover","description":"dispatched_by: mayor\n\nImplement file organization:\n- Folder naming: invoices-MM-YYYY\n- Destination resolution (configurable root or source dir)\n- Idempotency check (already in invoice folder)\n- Atomic move with FileManager.moveItem\n- Collision handling with -1, -2 suffix (max 999)\n- Cross-volume: copy + verify + remove\n- Locked file retry (3 retries, 30s apart)\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md sections 3.6, 3.7","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/toast","created_at":"2026-01-13T16:11:19.412871+01:00","created_by":"mayor","updated_at":"2026-01-13T17:10:28.596077+01:00","closed_at":"2026-01-13T17:10:28.596077+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-blb","depends_on_id":"in-rw4","type":"blocks","created_at":"2026-01-13T16:11:33.563657+01:00","created_by":"mayor"}]}
{"id":"in-bol","title":"Phase 13: StatusMenu UI","description":"dispatched_by: mayor\n\nMenu bar interface:\n- NSStatusItem with icon (green/yellow/red badge)\n- Processing indicator (animated during OCR)\n- Quick stats: 'Last 24h: X filed, Y skipped'\n- Last processed file + result\n- Open log in Console.app\n- Settings/preferences access\n- Quit option\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 4 (Observability)","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/slit","created_at":"2026-01-13T16:11:19.617514+01:00","created_by":"mayor","updated_at":"2026-01-13T16:24:03.580443+01:00","closed_at":"2026-01-13T16:24:03.580443+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-bol","depends_on_id":"in-8f8","type":"blocks","created_at":"2026-01-13T16:11:33.633022+01:00","created_by":"mayor"}]}
{"id":"in-bzn","title":"MR: Phase 14 Integration and launch","description":"Branch: polecat/toast-mkcsjd4s\nPR URL: https://github.com/mandrigin/invoice-monitor/pull/new/polecat/toast-mkcsjd4s\n\n## Summary\nWire everything together for the complete invoice processing pipeline:\n- InvoiceProcessor: Main processing loop per spec section 5.3\n- ProcessingQueue: OCR concurrency limit (maxConcurrent=2)\n- Organizer: Folder resolution and idempotency checks\n- Mover: Atomic move with cross-volume and retry support\n- LaunchAtLoginManager: SMAppService.mainApp for macOS 13+\n- PermissionManager: Full Disk Access prompt on first launch\n- AppDelegate: Wire FileWatcher → Debouncer → InvoiceProcessor\n\n## Files Changed (8 files, +1899 lines)\n- InvoiceFiler/Services/InvoiceProcessor.swift (new)\n- InvoiceFiler/Services/ProcessingQueue.swift (new)\n- InvoiceFiler/Services/Organizer.swift (new)\n- InvoiceFiler/Services/Mover.swift (new)\n- InvoiceFiler/Services/LaunchAtLoginManager.swift (new)\n- InvoiceFiler/Services/PermissionManager.swift (new)\n- InvoiceFiler/AppDelegate.swift (modified)\n- InvoiceFiler/Services/ConfigManager.swift (modified)\n\nCloses in-grc (Phase 14: Integration and launch)","status":"open","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T17:22:37.488886+01:00","created_by":"invoices/polecats/toast","updated_at":"2026-01-13T17:22:37.488886+01:00"}
{"id":"in-cjc","title":"Feature: Handle target path conflicts gracefully","description":"dispatched_by: mayor\n\nWhen destination file already exists, don't overwrite. Instead:\n1. Append numeric suffix: invoice.pdf → invoice-1.pdf → invoice-2.pdf\n2. Max 999 attempts before failing\n3. Log the collision and final path used\n\nThis is already partially in Mover.swift (resolveCollision) - verify it works and is integrated properly.\n\nBuild: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/morsov","created_at":"2026-01-13T17:38:50.66616+01:00","created_by":"mayor","updated_at":"2026-01-13T17:41:55.258263+01:00","closed_at":"2026-01-13T17:41:55.258263+01:00","close_reason":"Closed"}
{"id":"in-dl3","title":"Add user-friendly log viewer UI","description":"dispatched_by: mayor\n\nReplace raw JSON log display with a proper SwiftUI log viewer:\n\n**Requirements:**\n- Create LogViewerView.swift with SwiftUI table/list showing log entries\n- Parse JSONL log file and display in readable format\n- Show columns: timestamp, action, filename, company, outcome\n- Color-code by outcome (success=green, skipped=yellow, error=red)\n- Add filtering by date range, outcome type, company\n- Add search functionality\n- Show entry details in expandable rows or detail pane\n- Add 'Clear Log' and 'Export' buttons\n- Wire into StatusMenuController menu item\n\n**UI Design:**\n- NSWindow with SwiftUI LogViewerView\n- Sortable columns\n- Auto-refresh when log updates\n- Pagination or virtual scrolling for large logs\n\nReference: Logger.swift for JSONL format","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/morsov","created_at":"2026-01-13T17:53:10.493544+01:00","created_by":"mayor","updated_at":"2026-01-13T17:57:39.425517+01:00","closed_at":"2026-01-13T17:57:39.425517+01:00","close_reason":"Implemented log viewer UI with SwiftUI table, filtering, search, clear and export"}
{"id":"in-edr","title":"Phase 4: FileWatcher (FSEvents)","description":"dispatched_by: mayor\n\nImplement directory monitoring:\n- FSEvents API for directory watching\n- Handle: file creation, rename-into-directory, modification\n- Support recursive option per path\n- Filter by supported extensions\n- Exclusion patterns (glob matching)\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.1","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/furiosa","created_at":"2026-01-13T16:10:55.593862+01:00","created_by":"mayor","updated_at":"2026-01-13T16:37:35.263756+01:00","closed_at":"2026-01-13T16:37:35.263756+01:00","close_reason":"Implemented FileWatcher with FSEvents API, event handling, recursive monitoring, and extension filtering","dependencies":[{"issue_id":"in-edr","depends_on_id":"in-2xj","type":"blocks","created_at":"2026-01-13T16:11:32.607733+01:00","created_by":"mayor"}]}
{"id":"in-grc","title":"Phase 14: Integration and launch","description":"dispatched_by: mayor\n\nWire everything together:\n- Main processing loop (see spec section 5.3 pseudocode)\n- ProcessingQueue with maxConcurrent=2 for OCR\n- SMAppService.mainApp for launch at login\n- Full Disk Access prompt on first launch\n- Error handling for all edge cases (section 7)\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md sections 5.3, 6.3, 7","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/toast","created_at":"2026-01-13T16:11:19.827063+01:00","created_by":"mayor","updated_at":"2026-01-13T17:20:18.027251+01:00","closed_at":"2026-01-13T17:20:18.027251+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-grc","depends_on_id":"in-blb","type":"blocks","created_at":"2026-01-13T16:11:33.805073+01:00","created_by":"mayor"},{"issue_id":"in-grc","depends_on_id":"in-bol","type":"blocks","created_at":"2026-01-13T16:11:33.877912+01:00","created_by":"mayor"},{"issue_id":"in-grc","depends_on_id":"in-xop","type":"blocks","created_at":"2026-01-13T16:11:33.944953+01:00","created_by":"mayor"},{"issue_id":"in-grc","depends_on_id":"in-3to","type":"blocks","created_at":"2026-01-13T16:11:34.019092+01:00","created_by":"mayor"}]}
{"id":"in-invoices-crew-mandrigin","title":"Crew worker mandrigin in invoices - human-managed persistent workspace.","description":"Crew worker mandrigin in invoices - human-managed persistent workspace.\n\nrole_type: crew\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T15:58:59.791283+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:59.897732+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-ace","title":"in-invoices-polecat-ace","description":"in-invoices-polecat-ace\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-88m\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:39:42.643732+01:00","created_by":"mayor","updated_at":"2026-01-13T17:39:59.812249+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-capable","title":"in-invoices-polecat-capable","description":"in-invoices-polecat-capable\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-qg3\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:44:56.252613+01:00","created_by":"mayor","updated_at":"2026-01-13T16:49:08.870532+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-cheedo","title":"in-invoices-polecat-cheedo","description":"in-invoices-polecat-cheedo\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-rw4\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:04:14.056159+01:00","created_by":"mayor","updated_at":"2026-01-13T17:07:00.622121+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-dag","title":"in-invoices-polecat-dag","description":"in-invoices-polecat-dag\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-3to\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:03:52.33361+01:00","created_by":"mayor","updated_at":"2026-01-13T17:07:07.414597+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-dementus","title":"in-invoices-polecat-dementus","description":"in-invoices-polecat-dementus\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-787\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:44:35.458549+01:00","created_by":"mayor","updated_at":"2026-01-13T16:49:41.749777+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-furiosa","title":"in-invoices-polecat-furiosa","description":"in-invoices-polecat-furiosa\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-8f8\nrole_bead: hq-polecat-role\ncleanup_status: has_uncommitted\nactive_mr: in-447\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:11:46.875111+01:00","created_by":"mayor","updated_at":"2026-01-13T16:30:48.173225+01:00","labels":["gt:agent"],"deleted_at":"2026-01-13T16:30:15.172695+01:00","deleted_by":"invoices/polecats/furiosa","delete_reason":"delete","original_type":"agent"}
{"id":"in-invoices-polecat-keeper","title":"in-invoices-polecat-keeper","description":"in-invoices-polecat-keeper\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-amh\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:38:58.353996+01:00","created_by":"mayor","updated_at":"2026-01-13T17:39:15.460117+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-morsov","title":"in-invoices-polecat-morsov","description":"in-invoices-polecat-morsov\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-cjc\nrole_bead: hq-polecat-role\ncleanup_status: has_uncommitted\nactive_mr: in-jmy\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:39:20.446442+01:00","created_by":"mayor","updated_at":"2026-01-13T17:58:28.386227+01:00","labels":["gt:agent"],"deleted_at":"2026-01-13T17:42:25.405046+01:00","deleted_by":"invoices/polecats/morsov","delete_reason":"delete","original_type":"agent"}
{"id":"in-invoices-polecat-nux","title":"in-invoices-polecat-nux","description":"in-invoices-polecat-nux\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-xzq\nrole_bead: hq-polecat-role\ncleanup_status: has_uncommitted\nactive_mr: in-qsi\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:20:58.22981+01:00","created_by":"mayor","updated_at":"2026-01-13T16:36:10.80544+01:00","labels":["gt:agent"],"deleted_at":"2026-01-13T16:27:09.056388+01:00","deleted_by":"invoices/polecats/nux","delete_reason":"delete","original_type":"agent"}
{"id":"in-invoices-polecat-rictus","title":"in-invoices-polecat-rictus","description":"in-invoices-polecat-rictus\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-1th\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:32:48.10904+01:00","created_by":"mayor","updated_at":"2026-01-13T16:33:05.231117+01:00","labels":["gt:agent"]}
{"id":"in-invoices-polecat-slit","title":"in-invoices-polecat-slit","description":"in-invoices-polecat-slit\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-bol\nrole_bead: hq-polecat-role\ncleanup_status: has_uncommitted\nactive_mr: in-m9m\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:21:24.628663+01:00","created_by":"mayor","updated_at":"2026-01-13T16:39:28.767049+01:00","labels":["gt:agent"],"deleted_at":"2026-01-13T16:36:42.115969+01:00","deleted_by":"invoices/polecats/slit","delete_reason":"delete","original_type":"agent"}
{"id":"in-invoices-polecat-toast","title":"in-invoices-polecat-toast","description":"in-invoices-polecat-toast\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-qxj\nrole_bead: hq-polecat-role\ncleanup_status: has_uncommitted\nactive_mr: in-heo\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-13T16:46:36.055873+01:00","created_by":"mayor","updated_at":"2026-01-13T17:21:09.693601+01:00","labels":["gt:agent"],"deleted_at":"2026-01-13T17:11:16.721786+01:00","deleted_by":"invoices/polecats/toast","delete_reason":"delete","original_type":"agent"}
{"id":"in-invoices-polecat-valkyrie","title":"in-invoices-polecat-valkyrie","description":"in-invoices-polecat-valkyrie\n\nrole_type: polecat\nrig: invoices\nagent_state: spawning\nhook_bead: in-qop\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T17:35:10.260422+01:00","created_by":"mayor","updated_at":"2026-01-13T17:37:36.47534+01:00","labels":["gt:agent"]}
{"id":"in-invoices-refinery","title":"Refinery for invoices - processes merge queue.","description":"Refinery for invoices - processes merge queue.\n\nrole_type: refinery\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T15:58:48.982734+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:49.093873+01:00","labels":["gt:agent"]}
{"id":"in-invoices-witness","title":"Witness for invoices - monitors polecat health and progress.","description":"Witness for invoices - monitors polecat health and progress.\n\nrole_type: witness\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-13T15:58:48.642034+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:48.752752+01:00","labels":["gt:agent"]}
{"id":"in-iru","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-13T15:58:49.60109+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:49.60109+01:00"}
{"id":"in-p35","title":"URGENT: StatusMenuController.swift missing from Xcode project","description":"dispatched_by: mayor\n\nStatusMenuController.swift exists at InvoiceFiler/StatusMenuController.swift but has 0 references in project.pbxproj.\n\nBuild errors:\n- cannot find type 'StatusMenuController' in scope\n- NSNotification.Name has no member 'openPreferences'\n\nMUST add to project.pbxproj:\n1. PBXFileReference section - add file reference\n2. PBXBuildFile section - add build file entry  \n3. PBXGroup children - add to InvoiceFiler group\n4. PBXSourcesBuildPhase - add to sources\n\nAlso need to add NSNotification.Name extension for .openPreferences\n\nVerify with: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":0,"issue_type":"bug","assignee":"invoices/polecats/slit","created_at":"2026-01-13T16:36:45.592356+01:00","created_by":"mayor","updated_at":"2026-01-13T16:38:57.400493+01:00","closed_at":"2026-01-13T16:38:57.400493+01:00","close_reason":"Added StatusMenuController.swift to project.pbxproj in all 4 required sections (PBXBuildFile, PBXFileReference, PBXGroup, PBXSourcesBuildPhase). Build verified successful."}
{"id":"in-qg3","title":"Phase 8: ContentExtractor orchestrator","description":"dispatched_by: mayor\n\nOrchestrate PDF/OCR extraction:\n- Try PDFKit first for PDFs\n- Fall back to Vision OCR if \u003c 50 words or scanned\n- Direct OCR for images (PNG/JPG/JPEG/HEIC/TIFF/WEBP)\n- Combine results for hybrid documents\n- Track extraction method and timing\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.2","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/capable","created_at":"2026-01-13T16:10:56.448282+01:00","created_by":"mayor","updated_at":"2026-01-13T16:48:20.783009+01:00","closed_at":"2026-01-13T16:48:20.783009+01:00","close_reason":"ContentExtractor orchestrator implemented with PDF/OCR support","dependencies":[{"issue_id":"in-qg3","depends_on_id":"in-agv","type":"blocks","created_at":"2026-01-13T16:11:32.998897+01:00","created_by":"mayor"},{"issue_id":"in-qg3","depends_on_id":"in-2kx","type":"blocks","created_at":"2026-01-13T16:11:33.066041+01:00","created_by":"mayor"}]}
{"id":"in-qop","title":"Feature: Scan existing files on launch","description":"dispatched_by: mayor\n\nCurrently the app only monitors for new file events via FSEvents. It should also scan existing files in monitored directories on launch to process any invoices that were added while the app wasn't running.\n\nImplementation:\n1. On app launch (after config loaded), enumerate all files in monitoredPaths\n2. Filter by supportedExtensions and exclusionPatterns\n3. Skip files already in invoice folders (idempotency check)\n4. Queue matching files for processing through the normal pipeline\n\nThis ensures no invoices are missed if they were added when the app was quit.\n\nBuild command: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":1,"issue_type":"feature","assignee":"invoices/polecats/valkyrie","created_at":"2026-01-13T17:35:02.37147+01:00","created_by":"mayor","updated_at":"2026-01-13T17:37:27.133391+01:00","closed_at":"2026-01-13T17:37:27.133391+01:00","close_reason":"Closed"}
{"id":"in-qxj","title":"Bug: Menu bar icon not appearing - applicationDidFinishLaunching not called","description":"dispatched_by: mayor\n\nWhen launching the app, no menu bar icon appears. User reports applicationDidFinishLaunching is never called.\n\nLikely causes:\n1. NSPrincipalClass in Info.plist is 'NSApplication' - may need to be the AppDelegate class name\n2. Missing Main.storyboard or MainMenu.xib - pure code menu bar apps need proper entry point setup\n3. The @main attribute may not be working correctly without a main storyboard\n\nPotential fixes:\n- Add NSMainStoryboardFile key to Info.plist pointing to a Main.storyboard, OR\n- Change NSPrincipalClass to AppDelegate class, OR  \n- Create a main.swift file that manually starts NSApplication and sets the delegate\n\nTest by running the app and verifying menu bar icon appears.\n\nBuild command: DEVELOPER_DIR=/Applications/Xcode.app/Contents/Developer xcodebuild -project InvoiceFiler.xcodeproj -scheme InvoiceFiler build","status":"closed","priority":0,"issue_type":"bug","assignee":"invoices/polecats/toast","created_at":"2026-01-13T16:46:29.053128+01:00","created_by":"mayor","updated_at":"2026-01-13T16:49:15.671894+01:00","closed_at":"2026-01-13T16:49:15.671894+01:00","close_reason":"Added main.swift to properly initialize NSApplication with AppDelegate. Removed @main attribute since main.swift now serves as the explicit entry point."}
{"id":"in-rig-invoices","title":"invoices","description":"Rig identity bead for invoices.\n\nrepo: git@github.com:mandrigin/invoice-monitor.git\nprefix: in\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T15:58:49.73496+01:00","created_by":"mandrigin","updated_at":"2026-01-13T15:58:49.73496+01:00","labels":["gt:rig"]}
{"id":"in-rw4","title":"Phase 11: DateExtractor","description":"dispatched_by: mayor\n\nExtract invoice dates from content:\n- Regex patterns for various date formats (ISO, US, EU, written)\n- Look near 'Invoice Date' / 'Date' labels\n- Sanity check: not future, not \u003e 2 years old\n- Fallback cascade: extracted → file creation → file mod → current\n- Support configurable dateSource setting\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.5","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/cheedo","created_at":"2026-01-13T16:11:19.206837+01:00","created_by":"mayor","updated_at":"2026-01-13T17:06:41.155979+01:00","closed_at":"2026-01-13T17:06:41.155979+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-rw4","depends_on_id":"in-qg3","type":"blocks","created_at":"2026-01-13T16:11:33.393038+01:00","created_by":"mayor"}]}
{"id":"in-xop","title":"Phase 9: InvoiceClassifier","description":"dispatched_by: mayor\n\nImplement invoice detection:\n- Keyword taxonomy with weights (primary, secondary, financial, payment, reference, negative)\n- Structure pattern detection (invoice#, currency, date, tax ID, line items)\n- Combined keyword + structure scoring\n- Normalize to 0.0-1.0 confidence\n- Configurable invoiceConfidenceThreshold (default 0.7)\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.3","status":"closed","priority":2,"issue_type":"task","assignee":"invoices/polecats/toast","created_at":"2026-01-13T16:11:18.795085+01:00","created_by":"mayor","updated_at":"2026-01-13T17:05:59.739638+01:00","closed_at":"2026-01-13T17:05:59.739638+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-xop","depends_on_id":"in-qg3","type":"blocks","created_at":"2026-01-13T16:11:33.2429+01:00","created_by":"mayor"}]}
{"id":"in-xzq","title":"Phase 3: Logger (JSONL)","description":"dispatched_by: mayor\n\nImplement structured logging:\n- JSONL format at ~/Library/Logs/InvoiceFiler/moves.jsonl\n- LogEntry struct with all fields from spec section 3.8\n- Append-only with fflush after each entry\n- Log rotation when file \u003e 10MB\n- Keep last 12 rotated files\n\nReference: /Users/mandrigin/Desktop/invoices-spec.md section 3.8","status":"closed","priority":1,"issue_type":"task","assignee":"invoices/polecats/nux","created_at":"2026-01-13T16:10:55.382987+01:00","created_by":"mayor","updated_at":"2026-01-13T16:25:02.436041+01:00","closed_at":"2026-01-13T16:25:02.436041+01:00","close_reason":"Closed","dependencies":[{"issue_id":"in-xzq","depends_on_id":"in-8f8","type":"blocks","created_at":"2026-01-13T16:11:32.430108+01:00","created_by":"mayor"}]}
