{"id":"in-075","title":"Digest: mol-witness-patrol","description":"Patrol 3: Furiosa creating InvoiceTemplateEditorView UI, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:39:34.652035+01:00","updated_at":"2026-01-18T18:39:34.652035+01:00","closed_at":"2026-01-18T18:39:34.651956+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-07i","title":"Digest: mol-witness-patrol","description":"Patrol 9: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:02.038067+01:00","updated_at":"2026-01-18T18:42:02.038067+01:00","closed_at":"2026-01-18T18:42:02.03801+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-07i","depends_on_id":"in-wisp-9ve","type":"parent-child","created_at":"2026-01-18T18:42:02.038694+01:00","created_by":"invoices/witness"}]}
{"id":"in-0rr","title":"Digest: mol-witness-patrol","description":"Patrol 1: Archived 9 stale POLECAT_DONE msgs, verified furiosa healthy (working on in-rir), no cleanup wisps, no timer gates, no swarms, pinged Deacon","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:37:52.541952+01:00","updated_at":"2026-01-18T18:37:52.541952+01:00","closed_at":"2026-01-18T18:37:52.541666+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-7gh","title":"Digest: mol-witness-patrol","description":"Patrol 8: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:41:40.691436+01:00","updated_at":"2026-01-18T18:41:40.691436+01:00","closed_at":"2026-01-18T18:41:40.691376+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-7gh","depends_on_id":"in-wisp-1m9","type":"parent-child","created_at":"2026-01-18T18:41:40.6921+01:00","created_by":"invoices/witness"}]}
{"id":"in-7lk","title":"Add new Swift files to Xcode project","description":"dispatched_by: mayor\n\nThe new invoice generation files exist but weren't added to the Xcode project.pbxproj:\n\nFiles to add:\n- InvoiceFiler/Models/InvoiceModels.swift\n- InvoiceFiler/Services/BankHolidayService.swift\n- InvoiceFiler/Services/InvoiceScheduler.swift\n- InvoiceFiler/Services/WorkingDayCalculator.swift\n- InvoiceFiler/Views/DraftInvoiceEditorView.swift\n- InvoiceFiler/Views/InvoiceTemplateEditorView.swift\n- InvoiceFiler/Views/InvoicingView.swift\n\nUpdate InvoiceFiler.xcodeproj/project.pbxproj to include these files in the build.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:32:19.133472+01:00","created_by":"mayor","updated_at":"2026-01-18T20:35:45.207546+01:00","closed_at":"2026-01-18T20:35:45.207546+01:00","close_reason":"Merged - 7 Swift files added to project.pbxproj"}
{"id":"in-9t9","title":"Digest: mol-witness-patrol","description":"Patrol 12: Furiosa integrating scheduling into app, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:06.887054+01:00","updated_at":"2026-01-18T18:43:06.887054+01:00","closed_at":"2026-01-18T18:43:06.886882+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-9t9","depends_on_id":"in-wisp-6q4","type":"parent-child","created_at":"2026-01-18T18:43:06.887837+01:00","created_by":"invoices/witness"}]}
{"id":"in-aw2","title":"Digest: mol-witness-patrol","description":"Patrol 2: Furiosa creating InvoiceScheduler, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:38:58.284885+01:00","updated_at":"2026-01-18T18:38:58.284885+01:00","closed_at":"2026-01-18T18:38:58.284823+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-biu","title":"Fix Hashable conformance for invoice models","description":"dispatched_by: mayor\n\nInvoiceTemplate and DraftInvoice need to conform to Hashable for SwiftUI List selection.\n\nErrors:\n- InvoicingView.swift:74 - List init requires InvoiceTemplate conform to Hashable\n- InvoicingView.swift:76 - tag() requires InvoiceTemplate conform to Hashable\n\nFix: Add Hashable conformance to InvoiceTemplate and DraftInvoice in InvoiceModels.swift\n\nSince these structs contain nested types (LineItem, ContactDetails, PaymentTerms, Currency), ensure those also conform to Hashable.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/nux","created_at":"2026-01-18T20:37:16.29484+01:00","created_by":"mayor","updated_at":"2026-01-18T20:40:07.109755+01:00","closed_at":"2026-01-18T20:40:07.109755+01:00","close_reason":"Merged - added Hashable to InvoiceTemplate, DraftInvoice, LineItem, ContactDetails, PaymentTerms"}
{"id":"in-bu6","title":"Digest: mol-witness-patrol","description":"Patrol 11: Furiosa created DraftInvoiceEditorView (548 lines), integrating scheduling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:46.372082+01:00","updated_at":"2026-01-18T18:42:46.372082+01:00","closed_at":"2026-01-18T18:42:46.371914+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-bu6","depends_on_id":"in-wisp-2sr","type":"parent-child","created_at":"2026-01-18T18:42:46.373702+01:00","created_by":"invoices/witness"}]}
{"id":"in-dxp","title":"Digest: mol-witness-patrol","description":"Patrol 4: Furiosa adding scheduling config, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:07.371491+01:00","updated_at":"2026-01-18T18:40:07.371491+01:00","closed_at":"2026-01-18T18:40:07.371429+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-eap","title":"Digest: mol-witness-patrol","description":"Patrol 6: Furiosa creating template editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:55.626458+01:00","updated_at":"2026-01-18T18:40:55.626458+01:00","closed_at":"2026-01-18T18:40:55.626381+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-fj2","title":"Digest: mol-witness-patrol","description":"Patrol 13: Furiosa adding Invoice Management to status menu","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:28.981043+01:00","updated_at":"2026-01-18T18:43:28.981043+01:00","closed_at":"2026-01-18T18:43:28.980984+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-fj2","depends_on_id":"in-wisp-mai","type":"parent-child","created_at":"2026-01-18T18:43:28.981685+01:00","created_by":"invoices/witness"}]}
{"id":"in-fkb","title":"Digest: mol-witness-patrol","description":"Patrol 14: Furiosa integrating scheduler in AppDelegate, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:43:51.814468+01:00","updated_at":"2026-01-18T18:43:51.814468+01:00","closed_at":"2026-01-18T18:43:51.814395+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-gz2","title":"Digest: mol-witness-patrol","description":"Patrol 5: Furiosa creating template editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:40:32.858918+01:00","updated_at":"2026-01-18T18:40:32.858918+01:00","closed_at":"2026-01-18T18:40:32.858857+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-hno","title":"Digest: mol-witness-patrol","description":"Patrol 10: Furiosa creating draft editor UI, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:42:24.109206+01:00","updated_at":"2026-01-18T18:42:24.109206+01:00","closed_at":"2026-01-18T18:42:24.10914+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-hno","depends_on_id":"in-wisp-rhx","type":"parent-child","created_at":"2026-01-18T18:42:24.109914+01:00","created_by":"invoices/witness"}]}
{"id":"in-invoices-crew-mandrigin","title":"Crew worker mandrigin in invoices - human-managed persistent workspace.","description":"Crew worker mandrigin in invoices - human-managed persistent workspace.\n\nrole_type: crew\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:29:01.792944+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:29:01.909181+01:00","labels":["gt:agent"],"role_bead":"hq-crew-role"}
{"id":"in-invoices-polecat-furiosa","title":"in-invoices-polecat-furiosa","description":"in-invoices-polecat-furiosa\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:33:14.2143+01:00","created_by":"mayor","updated_at":"2026-01-18T20:53:12.51229+01:00","closed_at":"2026-01-18T20:45:31.888574+01:00","close_reason":"polecat removed","labels":["gt:agent"],"hook_bead":"in-xo7","role_bead":"hq-polecat-role"}
{"id":"in-invoices-polecat-nux","title":"in-invoices-polecat-nux","description":"in-invoices-polecat-nux\n\nrole_type: polecat\nrig: invoices\nagent_state: closed\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-18T20:37:24.37077+01:00","created_by":"mayor","updated_at":"2026-01-18T20:39:41.033965+01:00","closed_at":"2026-01-18T20:39:41.033965+01:00","close_reason":"polecat removed","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"in-invoices-refinery","title":"Refinery for invoices - processes merge queue.","description":"Refinery for invoices - processes merge queue.\n\nrole_type: refinery\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:28:46.942634+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.063204+01:00","labels":["gt:agent"],"role_bead":"hq-refinery-role"}
{"id":"in-invoices-witness","title":"Witness for invoices - monitors polecat health and progress.","description":"Witness for invoices - monitors polecat health and progress.\n\nrole_type: witness\nrig: invoices\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-18T18:28:46.459436+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:46.657943+01:00","labels":["gt:agent"],"role_bead":"hq-witness-role"}
{"id":"in-mfo","title":"Digest: mol-witness-patrol","description":"Patrol 7: Furiosa created InvoiceTemplateEditorView (535 lines), healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:41:18.448364+01:00","updated_at":"2026-01-18T18:41:18.448364+01:00","closed_at":"2026-01-18T18:41:18.448299+01:00","close_reason":"Squashed from 10 wisps"}
{"id":"in-rig-invoices","title":"invoices","description":"Rig identity bead for invoices.\n\nrepo: git@github.com:mandrigin/invoice-monitor.git\nprefix: in\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-18T18:28:47.851328+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.851328+01:00","labels":["gt:rig"]}
{"id":"in-rir","title":"Calendar-based invoice generation with bank holiday awareness","description":"Add invoice generation scheduling that calculates when to generate an invoice based on:\n\n1. Invoice due date\n2. Minus 'days to pay' (payment terms)  \n3. Adjusted for bank holidays of BOTH sender and recipient countries\n\n**Design decisions:**\n- Bank holiday data: External API (e.g., Nager.Date API)\n- Auto-generation mode: Draft creation (auto-create draft invoice, user reviews/sends)\n\n**Components needed:**\n- Bank holiday service (fetch from external API, cache locally)\n- Working day calculator (skip weekends + holidays)\n- Invoice generation scheduler model\n- Configuration: payment terms per company, sender/recipient country\n- Draft invoice creation with notification to user\n\n**Invoice Template UI (recurring setup):**\n- UI for setting recurring invoice content (same each month):\n  - Line items (description, quantity, rate)\n  - Currency selection (support multiple currencies)\n  - Client/recipient details\n  - Payment terms\n  - Sender details\n- Templates saved per client/company\n- Assumption: invoice content is consistent month-to-month, template-based\n\n**Draft Invoice Editor UI:**\n- UI to edit generated draft invoices before finalizing\n- Modify any field (line items, amounts, dates, notes)\n- Preview rendered invoice\n- Approve/send or save for later\n\nThis is a proactive generation system (calendar → generate) separate from the existing reactive filing system (file arrives → organize).","status":"closed","priority":2,"issue_type":"feature","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T18:32:10.076843+01:00","created_by":"mayor","updated_at":"2026-01-18T18:45:53.361827+01:00","closed_at":"2026-01-18T18:45:53.361827+01:00","close_reason":"Closed"}
{"id":"in-s21","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.431464+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.431464+01:00"}
{"id":"in-su5","title":"Add missing UserNotifications import to InvoiceScheduler","description":"dispatched_by: mayor\n\nInvoiceScheduler.swift has a NotificationManager extension that uses UserNotifications types but missing the import.\n\nErrors:\n- cannot find 'UNMutableNotificationContent' in scope\n- cannot find 'UNNotificationRequest' in scope\n- cannot find 'UNUserNotificationCenter' in scope\n\nFix: Add 'import UserNotifications' at top of InvoiceScheduler.swift","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:43:13.524953+01:00","created_by":"mayor","updated_at":"2026-01-18T20:46:13.399592+01:00","closed_at":"2026-01-18T20:46:13.399592+01:00","close_reason":"Merged - added import UserNotifications, build succeeds"}
{"id":"in-vx2","title":"Digest: mol-witness-patrol","description":"Patrol 15: Furiosa verifying build compiles, nearing completion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:44:16.010679+01:00","updated_at":"2026-01-18T18:44:16.010679+01:00","closed_at":"2026-01-18T18:44:16.010609+01:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"in-vx2","depends_on_id":"in-wisp-dcy","type":"parent-child","created_at":"2026-01-18T18:44:16.011385+01:00","created_by":"invoices/witness"}]}
{"id":"in-xht","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.263956+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.263956+01:00"}
{"id":"in-xo7","title":"Fix invoice template UI issues","description":"dispatched_by: mayor\n\nMultiple issues with invoice template editor:\n\n1. Norway (NO) missing from country picker - need to add it\n2. 'Select a client' dropdown shows nothing - the picker uses configManager.companies but this may be empty or not loading correctly. Need to either:\n   - Allow adding companies from the template editor, OR\n   - Show helpful message when no companies configured\n3. Can't save template - the Save button may be disabled due to validation (isValid check) or other issue\n\nInvestigate and fix all three issues.","status":"closed","priority":1,"issue_type":"bug","assignee":"invoices/polecats/furiosa","created_at":"2026-01-18T20:51:40.275176+01:00","created_by":"mayor","updated_at":"2026-01-18T20:56:25.56632+01:00","closed_at":"2026-01-18T20:56:25.56632+01:00","close_reason":"Fixed: Norway added, client now optional, message shown when no companies"}
{"id":"in-xp5","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-18T18:28:47.649112+01:00","created_by":"mandrigin","updated_at":"2026-01-18T18:28:47.649112+01:00"}
